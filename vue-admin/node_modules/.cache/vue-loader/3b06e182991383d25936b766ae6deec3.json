{"remainingRequest":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\components\\Media.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\components\\Media.vue","mtime":1650964597000},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652081880827},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1652081856293},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652081880827},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1652081880134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWVkaWEiLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHR5cGVEYXRhOiB7CiAgICAgICAgaW1hZ2U6IFsiLmpwZWciLCAiLmpwZyIsICIucG5nIiwgIi5naWYiXSwKICAgICAgICBhdWRpbzogWyIubXAzIiwgIi53YXYiLCAiLm9nYSJdLAogICAgICAgIHZpZGVvOiBbIi53ZWJtIiwgIi5tcDQiLCAiLm00diIsICIub2dnIiwgIi5vZ3YiLCAiLm1vdiJdLAogICAgICB9LAogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJywKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycsCiAgICB9LAogICAgLy8g5Y+v6YCJ77ya5piv5ZCm6aKE6KeICiAgICBpc1ByZXZpZXc6IHsKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKHsgY29uZmlnOiAoc3RhdGUpID0+IHN0YXRlLnVzZXIuY29uZmlnIH0pLAogICAgbWVkaWFVcmwgKCkgewogICAgICBpZiAodGhpcy51cmwuc3RhcnRzV2l0aCgiaXBmcyIsIDApKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudXJsLnJlcGxhY2UoImlwZnM6Ly8iLCB0aGlzLmNvbmZpZy5pcGZzVXJsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy51cmw7CiAgICAgIH0KICAgIH0sCiAgICBtZWRpYVR5cGUgKCkgewogICAgICBpZih0aGlzLnR5cGUpewogICAgICAgIHJldHVybiB0aGlzLnR5cGUuc3BsaXQoJy8nKVswXTsKICAgICAgfQogICAgICBpZih0aGlzLiR0b29sLmlzQXVkaW9VcmwodGhpcy51cmwpKSByZXR1cm4gImF1ZGlvIjsKICAgICAgaWYodGhpcy4kdG9vbC5pc1ZpZGVvVXJsKHRoaXMudXJsKSkgcmV0dXJuICJ2aWRlbyI7CiAgICAgIHJldHVybiAiaW1hZ2UiOwogICAgfSwKICAgIHNyY0xpc3QgKCkgewogICAgICByZXR1cm4gdGhpcy5pc1ByZXZpZXcgPyBbdGhpcy5tZWRpYVVybF0gOiBbXTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Media.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Media.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"il-media\">\n    <template v-if=\"mediaType === 'image'\">\n      <el-image style=\"width: 100px; height: 100px\" :src=\"mediaUrl\" :preview-src-list=\"srcList\">\n      </el-image>\n    </template>\n    <template v-else>\n      <audio v-if=\"mediaType === 'audio'\" :src=\"mediaUrl\" controls></audio>\n      <div class=\"video-wrap\" v-if=\"mediaType === 'video'\">\n        <video :src=\"mediaUrl\" :width=\"isPreview ? '80%' : '200px'\" :controls=\"isPreview ? 'controls' : ''\"></video>\n        <div @click=\"dialogVisible=true\" v-if=\"isPreview\" class=\"video-btn\"></div>\n      </div>\n    </template>\n    <el-dialog :visible.sync=\"dialogVisible\" class=\"media-dialog\">\n      <video :src=\"mediaUrl\" width=\"100%\" controls></video>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import { mapState } from \"vuex\";\n  export default {\n    name: \"Media\",\n    data () {\n      return {\n        dialogVisible: false,\n        typeData: {\n          image: [\".jpeg\", \".jpg\", \".png\", \".gif\"],\n          audio: [\".mp3\", \".wav\", \".oga\"],\n          video: [\".webm\", \".mp4\", \".m4v\", \".ogg\", \".ogv\", \".mov\"],\n        },\n      };\n    },\n    props: {\n      url: {\n        type: String,\n        default: '',\n      },\n      type: {\n        type: String,\n        default: '',\n      },\n      // 可选：是否预览\n      isPreview: {\n        default: false,\n      },\n    },\n    computed: {\n      ...mapState({ config: (state) => state.user.config }),\n      mediaUrl () {\n        if (this.url.startsWith(\"ipfs\", 0)) {\n          return this.url.replace(\"ipfs://\", this.config.ipfsUrl);\n        } else {\n          return this.url;\n        }\n      },\n      mediaType () {\n        if(this.type){\n          return this.type.split('/')[0];\n        }\n        if(this.$tool.isAudioUrl(this.url)) return \"audio\";\n        if(this.$tool.isVideoUrl(this.url)) return \"video\";\n        return \"image\";\n      },\n      srcList () {\n        return this.isPreview ? [this.mediaUrl] : [];\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n  table audio {\n    width: 80%;\n  }\n  .il-media:hover {\n    cursor: pointer;\n  }\n  .video-wrap {\n    position: relative;\n  }\n  .video-btn {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n</style>\n\n"]}]}