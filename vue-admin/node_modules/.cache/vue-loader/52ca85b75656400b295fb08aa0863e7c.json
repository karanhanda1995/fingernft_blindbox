{"remainingRequest":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\views\\blindBoxManagement\\nftManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\views\\blindBoxManagement\\nftManagement.vue","mtime":1650964597000},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652081880827},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1652081856293},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652081880827},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1652081880134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIkAvY29tcG9uZW50cy9QYWdpbmF0aW9uIjsKaW1wb3J0IE1lZGlhIGZyb20gIkAvY29tcG9uZW50cy9NZWRpYSI7CmltcG9ydCBVcGxvYWRVbml0IGZyb20gIkAvY29tcG9uZW50cy9VcGxvYWQudnVlIgpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAibmZ0IiwKCWNvbXBvbmVudHM6IHsgUGFnaW5hdGlvbiwgTWVkaWEsIFVwbG9hZFVuaXQgfSwKCWRhdGEgKCkgewoJCXJldHVybiB7CgkJCWxpc3RMb2FkaW5nOiB0cnVlLAoJCQlhcGlMb2FkaW5nOiBmYWxzZSwKCQkJbGlzdDogW10sCgkJCXRvdGFsOiAwLAoJCQlsaXN0UXVlcnk6IHsKCQkJCXBhZ2U6IDEsCgkJCQlsaW1pdDogMTAsCgkJCQluYW1lOiAiIiwKCQkJfSwKCQkJLy8g5by55Ye65qGGCgkJCWRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKCQkJZGlhbG9nU3RhdHVzOiAiIiwKCQkJZGVsSWQ6ICIiLAoJCQkvLyAgIOihqOWNlQoJCQlmb3JtRGF0YTogewoJCQkJYWRkcmVzczogIiIsCgkJCQluYW1lOiAiIiwKCQkJCWRlc2NyaXB0aW9uOiAiIiwKCQkJCXN0b3JhZ2VJZDogIiIsCgkJCQlpbWdVcmw6ICIiLAoJCQkJYW5pbVN0b3JhZ2VJZDogIiIsCgkJCQlhbmltVXJsOiAiIiwKCQkJCXZpZGVvVHlwZTogIiIsCgkJCQlwcm9wZXJ0aWVzOiBbeyBrZXk6ICIiLCB2YWx1ZTogIiIgfV0sCgkJCX0sCgkJCXJ1bGVzOiB7CgkJCQlhZGRyZXNzOiB7CgkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJbWVzc2FnZTogdGhpcy4kdCgiYmxpbmQubmZ0LmVtcHR5VHlwZSIpLAoJCQkJCXRyaWdnZXI6ICJjaGFuZ2UiLAoJCQkJfSwKCQkJCWltZ1VybDogewoJCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJCW1lc3NhZ2U6IHRoaXMuJHQoImJsaW5kLm5mdC5lbXB0eVBpY3R1cmUiKSwKCQkJCQl0cmlnZ2VyOiAiYmx1ciIsCgkJCQl9LAoJCQl9LAoJCQkvLyDkuIrkvKAKCQkJZmlsZUltYWdlOiAiIiwKCQkJZmlsZVZpZGVvOiAiIiwKCQkJZmlsZUxpc3RJbWFnZTogW10sCgkJCWZpbGVMaXN0VmlkZW86IFtdLAoJCX07Cgl9LAoJY29tcHV0ZWQ6IHsKCQlibGluZFR5cGVzICgpIHsKCQkJcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuYmxpbmRUeXBlczsKCQl9LAoJCWRpYWxvZ1RpdGxlICgpIHsKCQkJbGV0IGRpYWxvZ1RpdGxlID0gIiI7CgkJCXN3aXRjaCAodGhpcy5kaWFsb2dTdGF0dXMpIHsKCQkJCWNhc2UgImFkZCI6CgkJCQkJZGlhbG9nVGl0bGUgPSB0aGlzLiR0KCJibGluZC5hZGQiKTsKCQkJCQlicmVhazsKCQkJCWNhc2UgImVkaXQiOgoJCQkJCWRpYWxvZ1RpdGxlID0gdGhpcy4kdCgiYmxpbmQuZWRpdCIpOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAiZGVsIjoKCQkJCQlkaWFsb2dUaXRsZSA9IHRoaXMuJHQoImJsaW5kLmRlbGV0ZSIpOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAic3luYyI6CgkJCQkJZGlhbG9nVGl0bGUgPSB0aGlzLiR0KCJibGluZC5zeW5jIik7CgkJCQkJYnJlYWs7CgkJCQlkZWZhdWx0OgoJCQkJCWJyZWFrOwoJCQl9CgkJCXJldHVybiBkaWFsb2dUaXRsZTsKCQl9LAoJCWJsaW5kVHlwZU5hbWUgKCkgewoJCQlyZXR1cm4gZnVuY3Rpb24gKGFkZHJlc3MpIHsKCQkJCWZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmJsaW5kVHlwZXMubGVuZ3RoO2kgPCBsZW47aSsrKSB7CgkJCQkJaWYgKHRoaXMuYmxpbmRUeXBlc1tpXS5hZGRyZXNzID09PSBhZGRyZXNzKQoJCQkJCQlyZXR1cm4gdGhpcy5ibGluZFR5cGVzW2ldLm5hbWU7CgkJCQl9CgkJCX07CgkJfSwKCX0sCgljcmVhdGVkICgpIHsKCQl0aGlzLmdldExpc3QoKTsKCX0sCgltZXRob2RzOiB7CgkJZ2V0TGlzdCAoKSB7CgkJCXRoaXMubGlzdExvYWRpbmcgPSB0cnVlOwoJCQl0aGlzLiRhcGkoImJsaW5kLm5mdC5saXN0IiwgdGhpcy5saXN0UXVlcnkpCgkJCQkudGhlbigocmVzKSA9PiB7CgkJCQkJdGhpcy5mb3JtYXREYXRhKHJlcy5kYXRhLmxpc3QpOwoJCQkJCXRoaXMubGlzdCA9IHJlcy5kYXRhLmxpc3Q7CgkJCQkJdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwoJCQkJCXRoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKCQkJCX0pCgkJCQkuY2F0Y2goKGVycikgPT4gewoJCQkJCXRoaXMubGlzdCA9IFtdOwoJCQkJCXRoaXMudG90YWwgPSAwOwoJCQkJCXRoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKCQkJCX0pOwoJCX0sCgkJdXBkYXRlTmZ0SW1nIChmaWxlKSB7CgkJCXRoaXMuZm9ybURhdGEuaW1nVXJsID0gZmlsZQoJCQl0aGlzLmZpbGVJbWFnZSA9IGZpbGUKCQl9LAoJCXVwZGF0ZU5mdEdpZiAoZmlsZSkgewoJCQl0aGlzLmZvcm1EYXRhLmFuaW1VcmwgPSBmaWxlCgkJCXRoaXMuZmlsZVZpZGVvID0gZmlsZQoJCX0sCgkJZm9ybWF0RGF0YSAoZGF0YSkgewoJCQlmb3IgKGxldCBpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7aSA8IGxlbjtpKyspIHsKCQkJCWlmIChkYXRhW2ldLm1ldGFkYXRhQ29udGVudCkgewoJCQkJCWRhdGFbaV0ubWV0YWRhdGFDb250ZW50ID0gSlNPTi5wYXJzZShkYXRhW2ldLm1ldGFkYXRhQ29udGVudCk7CgkJCQl9IGVsc2UgewoJCQkJCWRhdGFbaV0ubWV0YWRhdGFDb250ZW50ID0geyBpbWFnZTogIiIsIGFuaW1hdGlvbl91cmw6ICIiIH07CgkJCQl9CgkJCX0KCQl9LAoJCXJlc2V0Rm9ybSAoKSB7CgkJCXRoaXMuZm9ybURhdGEgPSB7CgkJCQlhZGRyZXNzOiAiIiwKCQkJCW5hbWU6ICIiLAoJCQkJZGVzY3JpcHRpb246ICIiLAoJCQkJc3RvcmFnZUlkOiAiIiwKCQkJCWltZ1VybDogIiIsCgkJCQlhbmltU3RvcmFnZUlkOiAiIiwKCQkJCWFuaW1Vcmw6ICIiLAoJCQkJdmlkZW9UeXBlOiAiIiwKCQkJCXByb3BlcnRpZXM6IFt7IGtleTogIiIsIHZhbHVlOiAiIiB9XSwKCQkJfTsKCQkJdGhpcy5maWxlSW1hZ2UgPSAiIjsKCQkJdGhpcy5maWxlVmlkZW8gPSAiIjsKCQl9LAoJCS8vIGhhbmRsZXItLXByb3BlcnR5CgkJcHJvcGVydHlJbnB1dCAoZSkgewoJCQlsZXQgZW1wdHlDID0gMDsKCQkJZm9yICh2YXIgaSA9IDA7aSA8IHRoaXMuZm9ybURhdGEucHJvcGVydGllcy5sZW5ndGg7aSsrKSB7CgkJCQl2YXIgcHJvcGVydHkgPSB0aGlzLmZvcm1EYXRhLnByb3BlcnRpZXNbaV07CgkJCQlpZiAoIXByb3BlcnR5LmtleSB8fCAhcHJvcGVydHkudmFsdWUpIGVtcHR5QyArPSAxOwoJCQl9CgkJCWlmIChlbXB0eUMgIT0gMSkgewoJCQkJdGhpcy5mb3JtRGF0YS5wcm9wZXJ0aWVzID0gdGhpcy5mb3JtRGF0YS5wcm9wZXJ0aWVzLmZpbHRlcihmdW5jdGlvbiAoCgkJCQkJcHJvcGVydHkKCQkJCSkgewoJCQkJCXJldHVybiBwcm9wZXJ0eS5rZXkgfHwgcHJvcGVydHkudmFsdWU7CgkJCQl9KTsKCQkJCXRoaXMuZm9ybURhdGEucHJvcGVydGllcy5wdXNoKHsga2V5OiAiIiwgdmFsdWU6ICIiIH0pOwoJCQl9CgkJCXRoaXMuZm9ybURhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybURhdGEpKTsKCQl9LAoJCWZ1bGxQcm9wZXJ0aWVzIChwcm9wZXJ0aWVzKSB7CgkJCXZhciBfcHJvcGVydGllcyA9IFtdOwoJCQlmb3IgKHZhciBpID0gMDtpIDwgcHJvcGVydGllcy5sZW5ndGg7aSsrKSB7CgkJCQl2YXIga2V5ID0gcHJvcGVydGllc1tpXS5rZXkudHJpbSgpOwoJCQkJdmFyIHZhbHVlID0gcHJvcGVydGllc1tpXS52YWx1ZS50cmltKCk7CgkJCQlpZiAoIWtleSB8fCAhdmFsdWUpIGNvbnRpbnVlOwoJCQkJdmFyIHRyYWl0X3R5cGUgPSBrZXk7CgkJCQlfcHJvcGVydGllcy5wdXNoKHsga2V5LCB2YWx1ZSwgdHJhaXRfdHlwZSB9KTsKCQkJfQoJCQlyZXR1cm4gX3Byb3BlcnRpZXM7CgkJfSwKCQkvLyDlm77niYfmlLnlj5gKCQl1cGxvYWRDaGFuZ2UgKGZpbGVzLCB1cGxvYWRUeXBlKSB7CgkJCWlmICh1cGxvYWRUeXBlID09PSAidXBsb2FkSW1hZ2UiKSB7CgkJCQl0aGlzLmZpbGVMaXN0SW1hZ2UgPSBbXTsKCQkJCXRoaXMuZmlsZUltYWdlID0gZmlsZXMucmF3OwoJCQl9CgkJCWlmICh1cGxvYWRUeXBlID09PSAidXBsb2FkVmlkZW8iKSB7CgkJCQl0aGlzLmZpbGVMaXN0VmlkZW8gPSBbXTsKCQkJCXRoaXMuZmlsZVZpZGVvID0gZmlsZXMucmF3OwoJCQl9CgkJCXZhciBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDsKCQkJdmFyIGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CgkJCXZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoJCQl2YXIgX3RoaXMgPSB0aGlzOwoJCQlyZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKCQkJCWlmICh1cGxvYWRUeXBlID09PSAidXBsb2FkSW1hZ2UiKSB7CgkJCQkJX3RoaXMuZm9ybURhdGEuaW1nVXJsID0gZS50YXJnZXQucmVzdWx0OwoJCQkJfQoJCQkJaWYgKHVwbG9hZFR5cGUgPT09ICJ1cGxvYWRWaWRlbyIpIHsKCQkJCQlfdGhpcy5mb3JtRGF0YS5hbmltVXJsID0gZS50YXJnZXQucmVzdWx0OwoJCQkJCV90aGlzLmZvcm1EYXRhLnZpZGVvVHlwZSA9IGZpbGUudHlwZTsKCQkJCX0KCQkJfTsKCQkJcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CgkJfSwKCQloYW5kbGVyVXBsb2FkSW1hZ2UgKCkgewoJCQlyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewoJCQkJbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CgkJCQlmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCB0aGlzLmZpbGVJbWFnZSk7CgkJCQlmb3JtRGF0YS5hcHBlbmQoImZsYWciLCAiaXBmcyIpOwoJCQkJdGhpcy4kYXBpKCJzdG9yYWdlLmNyZWF0ZSIsIGZvcm1EYXRhKQoJCQkJCS50aGVuKChyZXMpID0+IHsKCQkJCQkJaWYgKHRoaXMuJHRvb2wuY2hlY2tSZXNwb25zZShyZXMpKSB7CgkJCQkJCQlyZXNvbHZlKHJlcy5kYXRhKTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCXJlamVjdChyZXMpOwoJCQkJCQl9CgkJCQkJfSkKCQkJCQkuY2F0Y2goKGVycikgPT4gewoJCQkJCQlyZWplY3QoZXJyKTsKCQkJCQl9KTsKCQkJfSk7CgkJfSwKCQloYW5kbGVyVXBsb2FkVmlkZW8gKCkgewoJCQlyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewoJCQkJbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CgkJCQlmb3JtRGF0YS5hcHBlbmQoImZpbGVzIiwgdGhpcy5maWxlVmlkZW8pOwoJCQkJZm9ybURhdGEuYXBwZW5kKCJmaWxlcyIsIHRoaXMuZmlsZUltYWdlKTsKCQkJCXRoaXMuJGFwaSgic3RvcmFnZS5tdWx0aXVwbG9hZCIsIGZvcm1EYXRhKQoJCQkJCS50aGVuKChyZXMpID0+IHsKCQkJCQkJaWYgKHRoaXMuJHRvb2wuY2hlY2tSZXNwb25zZShyZXMpKSB7CgkJCQkJCQlyZXNvbHZlKHJlcy5kYXRhKTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCXJlamVjdChyZXMpOwoJCQkJCQl9CgkJCQkJfSkKCQkJCQkuY2F0Y2goKGVycikgPT4gewoJCQkJCQlyZWplY3QoZXJyKTsKCQkJCQl9KTsKCQkJfSk7CgkJfSwKCQkvLyDooajljZXmlbDmja7lop7jgIHliKDjgIHmlLnjgIHmn6UKCQlhZGREYXRhICgpIHsKCQkJdGhpcy4kcmVmc1siZm9ybURhdGEiXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKCQkJCWlmICh2YWxpZCAmJiAhdGhpcy5hcGlMb2FkaW5nKSB7CgkJCQkJdGhpcy5hcGlMb2FkaW5nID0gdHJ1ZTsKCQkJCQlsZXQgcHJvbWlzZUFyciA9IFtdOwoJCQkJCWlmICh0aGlzLmZpbGVWaWRlbykgewoJCQkJCQlwcm9taXNlQXJyID0gW3RoaXMuaGFuZGxlclVwbG9hZFZpZGVvKCldOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXByb21pc2VBcnIgPSBbdGhpcy5oYW5kbGVyVXBsb2FkSW1hZ2UoKV07CgkJCQkJfQoJCQkJCVByb21pc2UuYWxsKHByb21pc2VBcnIpCgkJCQkJCS50aGVuKChyZXMpID0+IHsKCQkJCQkJCXRoaXMuYWRkRm9ybShyZXMpOwoJCQkJCQl9KQoJCQkJCQkuY2F0Y2goKGVycikgPT4gewoJCQkJCQkJdGhpcy5mYWlsQ2FsbGJhY2soKTsKCQkJCQkJfSk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJYWRkRm9ybSAoZmlsZURhdGEpIHsKCQkJbGV0IHsKCQkJCWFkZHJlc3MsCgkJCQluYW1lLAoJCQkJZGVzY3JpcHRpb24sCgkJCQlzdG9yYWdlSWQsCgkJCQlpbWdVcmwsCgkJCQlhbmltU3RvcmFnZUlkLAoJCQkJYW5pbVVybCwKCQkJCXZpZGVvVHlwZSwKCQkJCXByb3BlcnRpZXMsCgkJCX0gPSB0aGlzLmZvcm1EYXRhOwoJCQlpZiAoZmlsZURhdGEpIHsKCQkJCXN0b3JhZ2VJZCA9IHRoaXMuZmlsZVZpZGVvID8gZmlsZURhdGFbMF1bMV0uaWQgOiBmaWxlRGF0YVswXS5pZDsKCQkJCWltZ1VybCA9IHRoaXMuZmlsZVZpZGVvCgkJCQkJPyBmaWxlRGF0YVswXVsxXS5pcGZzaGFzaAoJCQkJCTogZmlsZURhdGFbMF0uaXBmc2hhc2g7CgkJCQlhbmltU3RvcmFnZUlkID0gdGhpcy5maWxlVmlkZW8gPyBmaWxlRGF0YVswXVswXS5pZCA6ICIiOwoJCQkJYW5pbVVybCA9IHRoaXMuZmlsZVZpZGVvID8gZmlsZURhdGFbMF1bMF0uaXBmc2hhc2ggOiAiIjsKCQkJCXZpZGVvVHlwZSA9IHRoaXMuZmlsZVZpZGVvID8gZmlsZURhdGFbMF1bMF0udHlwZSA6ICIiOwoJCQl9IGVsc2UgewoJCQkJc3RvcmFnZUlkID0gaW1nVXJsID0gYW5pbVN0b3JhZ2VJZCA9IGFuaW1VcmwgPSB2aWRlb1R5cGUgPSAiIjsKCQkJfQoJCQlsZXQgcHJvcGVydHlzID0gdGhpcy5mdWxsUHJvcGVydGllcyhwcm9wZXJ0aWVzKTsKCQkJcHJvcGVydHlzID0gSlNPTi5zdHJpbmdpZnkocHJvcGVydHlzKTsKCQkJbGV0IHNlbmREYXRhID0gewoJCQkJYWRkcmVzcywKCQkJCW5hbWUsCgkJCQlkZXNjcmlwdGlvbiwKCQkJCXR5cGU6IDUsCgkJCQlzdG9yYWdlSWQsCgkJCQlpbWdVcmwsCgkJCQlhbmltU3RvcmFnZUlkLAoJCQkJYW5pbVVybCwKCQkJCXZpZGVvVHlwZSwKCQkJCXByb3BlcnR5cywKCQkJfTsKCQkJdGhpcy4kYXBpKCJibGluZC5uZnQuYWRkIiwgc2VuZERhdGEpCgkJCQkudGhlbigocmVzKSA9PiB7CgkJCQkJaWYgKHRoaXMuJHRvb2wuY2hlY2tSZXNwb25zZShyZXMpKSB7CgkJCQkJCXRoaXMuc3VjY2Vzc0NhbGxiYWNrKCk7CgkJCQkJCXRoaXMuZ2V0TGlzdCgpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXRoaXMuZmFpbENhbGxiYWNrKCk7CgkJCQkJfQoJCQkJfSkKCQkJCS5jYXRjaCgoZXJyKSA9PiB7CgkJCQkJdGhpcy5mYWlsQ2FsbGJhY2soZXJyKTsKCQkJCX0pOwoJCX0sCgkJZGVsRGF0YSAoKSB7CgkJCWlmICghdGhpcy5hcGlMb2FkaW5nKSB7CgkJCQl0aGlzLmFwaUxvYWRpbmcgPSB0cnVlOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuOwoJCQl9CgkJCXRoaXMuJGFwaSgiYmxpbmQubmZ0LmRlbGV0ZWQiLCB7IGlkOiB0aGlzLmRlbElkIH0pCgkJCQkudGhlbigocmVzKSA9PiB7CgkJCQkJaWYgKHRoaXMuJHRvb2wuY2hlY2tSZXNwb25zZShyZXMpKSB7CgkJCQkJCXRoaXMuc3VjY2Vzc0NhbGxiYWNrKCk7CgkJCQkJCWxldCB7IHBhZ2UsIGxpbWl0IH0gPSB0aGlzLmxpc3RRdWVyeTsKCQkJCQkJaWYgKHBhZ2UgPiAxICYmIHRoaXMudG90YWwgLSAxIC0gKHBhZ2UgLSAxKSAqIGxpbWl0IDw9IDApIHsKCQkJCQkJCXRoaXMubGlzdFF1ZXJ5LnBhZ2UgLT0gMTsKCQkJCQkJfQoJCQkJCQl0aGlzLnRvdGFsIC09IDE7CgkJCQkJCXRoaXMuZ2V0TGlzdCgpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXRoaXMuZmFpbENhbGxiYWNrKCk7CgkJCQkJfQoJCQkJfSkKCQkJCS5jYXRjaCgoZXJyKSA9PiB7CgkJCQkJdGhpcy5mYWlsQ2FsbGJhY2soZXJyKTsKCQkJCX0pOwoJCX0sCgkJaGFuZGxlckZpbHRlciAoKSB7CgkJCXRoaXMubGlzdFF1ZXJ5LnBhZ2UgPSAxOwoJCQl0aGlzLmdldExpc3QoKTsKCQl9LAoJCS8qCgkJICog5oyJ6ZKu5omn6KGM5by556qXCgkJICogI2hhbmRsZXJCdG4KCQkgKi8KCQloYW5kbGVyQnRuIChidG5UeXBlLCByb3cgPSB7fSkgewoJCQlzd2l0Y2ggKGJ0blR5cGUpIHsKCQkJCWNhc2UgImFkZCI6CgkJCQkJdGhpcy5yZXNldEZvcm0oKTsKCQkJCQl0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CgkJCQkJCXRoaXMuJHJlZnNbImZvcm1EYXRhIl0KCQkJCQkJCT8gdGhpcy4kcmVmc1siZm9ybURhdGEiXS5jbGVhclZhbGlkYXRlKCkKCQkJCQkJCTogIiI7CgkJCQkJfSk7CgkJCQkJYnJlYWs7CgkJCQljYXNlICJkZWwiOgoJCQkJCXRoaXMuZGVsSWQgPSByb3cuaWQ7CgkJCQkJYnJlYWs7CgkJCQlkZWZhdWx0OgoJCQkJCWJyZWFrOwoJCQl9CgkJCXRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwoJCQl0aGlzLmRpYWxvZ1N0YXR1cyA9IGJ0blR5cGU7CgkJfSwKCQkvLyDnoa7lrprmjInpkq7lm57osIMKCQloYW5kbGVyQ29uZmlybSAoKSB7CgkJCXN3aXRjaCAodGhpcy5kaWFsb2dTdGF0dXMpIHsKCQkJCWNhc2UgImFkZCI6CgkJCQkJdGhpcy5hZGREYXRhKCk7CgkJCQkJYnJlYWs7CgkJCQljYXNlICJlZGl0IjoKCQkJCQl0aGlzLmVkaXREYXRhKCk7CgkJCQkJYnJlYWs7CgkJCQljYXNlICJkZWwiOgoJCQkJCXRoaXMuZGVsRGF0YSgpOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAic3luYyI6CgkJCQkJdGhpcy5zeW5jRGF0YSgpOwoJCQkJCWJyZWFrOwoJCQkJZGVmYXVsdDoKCQkJCQlicmVhazsKCQkJfQoJCX0sCgkJLy8g5Y+W5raI5oyJ6ZKu5Zue6LCDCgkJaGFuZGxlckNhbmNlbCAoKSB7CgkJCXRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKCQl9LAoJCS8vIOivt+axguaIkOWKn+WbnuiwgwoJCXN1Y2Nlc3NDYWxsYmFjayAoKSB7CgkJCXRoaXMuJG5vdGlmeS5zdWNjZXNzKHsKCQkJCXRpdGxlOiB0aGlzLiR0KCJibGluZC5zdWNjZXNzIiksCgkJCQltZXNzYWdlOiB0aGlzLiR0KCJibGluZC5tZXNzYWdlU3VjY2VzcyIpLAoJCQl9KTsKCQkJdGhpcy5oYW5kbGVyQ2FuY2VsKCk7CgkJCXRoaXMuYXBpTG9hZGluZyA9IGZhbHNlOwoJCX0sCgkJLy8g6K+35rGC5aSx6LSl5Zue6LCDCgkJZmFpbENhbGxiYWNrIChlcnIpIHsKCQkJdGhpcy5hcGlMb2FkaW5nID0gZmFsc2U7CgkJCXRoaXMuJG5vdGlmeS5lcnJvcih7CgkJCQl0aXRsZTogdGhpcy4kdCgiYmxpbmQuZmFpbCIpLAoJCQkJbWVzc2FnZTogZXJyCgkJCQkJPyB0aGlzLiR0KCJyZXNwb25zZS4iICsgZXJyLmRhdGEgPyBlcnIuZGF0YS5lcnJubyA6ICIiKQoJCQkJCTogdGhpcy4kdCgiYmxpbmQubWVzc2FnZUZhaWwiKSwKCQkJfSk7CgkJCWlmICh0aGlzLmRpYWxvZ1N0YXR1cyA9PSAiZGVsIikgewoJCQkJdGhpcy5oYW5kbGVyQ2FuY2VsKCk7CgkJCX0KCQl9LAoJfSwKfTsK"},{"version":3,"sources":["nftManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nftManagement.vue","sourceRoot":"src/views/blindBoxManagement","sourcesContent":["<template>\n\t<div class=\"app-container\">\n\t\t<div class=\"filter-container\">\n\t\t\t<el-input v-model=\"listQuery.name\" clearable class=\"filter-item w-200 mr-10\" :placeholder=\"$t('blind.placeholder')\" />\n\t\t\t<el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handlerFilter\">{{ $t(\"blind.select\") }}</el-button>\n\t\t\t<el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-edit\" v-permission=\"['POST /admin/blind/nft/add']\" @click.native.prevent=\"handlerBtn('add')\">{{ $t(\"blind.add\") }}</el-button>\n\t\t</div>\n\t\t<!-- 表格 -->\n\t\t<el-table v-loading=\"listLoading\" :data=\"list\" :element-loading-text=\"$t('util.loadingText')\" border>\n\t\t\t<el-table-column type=\"expand\">\n\t\t\t\t<template slot-scope=\"props\">\n\t\t\t\t\t<el-form label-position=\"left\" inline class=\"table-expand\">\n\t\t\t\t\t\t<el-form-item :label=\"$t('blind.nft.blindType')\">\n\t\t\t\t\t\t\t<span>{{ blindTypeName(props.row.address) }}</span>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item :label=\"$t('blind.nft.property')\">\n\t\t\t\t\t\t\t<span>{{ props.row.propertys }}</span>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item :label=\"$t('blind.nft.brief')\">\n\t\t\t\t\t\t\t<span>{{ props.row.description }}</span>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item :label=\"$t('blind.nft.address')\">\n\t\t\t\t\t\t\t<span>{{ props.row.address }}</span>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item :label=\"$t('blind.nft.tokenId')\">\n\t\t\t\t\t\t\t<span>{{ props.row.tokenId }}</span>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-form>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column align=\"center\" label=\"ID\" prop=\"id\" sortable></el-table-column>\n\t\t\t<el-table-column align=\"center\" :label=\"$t('blind.nft.name')\" prop=\"name\"></el-table-column>\n\t\t\t<el-table-column align=\"center\" :label=\"$t('blind.nft.picture')\" prop=\"metadataContent\" width=\"200px\">\n\t\t\t\t<template slot-scope=\"scope\" v-if=\"scope.row.metadataContent.image\">\n\t\t\t\t\t<media :isPreview=\"true\" :url=\"scope.row.metadataContent.image\" type=\"image\"></media>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column align=\"center\" :label=\"$t('blind.nft.audioORvideo')\" prop=\"metadataContent\">\n\t\t\t\t<template slot-scope=\"scope\" v-if=\"scope.row.metadataContent.animation_url\">\n\t\t\t\t\t<media :url=\"scope.row.metadataContent.animation_url\" :isPreview=\"true\"></media>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column align=\"center\" :label=\"$t('blind.operation')\" width=\"300\" class-name=\"small-padding fixed-width\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-button type=\"danger\" size=\"mini\" @click.native.prevent=\"handlerBtn('del', scope.row)\" v-permission=\"['POST /admin/blind/nft/deleted']\">{{ $t(\"blind.delete\") }}</el-button>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\n\t\t<pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getList\" />\n\n\t\t<el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogFormVisible\" :width=\"dialogStatus === 'del' ? '30%' : '50%'\">\n\t\t\t<template v-if=\"dialogStatus === 'add'\">\n\t\t\t\t<el-form ref=\"formData\" :model=\"formData\" status-icon label-position=\"left\" label-width=\"120px\" :rules=\"rules\">\n\t\t\t\t\t<el-form-item :label=\"$t('blind.nft.blindType')\" prop=\"address\">\n\t\t\t\t\t\t<el-select v-model=\"formData.address\" :placeholder=\"$t('blind.nft.pleaseSelect')\">\n\t\t\t\t\t\t\t<el-option v-for=\"(blindType, index) in blindTypes\" :key=\"index\" :label=\"blindType.name\" :value=\"blindType.address\">\n\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item :label=\"$t('blind.nft.name')\" prop=\"name\">\n\t\t\t\t\t\t<el-input v-model=\"formData.name\"></el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item :label=\"$t('blind.nft.brief')\" prop=\"description\">\n\t\t\t\t\t\t<el-input type=\"textarea\" v-model=\"formData.description\"></el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item :label=\"$t('blind.nft.picture')\" prop=\"imgUrl\">\n\t\t\t\t\t\t<!-- <el-upload ref=\"upload\" action=\"\" :auto-upload=\"false\" :show-file-list=\"false\" :file-list=\"fileListImage\" :limit=\"1\" class=\"avatar-uploader\"\n              accept=\"image/jpg, image/jpeg, image/png, image/gif\" :on-change=\"(file) => { uploadChange(file, 'uploadImage'); }\">\n              <template v-if=\"formData.imgUrl\">\n                <media :url=\"formData.imgUrl\" type=\"image\"></media>\n              </template>\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n            </el-upload> -->\n\t\t\t\t\t\t<upload-unit v-if=\"dialogFormVisible\" :refName=\"'blindboxNftImgRef'\" :limitNum=\"1\" :imageData=\"formData.imgUrl\" :uploadStatus=\"dialogStatus == 'add'\" @updateData=\"updateNftImg\"></upload-unit>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item :label=\"$t('blind.nft.audioORvideo')\" prop=\"animUrl\">\n\t\t\t\t\t\t<!-- <el-upload ref=\"upload\" action=\"\" :auto-upload=\"false\" :show-file-list=\"false\" :file-list=\"fileListVideo\" :limit=\"1\" class=\"avatar-uploader\"\n              accept=\"audio/mp3, audio/wav, audio/oga, video/webm, video/mp4, video/m4v, video/ogg, video/ogv, video/mov\" :on-change=\" (file) => { uploadChange(file, 'uploadVideo'); }\">\n              <template v-if=\"formData.animUrl\">\n                <media :url=\"formData.animUrl\" :type=\"formData.videoType\"></media>\n              </template>\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n            </el-upload> -->\n\t\t\t\t\t\t<upload-unit v-if=\"dialogFormVisible\" :refName=\"'blindboxNftGifRef'\" :limitNum=\"1\" :imageData=\"formData.animUrl\" :uploadStatus=\"dialogStatus == 'add'\" @updateData=\"updateNftGif\"></upload-unit>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item :label=\"$t('blind.nft.property')\">\n\t\t\t\t\t\t<div class=\"property-group\" v-for=\"(property, i) in formData.properties\" :key=\"i\">\n\t\t\t\t\t\t\t<div class=\"property left\">\n\t\t\t\t\t\t\t\t<el-input v-model=\"property.key\" :placeholder=\"$t('blind.property.key')\" @input=\"propertyInput\">\n\t\t\t\t\t\t\t\t</el-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"property right\">\n\t\t\t\t\t\t\t\t<el-input v-model=\"property.value\" :placeholder=\"$t('blind.property.value')\" @input=\"propertyInput\">\n\t\t\t\t\t\t\t\t</el-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t</template>\n\t\t\t<!-- 删除 -->\n\t\t\t<template v-if=\"dialogStatus === 'del'\">\n\t\t\t\t<span>{{ $t(\"blind.deleteTip\") }}</span>\n\t\t\t</template>\n\t\t\t<!-- 底部按钮 -->\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button @click.native.prevent=\"handlerCancel\">{{\n          $t(\"blind.cancel\")\n        }}</el-button>\n\t\t\t\t<el-button :loading=\"apiLoading\" type=\"primary\" @click.native.prevent=\"handlerConfirm\">{{ $t(\"blind.confirm\") }}</el-button>\n\t\t\t</span>\n\t\t</el-dialog>\n\t</div>\n</template>\n\n<script>\n\timport Pagination from \"@/components/Pagination\";\n\timport Media from \"@/components/Media\";\n\timport UploadUnit from \"@/components/Upload.vue\"\n\texport default {\n\t\tname: \"nft\",\n\t\tcomponents: { Pagination, Media, UploadUnit },\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\tlistLoading: true,\n\t\t\t\tapiLoading: false,\n\t\t\t\tlist: [],\n\t\t\t\ttotal: 0,\n\t\t\t\tlistQuery: {\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tlimit: 10,\n\t\t\t\t\tname: \"\",\n\t\t\t\t},\n\t\t\t\t// 弹出框\n\t\t\t\tdialogFormVisible: false,\n\t\t\t\tdialogStatus: \"\",\n\t\t\t\tdelId: \"\",\n\t\t\t\t//   表单\n\t\t\t\tformData: {\n\t\t\t\t\taddress: \"\",\n\t\t\t\t\tname: \"\",\n\t\t\t\t\tdescription: \"\",\n\t\t\t\t\tstorageId: \"\",\n\t\t\t\t\timgUrl: \"\",\n\t\t\t\t\tanimStorageId: \"\",\n\t\t\t\t\tanimUrl: \"\",\n\t\t\t\t\tvideoType: \"\",\n\t\t\t\t\tproperties: [{ key: \"\", value: \"\" }],\n\t\t\t\t},\n\t\t\t\trules: {\n\t\t\t\t\taddress: {\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: this.$t(\"blind.nft.emptyType\"),\n\t\t\t\t\t\ttrigger: \"change\",\n\t\t\t\t\t},\n\t\t\t\t\timgUrl: {\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: this.$t(\"blind.nft.emptyPicture\"),\n\t\t\t\t\t\ttrigger: \"blur\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t// 上传\n\t\t\t\tfileImage: \"\",\n\t\t\t\tfileVideo: \"\",\n\t\t\t\tfileListImage: [],\n\t\t\t\tfileListVideo: [],\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tblindTypes () {\n\t\t\t\treturn this.$store.state.user.blindTypes;\n\t\t\t},\n\t\t\tdialogTitle () {\n\t\t\t\tlet dialogTitle = \"\";\n\t\t\t\tswitch (this.dialogStatus) {\n\t\t\t\t\tcase \"add\":\n\t\t\t\t\t\tdialogTitle = this.$t(\"blind.add\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"edit\":\n\t\t\t\t\t\tdialogTitle = this.$t(\"blind.edit\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"del\":\n\t\t\t\t\t\tdialogTitle = this.$t(\"blind.delete\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"sync\":\n\t\t\t\t\t\tdialogTitle = this.$t(\"blind.sync\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn dialogTitle;\n\t\t\t},\n\t\t\tblindTypeName () {\n\t\t\t\treturn function (address) {\n\t\t\t\t\tfor (let i = 0, len = this.blindTypes.length;i < len;i++) {\n\t\t\t\t\t\tif (this.blindTypes[i].address === address)\n\t\t\t\t\t\t\treturn this.blindTypes[i].name;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\t\t},\n\t\tcreated () {\n\t\t\tthis.getList();\n\t\t},\n\t\tmethods: {\n\t\t\tgetList () {\n\t\t\t\tthis.listLoading = true;\n\t\t\t\tthis.$api(\"blind.nft.list\", this.listQuery)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tthis.formatData(res.data.list);\n\t\t\t\t\t\tthis.list = res.data.list;\n\t\t\t\t\t\tthis.total = res.data.total;\n\t\t\t\t\t\tthis.listLoading = false;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tthis.list = [];\n\t\t\t\t\t\tthis.total = 0;\n\t\t\t\t\t\tthis.listLoading = false;\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tupdateNftImg (file) {\n\t\t\t\tthis.formData.imgUrl = file\n\t\t\t\tthis.fileImage = file\n\t\t\t},\n\t\t\tupdateNftGif (file) {\n\t\t\t\tthis.formData.animUrl = file\n\t\t\t\tthis.fileVideo = file\n\t\t\t},\n\t\t\tformatData (data) {\n\t\t\t\tfor (let i = 0, len = data.length;i < len;i++) {\n\t\t\t\t\tif (data[i].metadataContent) {\n\t\t\t\t\t\tdata[i].metadataContent = JSON.parse(data[i].metadataContent);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata[i].metadataContent = { image: \"\", animation_url: \"\" };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tresetForm () {\n\t\t\t\tthis.formData = {\n\t\t\t\t\taddress: \"\",\n\t\t\t\t\tname: \"\",\n\t\t\t\t\tdescription: \"\",\n\t\t\t\t\tstorageId: \"\",\n\t\t\t\t\timgUrl: \"\",\n\t\t\t\t\tanimStorageId: \"\",\n\t\t\t\t\tanimUrl: \"\",\n\t\t\t\t\tvideoType: \"\",\n\t\t\t\t\tproperties: [{ key: \"\", value: \"\" }],\n\t\t\t\t};\n\t\t\t\tthis.fileImage = \"\";\n\t\t\t\tthis.fileVideo = \"\";\n\t\t\t},\n\t\t\t// handler--property\n\t\t\tpropertyInput (e) {\n\t\t\t\tlet emptyC = 0;\n\t\t\t\tfor (var i = 0;i < this.formData.properties.length;i++) {\n\t\t\t\t\tvar property = this.formData.properties[i];\n\t\t\t\t\tif (!property.key || !property.value) emptyC += 1;\n\t\t\t\t}\n\t\t\t\tif (emptyC != 1) {\n\t\t\t\t\tthis.formData.properties = this.formData.properties.filter(function (\n\t\t\t\t\t\tproperty\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn property.key || property.value;\n\t\t\t\t\t});\n\t\t\t\t\tthis.formData.properties.push({ key: \"\", value: \"\" });\n\t\t\t\t}\n\t\t\t\tthis.formData = JSON.parse(JSON.stringify(this.formData));\n\t\t\t},\n\t\t\tfullProperties (properties) {\n\t\t\t\tvar _properties = [];\n\t\t\t\tfor (var i = 0;i < properties.length;i++) {\n\t\t\t\t\tvar key = properties[i].key.trim();\n\t\t\t\t\tvar value = properties[i].value.trim();\n\t\t\t\t\tif (!key || !value) continue;\n\t\t\t\t\tvar trait_type = key;\n\t\t\t\t\t_properties.push({ key, value, trait_type });\n\t\t\t\t}\n\t\t\t\treturn _properties;\n\t\t\t},\n\t\t\t// 图片改变\n\t\t\tuploadChange (files, uploadType) {\n\t\t\t\tif (uploadType === \"uploadImage\") {\n\t\t\t\t\tthis.fileListImage = [];\n\t\t\t\t\tthis.fileImage = files.raw;\n\t\t\t\t}\n\t\t\t\tif (uploadType === \"uploadVideo\") {\n\t\t\t\t\tthis.fileListVideo = [];\n\t\t\t\t\tthis.fileVideo = files.raw;\n\t\t\t\t}\n\t\t\t\tvar event = event || window.event;\n\t\t\t\tvar file = event.target.files[0];\n\t\t\t\tvar reader = new FileReader();\n\t\t\t\tvar _this = this;\n\t\t\t\treader.onload = function (e) {\n\t\t\t\t\tif (uploadType === \"uploadImage\") {\n\t\t\t\t\t\t_this.formData.imgUrl = e.target.result;\n\t\t\t\t\t}\n\t\t\t\t\tif (uploadType === \"uploadVideo\") {\n\t\t\t\t\t\t_this.formData.animUrl = e.target.result;\n\t\t\t\t\t\t_this.formData.videoType = file.type;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treader.readAsDataURL(file);\n\t\t\t},\n\t\t\thandlerUploadImage () {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tlet formData = new FormData();\n\t\t\t\t\tformData.append(\"file\", this.fileImage);\n\t\t\t\t\tformData.append(\"flag\", \"ipfs\");\n\t\t\t\t\tthis.$api(\"storage.create\", formData)\n\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\tif (this.$tool.checkResponse(res)) {\n\t\t\t\t\t\t\t\tresolve(res.data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treject(res);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\thandlerUploadVideo () {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tlet formData = new FormData();\n\t\t\t\t\tformData.append(\"files\", this.fileVideo);\n\t\t\t\t\tformData.append(\"files\", this.fileImage);\n\t\t\t\t\tthis.$api(\"storage.multiupload\", formData)\n\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\tif (this.$tool.checkResponse(res)) {\n\t\t\t\t\t\t\t\tresolve(res.data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treject(res);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 表单数据增、删、改、查\n\t\t\taddData () {\n\t\t\t\tthis.$refs[\"formData\"].validate((valid) => {\n\t\t\t\t\tif (valid && !this.apiLoading) {\n\t\t\t\t\t\tthis.apiLoading = true;\n\t\t\t\t\t\tlet promiseArr = [];\n\t\t\t\t\t\tif (this.fileVideo) {\n\t\t\t\t\t\t\tpromiseArr = [this.handlerUploadVideo()];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpromiseArr = [this.handlerUploadImage()];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tPromise.all(promiseArr)\n\t\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\t\tthis.addForm(res);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\t\tthis.failCallback();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\taddForm (fileData) {\n\t\t\t\tlet {\n\t\t\t\t\taddress,\n\t\t\t\t\tname,\n\t\t\t\t\tdescription,\n\t\t\t\t\tstorageId,\n\t\t\t\t\timgUrl,\n\t\t\t\t\tanimStorageId,\n\t\t\t\t\tanimUrl,\n\t\t\t\t\tvideoType,\n\t\t\t\t\tproperties,\n\t\t\t\t} = this.formData;\n\t\t\t\tif (fileData) {\n\t\t\t\t\tstorageId = this.fileVideo ? fileData[0][1].id : fileData[0].id;\n\t\t\t\t\timgUrl = this.fileVideo\n\t\t\t\t\t\t? fileData[0][1].ipfshash\n\t\t\t\t\t\t: fileData[0].ipfshash;\n\t\t\t\t\tanimStorageId = this.fileVideo ? fileData[0][0].id : \"\";\n\t\t\t\t\tanimUrl = this.fileVideo ? fileData[0][0].ipfshash : \"\";\n\t\t\t\t\tvideoType = this.fileVideo ? fileData[0][0].type : \"\";\n\t\t\t\t} else {\n\t\t\t\t\tstorageId = imgUrl = animStorageId = animUrl = videoType = \"\";\n\t\t\t\t}\n\t\t\t\tlet propertys = this.fullProperties(properties);\n\t\t\t\tpropertys = JSON.stringify(propertys);\n\t\t\t\tlet sendData = {\n\t\t\t\t\taddress,\n\t\t\t\t\tname,\n\t\t\t\t\tdescription,\n\t\t\t\t\ttype: 5,\n\t\t\t\t\tstorageId,\n\t\t\t\t\timgUrl,\n\t\t\t\t\tanimStorageId,\n\t\t\t\t\tanimUrl,\n\t\t\t\t\tvideoType,\n\t\t\t\t\tpropertys,\n\t\t\t\t};\n\t\t\t\tthis.$api(\"blind.nft.add\", sendData)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tif (this.$tool.checkResponse(res)) {\n\t\t\t\t\t\t\tthis.successCallback();\n\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.failCallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tthis.failCallback(err);\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tdelData () {\n\t\t\t\tif (!this.apiLoading) {\n\t\t\t\t\tthis.apiLoading = true;\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.$api(\"blind.nft.deleted\", { id: this.delId })\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tif (this.$tool.checkResponse(res)) {\n\t\t\t\t\t\t\tthis.successCallback();\n\t\t\t\t\t\t\tlet { page, limit } = this.listQuery;\n\t\t\t\t\t\t\tif (page > 1 && this.total - 1 - (page - 1) * limit <= 0) {\n\t\t\t\t\t\t\t\tthis.listQuery.page -= 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.total -= 1;\n\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.failCallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tthis.failCallback(err);\n\t\t\t\t\t});\n\t\t\t},\n\t\t\thandlerFilter () {\n\t\t\t\tthis.listQuery.page = 1;\n\t\t\t\tthis.getList();\n\t\t\t},\n\t\t\t/*\n\t\t\t * 按钮执行弹窗\n\t\t\t * #handlerBtn\n\t\t\t */\n\t\t\thandlerBtn (btnType, row = {}) {\n\t\t\t\tswitch (btnType) {\n\t\t\t\t\tcase \"add\":\n\t\t\t\t\t\tthis.resetForm();\n\t\t\t\t\t\tthis.$nextTick(function () {\n\t\t\t\t\t\t\tthis.$refs[\"formData\"]\n\t\t\t\t\t\t\t\t? this.$refs[\"formData\"].clearValidate()\n\t\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"del\":\n\t\t\t\t\t\tthis.delId = row.id;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthis.dialogFormVisible = true;\n\t\t\t\tthis.dialogStatus = btnType;\n\t\t\t},\n\t\t\t// 确定按钮回调\n\t\t\thandlerConfirm () {\n\t\t\t\tswitch (this.dialogStatus) {\n\t\t\t\t\tcase \"add\":\n\t\t\t\t\t\tthis.addData();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"edit\":\n\t\t\t\t\t\tthis.editData();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"del\":\n\t\t\t\t\t\tthis.delData();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"sync\":\n\t\t\t\t\t\tthis.syncData();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 取消按钮回调\n\t\t\thandlerCancel () {\n\t\t\t\tthis.dialogFormVisible = false;\n\t\t\t},\n\t\t\t// 请求成功回调\n\t\t\tsuccessCallback () {\n\t\t\t\tthis.$notify.success({\n\t\t\t\t\ttitle: this.$t(\"blind.success\"),\n\t\t\t\t\tmessage: this.$t(\"blind.messageSuccess\"),\n\t\t\t\t});\n\t\t\t\tthis.handlerCancel();\n\t\t\t\tthis.apiLoading = false;\n\t\t\t},\n\t\t\t// 请求失败回调\n\t\t\tfailCallback (err) {\n\t\t\t\tthis.apiLoading = false;\n\t\t\t\tthis.$notify.error({\n\t\t\t\t\ttitle: this.$t(\"blind.fail\"),\n\t\t\t\t\tmessage: err\n\t\t\t\t\t\t? this.$t(\"response.\" + err.data ? err.data.errno : \"\")\n\t\t\t\t\t\t: this.$t(\"blind.messageFail\"),\n\t\t\t\t});\n\t\t\t\tif (this.dialogStatus == \"del\") {\n\t\t\t\t\tthis.handlerCancel();\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n<style lang=\"scss\" scoped>\n\t.avatar-uploader .el-upload {\n\t\tborder: 1px dashed #d9d9d9;\n\t\tborder-radius: 6px;\n\t\tcursor: pointer;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t}\n\t.avatar-uploader .el-upload:hover {\n\t\tborder-color: #20a0ff;\n\t}\n\t.avatar-uploader-icon {\n\t\tfont-size: 28px;\n\t\tcolor: #8c939d;\n\t\twidth: 120px;\n\t\theight: 120px;\n\t\tline-height: 120px;\n\t\ttext-align: center;\n\t}\n\t.avatar {\n\t\twidth: 145px;\n\t\theight: 145px;\n\t\tdisplay: block;\n\t}\n\n\t.el-table__row audio {\n\t\twidth: 80%;\n\t}\n\n\t.property-group {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tmargin-bottom: 15px;\n\t\t.property {\n\t\t\tflex: 1;\n\t\t}\n\t\t.left {\n\t\t\tpadding-right: 40px;\n\t\t}\n\t}\n\t.el-upload audio {\n\t\twidth: 300px;\n\t}\n</style>\n"]}]}