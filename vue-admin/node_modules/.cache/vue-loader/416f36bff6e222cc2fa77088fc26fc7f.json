{"remainingRequest":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\views\\category\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\views\\category\\list.vue","mtime":1650964597000},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652081880827},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1652081856293},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652081880827},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1652081880134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIkAvY29tcG9uZW50cy9QYWdpbmF0aW9uIjsgLy8gU2Vjb25kYXJ5IHBhY2thZ2UgYmFzZWQgb24gZWwtcGFnaW5hdGlvbgpleHBvcnQgZGVmYXVsdCB7Cgljb21wb25lbnRzOiB7IFBhZ2luYXRpb24gfSwKCWRhdGEgKCkgewoJCXJldHVybiB7CgkJCWxpc3Q6IG51bGwsCgkJCXRvdGFsOiAwLAoJCQlsaXN0TG9hZGluZzogdHJ1ZSwKCQkJbGlzdFF1ZXJ5OiB7CgkJCQlwYWdlOiAxLAoJCQkJbGltaXQ6IDEwLAoJCQkJdXNlcm5hbWU6IHVuZGVmaW5lZCwKCQkJCW1vYmlsZTogdW5kZWZpbmVkLAoJCQkJc29ydDogImNyZWF0ZV90aW1lIiwKCQkJCW9yZGVyOiAiZGVzYyIsCgkJCX0sCgkJCWRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKCQkJZGlhbG9nU3RhdHVzOiAiIiwKCQkJZGF0YUZvcm06IHsKCQkJCWlkOiB1bmRlZmluZWQsCgkJCQlzb3J0OiB1bmRlZmluZWQsCgkJCQluYW1lOiB1bmRlZmluZWQsCgkJCX0sCgkJCXJ1bGVzOiB7CgkJCQluYW1lOiBbCgkJCQkJeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgnc29ydE1hbmFnZW1lbnQubWVzc2FnZTEnKSwgdHJpZ2dlcjogImJsdXIiIH0sCgkJCQldLAoJCQkJc29ydDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ3NvcnRNYW5hZ2VtZW50Lm1lc3NhZ2UyJyksIHRyaWdnZXI6ICJibHVyIiB9XSwKCQkJfSwKCQkJdGV4dE1hcDogewoJCQkJdXBkYXRlOiB0aGlzLiR0KCdzb3J0TWFuYWdlbWVudC5lZGl0JyksCgkJCQlkZXRhaWw6IHRoaXMuJHQoJ3NvcnRNYW5hZ2VtZW50LmRldGFpbCcpLAoJCQkJY3JlYXRlOiB0aGlzLiR0KCdzb3J0TWFuYWdlbWVudC5jcmVhdGUnKSwKCQkJfSwKCQl9OwoJfSwKCWNyZWF0ZWQgKCkgewoJCXRoaXMuZ2V0TGlzdCgpOwoJfSwKCW1ldGhvZHM6IHsKCQlnZXRMaXN0ICgpIHsKCQkJdGhpcy5saXN0TG9hZGluZyA9IHRydWU7CgkJCXRoaXMuJGFwaSgiY2F0ZWdvcnkubGlzdCIsIHRoaXMubGlzdFF1ZXJ5KS50aGVuKChyZXMpID0+IHsKCQkJCXRoaXMubGlzdCA9IHJlcy5kYXRhLmxpc3Q7CgkJCQl0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CgkJCQl0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CgkJCX0pCgkJCQkuY2F0Y2goKGVycikgPT4gewoJCQkJCXRoaXMubGlzdCA9IFtdOwoJCQkJCXRoaXMudG90YWwgPSAwOwoJCQkJCXRoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKCQkJCX0pOwoJCX0sCgkJaGFuZGxlRmlsdGVyICgpIHsKCQkJdGhpcy5saXN0UXVlcnkucGFnZSA9IDE7CgkJCXRoaXMuZ2V0TGlzdCgpOwoJCX0sCgkJcmVzZXRGb3JtICgpIHsKCQkJdGhpcy5kYXRhRm9ybSA9IHsKCQkJCXNvcnQ6IHVuZGVmaW5lZCwKCQkJCW5hbWU6IHVuZGVmaW5lZCwKCQkJfTsKCQl9LAoJCWhhbmRsZUNyZWF0ZSAoKSB7CgkJCXRoaXMucmVzZXRGb3JtKCk7CgkJCXRoaXMuZGlhbG9nU3RhdHVzID0gImNyZWF0ZSI7CgkJCXRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwoJCQl0aGlzLiRuZXh0VGljaygoKSA9PiB7CgkJCQl0aGlzLiRyZWZzWyJkYXRhRm9ybSJdLmNsZWFyVmFsaWRhdGUoKTsKCQkJfSk7CgkJfSwKCQljcmVhdGVEYXRhICgpIHsKCQkJdGhpcy4kcmVmc1siZGF0YUZvcm0iXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKCQkJCWlmICh2YWxpZCkgewoJCQkJCXRoaXMuJGFwaSgnY2F0ZWdvcnkuY3JlYXRlQ2F0ZWdvcnknLCB0aGlzLmRhdGFGb3JtKQoJCQkJCQkudGhlbigocmVzcG9uc2UpID0+IHsKCQkJCQkJCXRoaXMubGlzdC51bnNoaWZ0KHJlc3BvbnNlLmRhdGEpOwoJCQkJCQkJdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwoJCQkJCQkJdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewoJCQkJCQkJCXRpdGxlOiB0aGlzLiR0KCdzb3J0TWFuYWdlbWVudC5zdWNjZXNzJyksCgkJCQkJCQkJbWVzc2FnZTogdGhpcy4kdCgnc29ydE1hbmFnZW1lbnQuY3JlYXRlU3VjY2VzcycpLAoJCQkJCQkJfSk7CgkJCQkJCX0pCgkJCQkJCS5jYXRjaCgocmVzcG9uc2UpID0+IHsKCQkJCQkJCXRoaXMuJG5vdGlmeS5lcnJvcih7CgkJCQkJCQkJdGl0bGU6IHRoaXMuJHQoJ3NvcnRNYW5hZ2VtZW50LmZhaWwnKSwKCQkJCQkJCQltZXNzYWdlOiB0aGlzLiR0KCdyZXNwb25zZS4nICsgcmVzcG9uc2UuZGF0YS5lcnJubykKCQkJCQkJCX0pOwoJCQkJCQl9KTsKCQkJCX0KCQkJfSk7CgkJfSwKCQloYW5kbGVVcGRhdGUgKHJvdykgewoJCQl0aGlzLmRhdGFGb3JtID0gT2JqZWN0LmFzc2lnbih7fSwgcm93KTsKCQkJdGhpcy5kaWFsb2dTdGF0dXMgPSAidXBkYXRlIjsKCQkJdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CgkJCXRoaXMuJG5leHRUaWNrKCgpID0+IHsKCQkJCXRoaXMuJHJlZnNbImRhdGFGb3JtIl0uY2xlYXJWYWxpZGF0ZSgpOwoJCQl9KTsKCQl9LAoJCXVwZGF0ZURhdGEgKCkgewoJCQl0aGlzLiRyZWZzWyJkYXRhRm9ybSJdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewoJCQkJaWYgKHZhbGlkKSB7CgkJCQkJdGhpcy4kYXBpKCdjYXRlZ29yeS51cGRhdGVDYXRlZ29yeScsIHsgaWQ6IHRoaXMuZGF0YUZvcm0uaWQsIG5hbWU6IHRoaXMuZGF0YUZvcm0ubmFtZSB9KQoJCQkJCQkudGhlbigoKSA9PiB7CgkJCQkJCQlmb3IgKGNvbnN0IHYgb2YgdGhpcy5saXN0KSB7CgkJCQkJCQkJaWYgKHYuaWQgPT09IHRoaXMuZGF0YUZvcm0uaWQpIHsKCQkJCQkJCQkJY29uc3QgaW5kZXggPSB0aGlzLmxpc3QuaW5kZXhPZih2KTsKCQkJCQkJCQkJdGhpcy5saXN0LnNwbGljZShpbmRleCwgMSwgdGhpcy5kYXRhRm9ybSk7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJCXRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKCQkJCQkJCXRoaXMuJG5vdGlmeS5zdWNjZXNzKHsKCQkJCQkJCQl0aXRsZTogdGhpcy4kdCgnc29ydE1hbmFnZW1lbnQuc3VjY2VzcycpLAoJCQkJCQkJCW1lc3NhZ2U6IHRoaXMuJHQoJ3NvcnRNYW5hZ2VtZW50LmVkaXRTdWNjZXNzJyksCgkJCQkJCQl9KTsKCQkJCQkJfSkKCQkJCQkJLmNhdGNoKChyZXNwb25zZSkgPT4gewoJCQkJCQkJdGhpcy4kbm90aWZ5LmVycm9yKHsKCQkJCQkJCQl0aXRsZTogdGhpcy4kdCgnc29ydE1hbmFnZW1lbnQuZmFpbCcpLAoJCQkJCQkJCW1lc3NhZ2U6IHRoaXMuJHQoJ3Jlc3BvbnNlLicgKyByZXNwb25zZS5kYXRhLmVycm5vKQoJCQkJCQkJfSk7CgkJCQkJCX0pOwoJCQkJfQoJCQl9KTsKCQl9LAoJCWhhbmRsZURpc2FibGUgKHJvdykgewoJCQl0aGlzLiRjb25maXJtKHRoaXMuJHQoJ3NvcnRNYW5hZ2VtZW50LnRpcENvbnRlbnQnKSwgdGhpcy4kdCgnc29ydE1hbmFnZW1lbnQudGlwJyksIHsKCQkJCWNvbmZpcm1CdXR0b25UZXh0OiB0aGlzLiR0KCdzb3J0TWFuYWdlbWVudC5jb25maXJtJyksCgkJCQljYW5jZWxCdXR0b25UZXh0OiB0aGlzLiR0KCdzb3J0TWFuYWdlbWVudC5jYW5jZWwnKSwKCQkJCXR5cGU6ICJ3YXJuaW5nIiwKCQkJfSkKCQkJCS50aGVuKCgpID0+IHsKCQkJCQl0aGlzLiRhcGkoJ2NhdGVnb3J5LmRpc2FibGVDYXRlZ29yeScsIHsgaWQ6IHJvdy5pZCB9KQoJCQkJCQkudGhlbigocmVzcG9uc2UpID0+IHsKCQkJCQkJCWlmIChyZXNwb25zZS5lcnJubyA9PSAtMSkgewoJCQkJCQkJCXRoaXMuJG5vdGlmeS5lcnJvcih7CgkJCQkJCQkJCW1lc3NhZ2U6IHRoaXMuJHQoJ3NvcnRNYW5hZ2VtZW50LmNhbnREaXNhYmxlZCcpLAoJCQkJCQkJCX0pOwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQl0aGlzLiRub3RpZnkuc3VjY2Vzcyh7CgkJCQkJCQkJCXRpdGxlOiB0aGlzLiR0KCdzb3J0TWFuYWdlbWVudC5zdWNjZXNzJyksCgkJCQkJCQkJCW1lc3NhZ2U6IHRoaXMuJHQoJ3NvcnRNYW5hZ2VtZW50LnN1Y2Nlc3NmdWxseURpc2FibGVkJyksCgkJCQkJCQkJfSk7CgkJCQkJCQkJdGhpcy5nZXRMaXN0KCk7CgkJCQkJCQl9CgkJCQkJCX0pCgkJCQkJCS5jYXRjaCgocmVzcG9uc2UpID0+IHsKCQkJCQkJCXRoaXMuJG5vdGlmeS5lcnJvcih7CgkJCQkJCQkJdGl0bGU6IHRoaXMuJHQoJ3NvcnRNYW5hZ2VtZW50LmRpc2FibGluZ0ZhaWxlZCcpLAoJCQkJCQkJCW1lc3NhZ2U6IHRoaXMuJHQoJ3Jlc3BvbnNlLicgKyByZXNwb25zZS5kYXRhLmVycm5vKQoJCQkJCQkJfSk7CgkJCQkJCX0pOwoJCQkJfSkKCQkJCS5jYXRjaCgoKSA9PiB7IH0pOwoJCX0sCgkJaGFuZGxlRW5hYmxlIChyb3cpIHsKCQkJdGhpcy4kY29uZmlybSh0aGlzLiR0KCdzb3J0TWFuYWdlbWVudC5vcGVyYXRpb25FbmFibGVkJyksIHRoaXMuJHQoJ3NvcnRNYW5hZ2VtZW50LnRpcCcpLCB7CgkJCQljb25maXJtQnV0dG9uVGV4dDogdGhpcy4kdCgnc29ydE1hbmFnZW1lbnQuY29uZmlybScpLAoJCQkJY2FuY2VsQnV0dG9uVGV4dDogdGhpcy4kdCgnc29ydE1hbmFnZW1lbnQuY2FuY2VsJyksCgkJCQl0eXBlOiAid2FybmluZyIsCgkJCX0pCgkJCQkudGhlbigoKSA9PiB7CgkJCQkJdGhpcy4kYXBpKCdjYXRlZ29yeS5lbmFibGVDYXRlZ29yeScsIHsgaWQ6IHJvdy5pZCB9KQoJCQkJCQkudGhlbigocmVzcG9uc2UpID0+IHsKCQkJCQkJCXRoaXMuJG5vdGlmeS5zdWNjZXNzKHsKCQkJCQkJCQl0aXRsZTogdGhpcy4kdCgnc29ydE1hbmFnZW1lbnQuc3VjY2VzcycpLAoJCQkJCQkJCW1lc3NhZ2U6IHRoaXMuJHQoJ3NvcnRNYW5hZ2VtZW50LmVuYWJsZWRTdWNjZXNzZnVsbHknKSwKCQkJCQkJCX0pOwoJCQkJCQkJdGhpcy5nZXRMaXN0KCk7CgkJCQkJCX0pCgkJCQkJCS5jYXRjaCgocmVzcG9uc2UpID0+IHsKCQkJCQkJCXRoaXMuJG5vdGlmeS5lcnJvcih7CgkJCQkJCQkJdGl0bGU6IHRoaXMuJHQoJ3NvcnRNYW5hZ2VtZW50LmFjdGl2YXRpb25GYWlsZWQnKSwKCQkJCQkJCQltZXNzYWdlOiB0aGlzLiR0KCdyZXNwb25zZS4nICsgcmVzcG9uc2UuZGF0YS5lcnJubykKCQkJCQkJCX0pOwoJCQkJCQl9KTsKCQkJCX0pCgkJCQkuY2F0Y2goKCkgPT4geyB9KTsKCQl9LAoJfSwKfTsK"},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/category","sourcesContent":["<template>\r\n\t<div class=\"app-container\">\r\n\r\n\t\t<!-- 查询和其他操作 -->\r\n\t\t<div class=\"filter-container\">\r\n\t\t\t<el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleCreate\" v-permission=\"['POST /admin/category/create']\">{{$t('sortManagement.create')}}</el-button>\r\n\t\t</div>\r\n\r\n\t\t<!-- 查询结果 -->\r\n\t\t<el-table v-loading=\"listLoading\" :data=\"list\" :element-loading-text=\"$t('sortManagement.loadingText')\" border fit highlight-current-row>\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('sortManagement.categoryId')\" prop=\"id\" sortable />\r\n\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('sortManagement.categoryName')\" prop=\"name\" />\r\n\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('sortManagement.weight')\" prop=\"order\" />\r\n\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('sortManagement.state')\" prop=\"deleted\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag type=\"success\" v-if=\"!scope.row.deleted\">{{$t('sortManagement.normal')}}</el-tag>\r\n\t\t\t\t\t<el-tag type=\"danger\" v-else>{{$t('sortManagement.disabled')}}</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('sortManagement.operation')\" width=\"300\" class-name=\"small-padding fixed-width\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button v-permission=\"['POST /admin/category/update']\" type=\"primary\" size=\"mini\" @click=\"handleUpdate(scope.row)\">{{$t('sortManagement.edit')}}</el-button>\r\n\t\t\t\t\t<el-button v-permission=\"['POST /admin/category/disable']\" type=\"danger\" size=\"mini\" @click=\"handleDisable(scope.row)\" v-if=\"!scope.row.deleted\">{{$t('sortManagement.disable')}}</el-button>\r\n\t\t\t\t\t<el-button v-permission=\"['POST /admin/category/enable']\" type=\"success\" size=\"mini\" @click=\"handleEnable(scope.row)\" v-else>{{$t('sortManagement.enable')}}</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\r\n\t\t</el-table>\r\n\r\n\t\t<pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getList\" />\r\n\r\n\t\t<!-- 添加或修改对话框 -->\r\n\t\t<el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t<el-form ref=\"dataForm\" :rules=\"rules\" :model=\"dataForm\" status-icon label-position=\"left\" label-width=\"120px\">\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('sortManagement.categoryId')\" prop=\"id\" v-if=\"dialogStatus=='detail'\">\r\n\t\t\t\t\t<span>{{dataForm.id}}</span>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('sortManagement.categoryName')\" prop=\"name\" v-if=\"dialogStatus=='detail'\">\r\n\t\t\t\t\t<span>{{dataForm.name}}</span>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('sortManagement.weight')\" prop=\"order\" v-if=\"dialogStatus=='detail'\">\r\n\t\t\t\t\t<span>{{dataForm.order}}</span>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('sortManagement.categoryName')\" prop=\"name\" v-if=\"dialogStatus!='detail'\">\r\n\t\t\t\t\t<el-input v-model=\"dataForm.name\" />\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('sortManagement.weight')\" prop=\"order\" v-if=\"dialogStatus!='detail'\">\r\n\t\t\t\t\t<el-input v-model=\"dataForm.order\" />\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\" v-if=\"dialogStatus!='detail' \">\r\n\t\t\t\t<el-button @click=\"dialogFormVisible = false\">{{$t('sortManagement.cancel')}}</el-button>\r\n\t\t\t\t<el-button v-if=\"dialogStatus=='create'\" type=\"primary\" @click=\"createData\">{{$t('sortManagement.confirm')}}</el-button>\r\n\t\t\t\t<el-button v-else type=\"primary\" @click=\"updateData\">{{$t('sortManagement.confirm')}}</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Pagination from \"@/components/Pagination\"; // Secondary package based on el-pagination\r\n\texport default {\r\n\t\tcomponents: { Pagination },\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\tlist: null,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tlistLoading: true,\r\n\t\t\t\tlistQuery: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tlimit: 10,\r\n\t\t\t\t\tusername: undefined,\r\n\t\t\t\t\tmobile: undefined,\r\n\t\t\t\t\tsort: \"create_time\",\r\n\t\t\t\t\torder: \"desc\",\r\n\t\t\t\t},\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tdialogStatus: \"\",\r\n\t\t\t\tdataForm: {\r\n\t\t\t\t\tid: undefined,\r\n\t\t\t\t\tsort: undefined,\r\n\t\t\t\t\tname: undefined,\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tname: [\r\n\t\t\t\t\t\t{ required: true, message: this.$t('sortManagement.message1'), trigger: \"blur\" },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tsort: [{ required: true, message: this.$t('sortManagement.message2'), trigger: \"blur\" }],\r\n\t\t\t\t},\r\n\t\t\t\ttextMap: {\r\n\t\t\t\t\tupdate: this.$t('sortManagement.edit'),\r\n\t\t\t\t\tdetail: this.$t('sortManagement.detail'),\r\n\t\t\t\t\tcreate: this.$t('sortManagement.create'),\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated () {\r\n\t\t\tthis.getList();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetList () {\r\n\t\t\t\tthis.listLoading = true;\r\n\t\t\t\tthis.$api(\"category.list\", this.listQuery).then((res) => {\r\n\t\t\t\t\tthis.list = res.data.list;\r\n\t\t\t\t\tthis.total = res.data.total;\r\n\t\t\t\t\tthis.listLoading = false;\r\n\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tthis.list = [];\r\n\t\t\t\t\t\tthis.total = 0;\r\n\t\t\t\t\t\tthis.listLoading = false;\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleFilter () {\r\n\t\t\t\tthis.listQuery.page = 1;\r\n\t\t\t\tthis.getList();\r\n\t\t\t},\r\n\t\t\tresetForm () {\r\n\t\t\t\tthis.dataForm = {\r\n\t\t\t\t\tsort: undefined,\r\n\t\t\t\t\tname: undefined,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\thandleCreate () {\r\n\t\t\t\tthis.resetForm();\r\n\t\t\t\tthis.dialogStatus = \"create\";\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$refs[\"dataForm\"].clearValidate();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcreateData () {\r\n\t\t\t\tthis.$refs[\"dataForm\"].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$api('category.createCategory', this.dataForm)\r\n\t\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\t\tthis.list.unshift(response.data);\r\n\t\t\t\t\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\t\t\t\t\tthis.$notify.success({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.success'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('sortManagement.createSuccess'),\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((response) => {\r\n\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.fail'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('response.' + response.data.errno)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleUpdate (row) {\r\n\t\t\t\tthis.dataForm = Object.assign({}, row);\r\n\t\t\t\tthis.dialogStatus = \"update\";\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$refs[\"dataForm\"].clearValidate();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupdateData () {\r\n\t\t\t\tthis.$refs[\"dataForm\"].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$api('category.updateCategory', { id: this.dataForm.id, name: this.dataForm.name })\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\tfor (const v of this.list) {\r\n\t\t\t\t\t\t\t\t\tif (v.id === this.dataForm.id) {\r\n\t\t\t\t\t\t\t\t\t\tconst index = this.list.indexOf(v);\r\n\t\t\t\t\t\t\t\t\t\tthis.list.splice(index, 1, this.dataForm);\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\t\t\t\t\tthis.$notify.success({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.success'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('sortManagement.editSuccess'),\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((response) => {\r\n\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.fail'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('response.' + response.data.errno)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleDisable (row) {\r\n\t\t\t\tthis.$confirm(this.$t('sortManagement.tipContent'), this.$t('sortManagement.tip'), {\r\n\t\t\t\t\tconfirmButtonText: this.$t('sortManagement.confirm'),\r\n\t\t\t\t\tcancelButtonText: this.$t('sortManagement.cancel'),\r\n\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.$api('category.disableCategory', { id: row.id })\r\n\t\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\t\tif (response.errno == -1) {\r\n\t\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\t\tmessage: this.$t('sortManagement.cantDisabled'),\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.$notify.success({\r\n\t\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.success'),\r\n\t\t\t\t\t\t\t\t\t\tmessage: this.$t('sortManagement.successfullyDisabled'),\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthis.getList();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((response) => {\r\n\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.disablingFailed'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('response.' + response.data.errno)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => { });\r\n\t\t\t},\r\n\t\t\thandleEnable (row) {\r\n\t\t\t\tthis.$confirm(this.$t('sortManagement.operationEnabled'), this.$t('sortManagement.tip'), {\r\n\t\t\t\t\tconfirmButtonText: this.$t('sortManagement.confirm'),\r\n\t\t\t\t\tcancelButtonText: this.$t('sortManagement.cancel'),\r\n\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.$api('category.enableCategory', { id: row.id })\r\n\t\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\t\tthis.$notify.success({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.success'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('sortManagement.enabledSuccessfully'),\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.getList();\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((response) => {\r\n\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.activationFailed'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('response.' + response.data.errno)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => { });\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.dataFormClass {\r\n\t\twidth: 400px;\r\n\t\tmargin-left: 50px;\r\n\t}\r\n</style>\r\n"]}]}