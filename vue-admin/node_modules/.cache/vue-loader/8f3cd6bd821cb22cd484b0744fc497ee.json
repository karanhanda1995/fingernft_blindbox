{"remainingRequest":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\views\\category\\list.vue?vue&type=style&index=0&id=bfc0c836&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\views\\category\\list.vue","mtime":1650964597000},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\css-loader\\dist\\cjs.js","mtime":1652081880732},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1652081880145},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1652081880241},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1652081887366},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652081880827},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1652081880134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5kYXRhRm9ybUNsYXNzIHsKCXdpZHRoOiA0MDBweDsKCW1hcmdpbi1sZWZ0OiA1MHB4Owp9Cg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgQA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/category","sourcesContent":["<template>\r\n\t<div class=\"app-container\">\r\n\r\n\t\t<!-- 查询和其他操作 -->\r\n\t\t<div class=\"filter-container\">\r\n\t\t\t<el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleCreate\" v-permission=\"['POST /admin/category/create']\">{{$t('sortManagement.create')}}</el-button>\r\n\t\t</div>\r\n\r\n\t\t<!-- 查询结果 -->\r\n\t\t<el-table v-loading=\"listLoading\" :data=\"list\" :element-loading-text=\"$t('sortManagement.loadingText')\" border fit highlight-current-row>\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('sortManagement.categoryId')\" prop=\"id\" sortable />\r\n\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('sortManagement.categoryName')\" prop=\"name\" />\r\n\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('sortManagement.weight')\" prop=\"order\" />\r\n\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('sortManagement.state')\" prop=\"deleted\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag type=\"success\" v-if=\"!scope.row.deleted\">{{$t('sortManagement.normal')}}</el-tag>\r\n\t\t\t\t\t<el-tag type=\"danger\" v-else>{{$t('sortManagement.disabled')}}</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('sortManagement.operation')\" width=\"300\" class-name=\"small-padding fixed-width\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button v-permission=\"['POST /admin/category/update']\" type=\"primary\" size=\"mini\" @click=\"handleUpdate(scope.row)\">{{$t('sortManagement.edit')}}</el-button>\r\n\t\t\t\t\t<el-button v-permission=\"['POST /admin/category/disable']\" type=\"danger\" size=\"mini\" @click=\"handleDisable(scope.row)\" v-if=\"!scope.row.deleted\">{{$t('sortManagement.disable')}}</el-button>\r\n\t\t\t\t\t<el-button v-permission=\"['POST /admin/category/enable']\" type=\"success\" size=\"mini\" @click=\"handleEnable(scope.row)\" v-else>{{$t('sortManagement.enable')}}</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\r\n\t\t</el-table>\r\n\r\n\t\t<pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getList\" />\r\n\r\n\t\t<!-- 添加或修改对话框 -->\r\n\t\t<el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t<el-form ref=\"dataForm\" :rules=\"rules\" :model=\"dataForm\" status-icon label-position=\"left\" label-width=\"120px\">\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('sortManagement.categoryId')\" prop=\"id\" v-if=\"dialogStatus=='detail'\">\r\n\t\t\t\t\t<span>{{dataForm.id}}</span>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('sortManagement.categoryName')\" prop=\"name\" v-if=\"dialogStatus=='detail'\">\r\n\t\t\t\t\t<span>{{dataForm.name}}</span>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('sortManagement.weight')\" prop=\"order\" v-if=\"dialogStatus=='detail'\">\r\n\t\t\t\t\t<span>{{dataForm.order}}</span>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('sortManagement.categoryName')\" prop=\"name\" v-if=\"dialogStatus!='detail'\">\r\n\t\t\t\t\t<el-input v-model=\"dataForm.name\" />\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('sortManagement.weight')\" prop=\"order\" v-if=\"dialogStatus!='detail'\">\r\n\t\t\t\t\t<el-input v-model=\"dataForm.order\" />\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\" v-if=\"dialogStatus!='detail' \">\r\n\t\t\t\t<el-button @click=\"dialogFormVisible = false\">{{$t('sortManagement.cancel')}}</el-button>\r\n\t\t\t\t<el-button v-if=\"dialogStatus=='create'\" type=\"primary\" @click=\"createData\">{{$t('sortManagement.confirm')}}</el-button>\r\n\t\t\t\t<el-button v-else type=\"primary\" @click=\"updateData\">{{$t('sortManagement.confirm')}}</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Pagination from \"@/components/Pagination\"; // Secondary package based on el-pagination\r\n\texport default {\r\n\t\tcomponents: { Pagination },\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\tlist: null,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tlistLoading: true,\r\n\t\t\t\tlistQuery: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tlimit: 10,\r\n\t\t\t\t\tusername: undefined,\r\n\t\t\t\t\tmobile: undefined,\r\n\t\t\t\t\tsort: \"create_time\",\r\n\t\t\t\t\torder: \"desc\",\r\n\t\t\t\t},\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tdialogStatus: \"\",\r\n\t\t\t\tdataForm: {\r\n\t\t\t\t\tid: undefined,\r\n\t\t\t\t\tsort: undefined,\r\n\t\t\t\t\tname: undefined,\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tname: [\r\n\t\t\t\t\t\t{ required: true, message: this.$t('sortManagement.message1'), trigger: \"blur\" },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tsort: [{ required: true, message: this.$t('sortManagement.message2'), trigger: \"blur\" }],\r\n\t\t\t\t},\r\n\t\t\t\ttextMap: {\r\n\t\t\t\t\tupdate: this.$t('sortManagement.edit'),\r\n\t\t\t\t\tdetail: this.$t('sortManagement.detail'),\r\n\t\t\t\t\tcreate: this.$t('sortManagement.create'),\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated () {\r\n\t\t\tthis.getList();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetList () {\r\n\t\t\t\tthis.listLoading = true;\r\n\t\t\t\tthis.$api(\"category.list\", this.listQuery).then((res) => {\r\n\t\t\t\t\tthis.list = res.data.list;\r\n\t\t\t\t\tthis.total = res.data.total;\r\n\t\t\t\t\tthis.listLoading = false;\r\n\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tthis.list = [];\r\n\t\t\t\t\t\tthis.total = 0;\r\n\t\t\t\t\t\tthis.listLoading = false;\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleFilter () {\r\n\t\t\t\tthis.listQuery.page = 1;\r\n\t\t\t\tthis.getList();\r\n\t\t\t},\r\n\t\t\tresetForm () {\r\n\t\t\t\tthis.dataForm = {\r\n\t\t\t\t\tsort: undefined,\r\n\t\t\t\t\tname: undefined,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\thandleCreate () {\r\n\t\t\t\tthis.resetForm();\r\n\t\t\t\tthis.dialogStatus = \"create\";\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$refs[\"dataForm\"].clearValidate();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcreateData () {\r\n\t\t\t\tthis.$refs[\"dataForm\"].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$api('category.createCategory', this.dataForm)\r\n\t\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\t\tthis.list.unshift(response.data);\r\n\t\t\t\t\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\t\t\t\t\tthis.$notify.success({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.success'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('sortManagement.createSuccess'),\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((response) => {\r\n\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.fail'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('response.' + response.data.errno)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleUpdate (row) {\r\n\t\t\t\tthis.dataForm = Object.assign({}, row);\r\n\t\t\t\tthis.dialogStatus = \"update\";\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$refs[\"dataForm\"].clearValidate();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupdateData () {\r\n\t\t\t\tthis.$refs[\"dataForm\"].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$api('category.updateCategory', { id: this.dataForm.id, name: this.dataForm.name })\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\tfor (const v of this.list) {\r\n\t\t\t\t\t\t\t\t\tif (v.id === this.dataForm.id) {\r\n\t\t\t\t\t\t\t\t\t\tconst index = this.list.indexOf(v);\r\n\t\t\t\t\t\t\t\t\t\tthis.list.splice(index, 1, this.dataForm);\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\t\t\t\t\tthis.$notify.success({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.success'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('sortManagement.editSuccess'),\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((response) => {\r\n\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.fail'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('response.' + response.data.errno)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleDisable (row) {\r\n\t\t\t\tthis.$confirm(this.$t('sortManagement.tipContent'), this.$t('sortManagement.tip'), {\r\n\t\t\t\t\tconfirmButtonText: this.$t('sortManagement.confirm'),\r\n\t\t\t\t\tcancelButtonText: this.$t('sortManagement.cancel'),\r\n\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.$api('category.disableCategory', { id: row.id })\r\n\t\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\t\tif (response.errno == -1) {\r\n\t\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\t\tmessage: this.$t('sortManagement.cantDisabled'),\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.$notify.success({\r\n\t\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.success'),\r\n\t\t\t\t\t\t\t\t\t\tmessage: this.$t('sortManagement.successfullyDisabled'),\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthis.getList();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((response) => {\r\n\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.disablingFailed'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('response.' + response.data.errno)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => { });\r\n\t\t\t},\r\n\t\t\thandleEnable (row) {\r\n\t\t\t\tthis.$confirm(this.$t('sortManagement.operationEnabled'), this.$t('sortManagement.tip'), {\r\n\t\t\t\t\tconfirmButtonText: this.$t('sortManagement.confirm'),\r\n\t\t\t\t\tcancelButtonText: this.$t('sortManagement.cancel'),\r\n\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.$api('category.enableCategory', { id: row.id })\r\n\t\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\t\tthis.$notify.success({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.success'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('sortManagement.enabledSuccessfully'),\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.getList();\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((response) => {\r\n\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('sortManagement.activationFailed'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('response.' + response.data.errno)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => { });\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.dataFormClass {\r\n\t\twidth: 400px;\r\n\t\tmargin-left: 50px;\r\n\t}\r\n</style>\r\n"]}]}