{"remainingRequest":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\components\\Media.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\components\\Media.vue","mtime":1650964597000},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\babel.config.js","mtime":1650964597000},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652081880827},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1652081856293},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652081880827},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1652081880134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLnN0YXJ0cy13aXRoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi9Vc2Vycy85NzE1NC9EZXNrdG9wL1NPTkdUUkFERVItVjItRlVMTC9maW5nZXJuZnRfYmxpbmRib3gvZmluZ2VybmZ0X2JsaW5kYm94L3Z1ZS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1lZGlhIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHR5cGVEYXRhOiB7CiAgICAgICAgaW1hZ2U6IFsiLmpwZWciLCAiLmpwZyIsICIucG5nIiwgIi5naWYiXSwKICAgICAgICBhdWRpbzogWyIubXAzIiwgIi53YXYiLCAiLm9nYSJdLAogICAgICAgIHZpZGVvOiBbIi53ZWJtIiwgIi5tcDQiLCAiLm00diIsICIub2dnIiwgIi5vZ3YiLCAiLm1vdiJdCiAgICAgIH0KICAgIH07CiAgfSwKICBwcm9wczogewogICAgdXJsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICAvLyDlj6/pgInvvJrmmK/lkKbpooTop4gKICAgIGlzUHJldmlldzogewogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgY29uZmlnOiBmdW5jdGlvbiBjb25maWcoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXIuY29uZmlnOwogICAgfQogIH0pKSwge30sIHsKICAgIG1lZGlhVXJsOiBmdW5jdGlvbiBtZWRpYVVybCgpIHsKICAgICAgaWYgKHRoaXMudXJsLnN0YXJ0c1dpdGgoImlwZnMiLCAwKSkgewogICAgICAgIHJldHVybiB0aGlzLnVybC5yZXBsYWNlKCJpcGZzOi8vIiwgdGhpcy5jb25maWcuaXBmc1VybCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMudXJsOwogICAgICB9CiAgICB9LAogICAgbWVkaWFUeXBlOiBmdW5jdGlvbiBtZWRpYVR5cGUoKSB7CiAgICAgIGlmICh0aGlzLnR5cGUpIHsKICAgICAgICByZXR1cm4gdGhpcy50eXBlLnNwbGl0KCcvJylbMF07CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiR0b29sLmlzQXVkaW9VcmwodGhpcy51cmwpKSByZXR1cm4gImF1ZGlvIjsKICAgICAgaWYgKHRoaXMuJHRvb2wuaXNWaWRlb1VybCh0aGlzLnVybCkpIHJldHVybiAidmlkZW8iOwogICAgICByZXR1cm4gImltYWdlIjsKICAgIH0sCiAgICBzcmNMaXN0OiBmdW5jdGlvbiBzcmNMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy5pc1ByZXZpZXcgPyBbdGhpcy5tZWRpYVVybF0gOiBbXTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBA;AACA;EACAA,aADA;EAEAC,IAFA,kBAEA;IACA;MACAC,oBADA;MAEAC;QACAC,wCADA;QAEAC,+BAFA;QAGAC;MAHA;IAFA;EAQA,CAXA;EAYAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAD;MACAA,YADA;MAEAC;IAFA,CALA;IASA;IACAC;MACAD;IADA;EAVA,CAZA;EA0BAE,0CACAC;IAAAC;MAAA;IAAA;EAAA,EADA;IAEAC,QAFA,sBAEA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CARA;IASAC,SATA,uBASA;MACA;QACA;MACA;;MACA;MACA;MACA;IACA,CAhBA;IAiBAC,OAjBA,qBAiBA;MACA;IACA;EAnBA;AA1BA","names":["name","data","dialogVisible","typeData","image","audio","video","props","url","type","default","isPreview","computed","mapState","config","mediaUrl","mediaType","srcList"],"sourceRoot":"src/components","sources":["Media.vue"],"sourcesContent":["<template>\n  <div class=\"il-media\">\n    <template v-if=\"mediaType === 'image'\">\n      <el-image style=\"width: 100px; height: 100px\" :src=\"mediaUrl\" :preview-src-list=\"srcList\">\n      </el-image>\n    </template>\n    <template v-else>\n      <audio v-if=\"mediaType === 'audio'\" :src=\"mediaUrl\" controls></audio>\n      <div class=\"video-wrap\" v-if=\"mediaType === 'video'\">\n        <video :src=\"mediaUrl\" :width=\"isPreview ? '80%' : '200px'\" :controls=\"isPreview ? 'controls' : ''\"></video>\n        <div @click=\"dialogVisible=true\" v-if=\"isPreview\" class=\"video-btn\"></div>\n      </div>\n    </template>\n    <el-dialog :visible.sync=\"dialogVisible\" class=\"media-dialog\">\n      <video :src=\"mediaUrl\" width=\"100%\" controls></video>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import { mapState } from \"vuex\";\n  export default {\n    name: \"Media\",\n    data () {\n      return {\n        dialogVisible: false,\n        typeData: {\n          image: [\".jpeg\", \".jpg\", \".png\", \".gif\"],\n          audio: [\".mp3\", \".wav\", \".oga\"],\n          video: [\".webm\", \".mp4\", \".m4v\", \".ogg\", \".ogv\", \".mov\"],\n        },\n      };\n    },\n    props: {\n      url: {\n        type: String,\n        default: '',\n      },\n      type: {\n        type: String,\n        default: '',\n      },\n      // 可选：是否预览\n      isPreview: {\n        default: false,\n      },\n    },\n    computed: {\n      ...mapState({ config: (state) => state.user.config }),\n      mediaUrl () {\n        if (this.url.startsWith(\"ipfs\", 0)) {\n          return this.url.replace(\"ipfs://\", this.config.ipfsUrl);\n        } else {\n          return this.url;\n        }\n      },\n      mediaType () {\n        if(this.type){\n          return this.type.split('/')[0];\n        }\n        if(this.$tool.isAudioUrl(this.url)) return \"audio\";\n        if(this.$tool.isVideoUrl(this.url)) return \"video\";\n        return \"image\";\n      },\n      srcList () {\n        return this.isPreview ? [this.mediaUrl] : [];\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n  table audio {\n    width: 80%;\n  }\n  .il-media:hover {\n    cursor: pointer;\n  }\n  .video-wrap {\n    position: relative;\n  }\n  .video-btn {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n</style>\n\n"]}]}