{"remainingRequest":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\views\\paytoken\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\src\\views\\paytoken\\list.vue","mtime":1650964597000},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\babel.config.js","mtime":1650964597000},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652081880827},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1652081856293},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652081880827},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1652081880134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvOTcxNTQvRGVza3RvcC9TT05HVFJBREVSLVYyLUZVTEwvZmluZ2VybmZ0X2JsaW5kYm94L2Zpbmdlcm5mdF9ibGluZGJveC92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIkAvY29tcG9uZW50cy9QYWdpbmF0aW9uIjsgLy8gU2Vjb25kYXJ5IHBhY2thZ2UgYmFzZWQgb24gZWwtcGFnaW5hdGlvbgoKaW1wb3J0IE1lZGlhIGZyb20gIkAvY29tcG9uZW50cy9NZWRpYSI7CmltcG9ydCBVcGxvYWRVbml0IGZyb20gIkAvY29tcG9uZW50cy9VcGxvYWQudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFBhZ2luYXRpb246IFBhZ2luYXRpb24sCiAgICBNZWRpYTogTWVkaWEsCiAgICBVcGxvYWRVbml0OiBVcGxvYWRVbml0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG90YWw6IDAsCiAgICAgIGxpc3Q6IG51bGwsCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICB0eXBlczogW3sKICAgICAgICB2YWx1ZTogMCwKICAgICAgICBuYW1lOiAiRVRIIgogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgbmFtZTogIkVSQzIwIgogICAgICB9XSwKICAgICAgbGlzdFF1ZXJ5OiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnNldHRpbmcubGltaXQKICAgICAgfSwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBkaWFsb2dTdGF0dXM6ICIiLAogICAgICBkYXRhRm9ybToge30sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgYWRkcmVzczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgncGF5dG9rZW4uZW1wdHlBZGRyZXNzJyksCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICB0ZXh0TWFwOiB7CiAgICAgICAgdXBkYXRlOiB0aGlzLiR0KCdnbG9iYWwuZWRpdCcpLAogICAgICAgIGRldGFpbDogdGhpcy4kdCgnZ2xvYmFsLmRldGFpbCcpLAogICAgICAgIGNyZWF0ZTogdGhpcy4kdCgnZ2xvYmFsLmNyZWF0ZScpCiAgICAgIH0sCiAgICAgIGZpbGVJbWFnZTogIiIsCiAgICAgIGZpbGVsaXN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFRva2VuVHlwZTogZnVuY3Rpb24gZ2V0VG9rZW5UeXBlKHR5cGUpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnR5cGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHR5cGUgPT0gdGhpcy50eXBlc1tpXS52YWx1ZSkgewogICAgICAgICAgcmV0dXJuIHRoaXMudHlwZXNbaV0ubmFtZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVBdmF0YXI6IGZ1bmN0aW9uIHVwZGF0ZUF2YXRhcihmaWxlKSB7CiAgICAgIHRoaXMuZmlsZUltYWdlID0gZmlsZTsKICAgICAgdGhpcy5kYXRhRm9ybS5hdmF0YXIgPSBmaWxlOwogICAgfSwKICAgIHVwbG9hZENoYW5nZTogZnVuY3Rpb24gdXBsb2FkQ2hhbmdlKGZpbGUsIG5hbWUpIHsKICAgICAgdmFyIGV2ZW50ID0gZXZlbnQgfHwgd2luZG93LmV2ZW50OwogICAgICB2YXIgZmlsZXMgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZmlsZWxpc3QgPSBbXTsKICAgICAgdGhpcy5maWxlSW1hZ2UgPSBmaWxlLnJhdzsKCiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzLmRhdGFGb3JtID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMuZGF0YUZvcm0sIHsKICAgICAgICAgIGF2YXRhcjogZS50YXJnZXQucmVzdWx0CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlcyk7CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBpKCJwYXl0b2tlbi5saXN0IiwgdGhpcy5saXN0UXVlcnkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChfdGhpczIuJHRvb2wuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICBfdGhpczIubGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICBfdGhpczIudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgICB9CgogICAgICAgIF90aGlzMi5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMyLmxpc3QgPSBbXTsKICAgICAgICBfdGhpczIudG90YWwgPSAwOwogICAgICAgIF90aGlzMi5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVGaWx0ZXI6IGZ1bmN0aW9uIGhhbmRsZUZpbHRlcigpIHsKICAgICAgdGhpcy5saXN0UXVlcnkucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgICB0aGlzLmRhdGFGb3JtID0ge307CiAgICB9LAogICAgaGFuZGxlQ3JlYXRlOiBmdW5jdGlvbiBoYW5kbGVDcmVhdGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5yZXNldEZvcm0oKTsKICAgICAgdGhpcy5kaWFsb2dTdGF0dXMgPSAiY3JlYXRlIjsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJHJlZnNbImRhdGFGb3JtIl0uY2xlYXJWYWxpZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkNyZWF0ZTogZnVuY3Rpb24gb25DcmVhdGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWyJkYXRhRm9ybSJdLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbGlkKSB7CiAgICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIDsKCiAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuZmlsZUltYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudXBsb2FkRmlsZSgpOwoKICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLiR0b29sLmNoZWNrUmVzcG9uc2UocmVzcG9uc2UpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfdGhpcy4kdCgiZ2xvYmFsLmZhaWwiKSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5lcnJtc2cKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgIF90aGlzLmNyZWF0ZURhdGEocmVzcG9uc2UpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgY3JlYXRlRGF0YTogZnVuY3Rpb24gY3JlYXRlRGF0YShyZXNwb25zZSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kYXRhRm9ybSk7CiAgICAgIGRhdGEuaXNEZWZhdWx0ID0gIWRhdGEuaXNEZWZhdWx0ID8gMCA6IDE7CgogICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICBkYXRhLmF2YXRhciA9IHJlc3BvbnNlLmRhdGEudXJsOwogICAgICB9CgogICAgICB0aGlzLiRhcGkoJ3BheXRva2VuLmNyZWF0ZScsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChfdGhpczQuJHRvb2wuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICBfdGhpczQuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczQuJG5vdGlmeS5zdWNjZXNzKHsKICAgICAgICAgICAgdGl0bGU6IF90aGlzNC4kdCgnZ2xvYmFsLnN1Y2Nlc3MnKSwKICAgICAgICAgICAgbWVzc2FnZTogX3RoaXM0LiR0KCdnbG9iYWwuY3JlYXRlU3VjY2VzcycpCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczQuZ2V0TGlzdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczQuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgIHRpdGxlOiBfdGhpczQuJHQoJ2dsb2JhbC5jcmVhdGVGYWlsJyksCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5lcnJtc2cKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgIHRpdGxlOiBfdGhpczQuJHQoJ2dsb2JhbC5jcmVhdGVGYWlsJyksCiAgICAgICAgICBtZXNzYWdlOiBfdGhpczQuJHQoJ3Jlc3BvbnNlLicgKyByZXMuZGF0YS5lcnJubykKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlVXBkYXRlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5kYXRhRm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIHJvdyk7CiAgICAgIHRoaXMuZGF0YUZvcm0uaXNEZWZhdWx0ID0gdGhpcy5kYXRhRm9ybS5pc0RlZmF1bHQgPT0gMSA/IHRydWUgOiBmYWxzZTsKICAgICAgdGhpcy5kaWFsb2dTdGF0dXMgPSAidXBkYXRlIjsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuJHJlZnNbImRhdGFGb3JtIl0uY2xlYXJWYWxpZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBvblVwZGF0ZTogZnVuY3Rpb24gb25VcGRhdGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWyJkYXRhRm9ybSJdLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodmFsaWQpIHsKICAgICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuZmlsZUltYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy51cGxvYWRGaWxlKCk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLiR0b29sLmNoZWNrUmVzcG9uc2UocmVzcG9uc2UpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMuJHQoImdsb2JhbC5mYWlsIiksCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZXJybXNnCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlRGF0YShyZXNwb25zZSk7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICB1cGxvYWRGaWxlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdXBsb2FkRmlsZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IF90aGlzNi5kYXRhRm9ybTsKICAgICAgICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIF90aGlzNi5maWxlSW1hZ2UpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2LiRhcGkoInN0b3JhZ2UuY3JlYXRlIiwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGxvYWRGaWxlKCkgewogICAgICAgIHJldHVybiBfdXBsb2FkRmlsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdXBsb2FkRmlsZTsKICAgIH0oKSwKICAgIHVwZGF0ZURhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGRhdGVEYXRhID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChyZXNwb25zZSkgewogICAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGF0YUZvcm0pOwogICAgICAgICAgICAgICAgZGF0YS5pc0RlZmF1bHQgPSAhdGhpcy5kYXRhRm9ybS5pc0RlZmF1bHQgPyAwIDogMTsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgZGF0YS5hdmF0YXIgPSByZXNwb25zZS5kYXRhLnVybDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLiRhcGkoJ3BheXRva2VuLnVwZGF0ZScsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAoX3RoaXM3LiR0b29sLmNoZWNrUmVzcG9uc2UocmVzKSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczcuJG5vdGlmeS5zdWNjZXNzKHsKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfdGhpczcuJHQoJ2dsb2JhbC5zdWNjZXNzJyksCiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfdGhpczcuJHQoJ2dsb2JhbC5lZGl0U3VjY2VzcycpCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNy5nZXRMaXN0KCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM3LiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IF90aGlzNy4kdCgnZ2xvYmFsLmZhaWwnKSwKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5lcnJtc2cKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczcuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IF90aGlzNy4kdCgnZ2xvYmFsLmZhaWwnKSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfdGhpczcuJHQoJ3Jlc3BvbnNlLicgKyByZXMuZGF0YS5lcnJubykKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlRGF0YShfeDMpIHsKICAgICAgICByZXR1cm4gX3VwZGF0ZURhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwZGF0ZURhdGE7CiAgICB9KCksCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKHRoaXMuJHQoJ2dsb2JhbC5kZWxldGVUaXAnKSwgdGhpcy4kdCgnZ2xvYmFsLnRpcCcpLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHRoaXMuJHQoJ2dsb2JhbC5jb25maXJtJyksCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogdGhpcy4kdCgnZ2xvYmFsLmNhbmNlbCcpLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczguJGFwaSgncGF5dG9rZW4uZGVsZXRlJywgewogICAgICAgICAgYWRkcmVzczogcm93LmFkZHJlc3MKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChfdGhpczguJHRvb2wuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICAgIF90aGlzOC4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICAgIHRpdGxlOiBfdGhpczguJHQoJ2dsb2JhbC5zdWNjZXNzJyksCiAgICAgICAgICAgICAgbWVzc2FnZTogX3RoaXM4LiR0KCdnbG9iYWwuZGVsZXRlU3VjY2VzcycpCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXM4LmdldExpc3QoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzOC4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICBtZXNzYWdlOiBfdGhpczguJHQoJ2dsb2JhbC5kZWxldGVGYWlsJykKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM4LiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICB0aXRsZTogX3RoaXM4LiR0KCdnbG9iYWwuZGVsZXRlRmFpbCcpLAogICAgICAgICAgICBtZXNzYWdlOiBfdGhpczguJHQoJ3Jlc3BvbnNlLicgKyByZXMuZGF0YS5lcnJubykKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA,iD,CAAA;;AACA;AACA;AACA;EACAA;IAAAC;IAAAC;IAAAC;EAAA,CADA;EAEAC,IAFA,kBAEA;IACA;MACAC,QADA;MAEAC,UAFA;MAGAC,iBAHA;MAIAC,QACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,CAJA;MAQAC;QACAC,OADA;QAEAC;MAFA,CARA;MAYAC,wBAZA;MAaAC,gBAbA;MAcAC,YAdA;MAeAC;QACAC;UAAAC;UAAAC;UAAAC;QAAA;MADA,CAfA;MAkBAC;QACAC,8BADA;QAEAC,gCAFA;QAGAC;MAHA,CAlBA;MAuBAC,aAvBA;MAwBAC;IAxBA;EA0BA,CA7BA;EA8BAC,OA9BA,qBA8BA;IACA;EACA,CAhCA;EAiCAC;IACAC,YADA,wBACAC,IADA,EACA;MACA;QACA;UACA;QACA;MACA;IACA,CAPA;IAQAC,YARA,wBAQAC,IARA,EAQA;MACA;MACA;IACA,CAXA;IAYAC,YAZA,wBAYAD,IAZA,EAYAvB,IAZA,EAYA;MACA;MACA;MACA;;MACA;;MACA;MACA;;MACAyB;QACAC;UACAC;QADA;MAGA,CAJA;;MAKAF;IACA,CAzBA;IA0BAG,OA1BA,qBA0BA;MAAA;;MACA;MACA;QACA;UACA;UACA;QACA;;QACA;MACA,CANA,EAMAC,KANA,CAMA;QACA;QACA;QACA;MACA,CAVA;IAWA,CAvCA;IAwCAC,YAxCA,0BAwCA;MACA;MACA;IACA,CA3CA;IA4CAC,SA5CA,uBA4CA;MACA;IACA,CA9CA;IA+CAC,YA/CA,0BA+CA;MAAA;;MACA;MACA;MACA;MACA;QACA;MACA,CAFA;IAGA,CAtDA;IAuDAC,QAvDA,sBAuDA;MACA;;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,KACAC,KADA;oBAAA;oBAAA;kBAAA;;kBAEA;;kBAFA,KAGAR,eAHA;oBAAA;oBAAA;kBAAA;;kBAAA;kBAAA,OAIAA,kBAJA;;gBAAA;kBAIAS,QAJA;;kBAAA,IAKAT,mCALA;oBAAA;oBAAA;kBAAA;;kBAMAA;oBACAU,8BADA;oBAEA1B;kBAFA;;kBANA;;gBAAA;kBAaAgB;;gBAbA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;;QAAA;UAAA;QAAA;MAAA;IAgBA,CAzEA;IA0EAW,UA1EA,sBA0EAF,QA1EA,EA0EA;MAAA;;MACA;MACAzC;;MACA;QACAA;MACA;;MACA,mCACA4C,IADA,CACA;QACA;UACA;;UACA;YACAF,kCADA;YAEA1B;UAFA;;UAIA;QACA,CAPA,MAOA;UACA;YACA0B,qCADA;YAEA1B;UAFA;QAIA;MACA,CAfA,EAgBAmB,KAhBA,CAgBA;QACA;UACAO,qCADA;UAEA1B;QAFA;MAIA,CArBA;IAsBA,CAtGA;IAuGA6B,YAvGA,wBAuGAC,GAvGA,EAuGA;MAAA;;MACA;MACA;MACA;MACA;MACA;QACA;MACA,CAFA;IAGA,CA/GA;IAgHAC,QAhHA,sBAgHA;MACA;;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,KACAP,KADA;oBAAA;oBAAA;kBAAA;;kBAAA,KAGAR,eAHA;oBAAA;oBAAA;kBAAA;;kBAAA;kBAAA,OAIAA,kBAJA;;gBAAA;kBAIAS,QAJA;;kBAAA,IAKAT,mCALA;oBAAA;oBAAA;kBAAA;;kBAMAA;oBACAU,8BADA;oBAEA1B;kBAFA;;kBANA;;gBAAA;kBAaAgB;;gBAbA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;;QAAA;UAAA;QAAA;MAAA;IAgBA,CAlIA;IAmIAgB,UAnIA;MAAA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA,kCAoIA;kBACA;kBACA;kBACAC;;kBAEA;oBACAC;kBACA,CAFA;gBAGA,CARA,CApIA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;MAAA;QAAA;MAAA;;MAAA;IAAA;IA8IAC,UA9IA;MAAA,4FA8IAV,QA9IA;QAAA;;QAAA;QAAA;UAAA;YAAA;cAAA;gBA+IAzC,IA/IA,GA+IAoD,gCA/IA;gBAgJApD;;gBACA;kBACAA;gBACA;;gBACA,mCACA4C,IADA,CACA;kBACA;oBACA;;oBACA;sBACAF,kCADA;sBAEA1B;oBAFA;;oBAIA;kBACA,CAPA,MAOA;oBACA;sBACA0B,+BADA;sBAEA1B;oBAFA;kBAIA;gBACA,CAfA,EAgBAmB,KAhBA,CAgBA;kBACA;oBACAO,+BADA;oBAEA1B;kBAFA;gBAIA,CArBA;;cApJA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;MAAA;QAAA;MAAA;;MAAA;IAAA;IA4KAqC,YA5KA,wBA4KAP,GA5KA,EA4KA;MAAA;;MACA;QACAQ,4CADA;QAEAC,0CAFA;QAGA5B;MAHA,GAKAiB,IALA,CAKA;QACA;UAAA9B;QAAA,GACA8B,IADA,CACA;UACA;YACA;cACAF,kCADA;cAEA1B;YAFA;;YAIA;UACA,CANA,MAMA;YACA;cACAA;YADA;UAGA;QACA,CAbA,EAcAmB,KAdA,CAcA;UACA;YACAO,qCADA;YAEA1B;UAFA;QAIA,CAnBA;MAoBA,CA1BA,EA2BAmB,KA3BA,CA2BA,cA3BA;IA4BA;EAzMA;AAjCA","names":["components","Pagination","Media","UploadUnit","data","total","list","listLoading","types","value","name","listQuery","page","limit","dialogFormVisible","dialogStatus","dataForm","rules","address","required","message","trigger","textMap","update","detail","create","fileImage","filelist","created","methods","getTokenType","type","updateAvatar","file","uploadChange","reader","_this","avatar","getList","catch","handleFilter","resetForm","handleCreate","onCreate","valid","response","title","createData","then","handleUpdate","row","onUpdate","uploadFile","formData","resolve","updateData","Object","handleDelete","confirmButtonText","cancelButtonText"],"sourceRoot":"src/views/paytoken","sources":["list.vue"],"sourcesContent":["<template>\r\n\t<div class=\"app-container\">\r\n\r\n\t\t<!-- 查询和其他操作 -->\r\n\t\t<div class=\"filter-container\">\r\n\t\t\t<el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleCreate\" v-permission=\"['POST /admin/paytoken/create']\">{{$t('paytoken.create')}}</el-button>\r\n\t\t</div>\r\n\r\n\t\t<!-- 查询结果 -->\r\n\t\t<el-table v-loading=\"listLoading\" :data=\"list\" :element-loading-text=\"$t('global.loadingText')\" border fit highlight-current-row>\r\n\t\t\t<el-table-column align=\"center\" label=\"Id\" prop=\"id\" sortable />\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('paytoken.name')\" prop=\"name\" />\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('paytoken.symbol')\" prop=\"symbol\" />\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('paytoken.avatar')\" prop=\"avatar\" width=\"120\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<media :url=\"scope.row.avatar\" type=\"image\" :isPreview=\"true\"></media>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('paytoken.decimals')\" prop=\"decimals\" />\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('paytoken.type')\" prop=\"type\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t{{ getTokenType(scope.row.type) }}\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('paytoken.address')\" prop=\"address\" />\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('paytoken.default')\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag type=\"info\" v-if=\"!scope.row.isDefault\">{{$t('paytoken.no')}}</el-tag>\r\n\t\t\t\t\t<el-tag type=\"success\" v-else>{{$t('paytoken.yes')}}</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\r\n\t\t\t<el-table-column align=\"center\" :label=\"$t('paytoken.operate')\" width=\"300\" class-name=\"small-padding fixed-width\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button v-permission=\"['POST /admin/paytoken/update']\" type=\"primary\" size=\"mini\" @click=\"handleUpdate(scope.row)\">{{$t('paytoken.edit')}}</el-button>\r\n\t\t\t\t\t<el-button v-permission=\"['POST /admin/paytoken/delete']\" type=\"danger\" size=\"mini\" @click=\"handleDelete(scope.row)\" v-if=\"!scope.row.deleted\">{{$t('paytoken.delete')}}</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\r\n\t\t</el-table>\r\n\r\n\t\t<pagination :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getList\" />\r\n\r\n\t\t<!-- 添加或修改对话框 -->\r\n\t\t<el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t<el-form ref=\"dataForm\" :rules=\"rules\" :model=\"dataForm\" status-icon label-position=\"left\" label-width=\"120px\">\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('paytoken.type')\" prop=\"type\">\r\n\t\t\t\t\t<el-select v-model=\"dataForm.type\">\r\n\t\t\t\t\t\t<el-option v-for=\"type in types\" :key=\"type.value\" :label=\"type.name\" :value=\"type.value\">\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('paytoken.address')\" prop=\"address\" v-if=\"dataForm.type != 0\">\r\n\t\t\t\t\t<el-input v-model=\"dataForm.address\" />\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('paytoken.avatar')\" prop=\"avatar\">\r\n\t\t\t\t\t<!-- <el-upload ref=\"upload\" action=\"\" :auto-upload=\"false\" :show-file-list=\"false\" :file-list=\"filelist\" :limit=\"1\" class=\"avatar-uploader\" accept=\"image/jpg, image/jpeg, image/png, image/gif\" :on-change=\" (file) => { uploadChange(file, 'cover'); }\">\r\n            <media v-if=\"dataForm.avatar\" :url=\"dataForm.avatar\" type=\"image\"></media>\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload> -->\r\n\t\t\t\t\t<upload-unit v-if=\"dialogFormVisible\" :refName=\"'paytokenRef'\" :limitNum=\"1\" :imageData=\"dataForm.avatar\" :uploadStatus=\"dialogStatus == 'create' || dialogStatus == 'update'\" @updateData=\"updateAvatar\"></upload-unit>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item :label=\"$t('paytoken.default')\" prop=\"isDefault\">\r\n\t\t\t\t\t<el-checkbox v-model=\"dataForm.isDefault\" :label=\"$t('paytoken.default')\"></el-checkbox>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t</el-form>\r\n\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\" v-if=\"dialogStatus!='detail' \">\r\n\t\t\t\t<el-button @click=\"dialogFormVisible = false\">{{$t('global.cancel')}}</el-button>\r\n\t\t\t\t<el-button v-if=\"dialogStatus=='create'\" type=\"primary\" @click=\"onCreate\">{{$t('global.confirm')}}</el-button>\r\n\t\t\t\t<el-button v-else type=\"primary\" @click=\"onUpdate\">{{$t('global.confirm')}}</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport Pagination from \"@/components/Pagination\"; // Secondary package based on el-pagination\r\n\timport Media from \"@/components/Media\";\r\n\timport UploadUnit from \"@/components/Upload.vue\";\r\n\texport default {\r\n\t\tcomponents: { Pagination, Media, UploadUnit },\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tlist: null,\r\n\t\t\t\tlistLoading: true,\r\n\t\t\t\ttypes: [\r\n\t\t\t\t\t{ value: 0, name: \"ETH\" },\r\n\t\t\t\t\t{ value: 1, name: \"ERC20\" },\r\n\t\t\t\t],\r\n\t\t\t\tlistQuery: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tlimit: this.$store.state.app.setting.limit,\r\n\t\t\t\t},\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tdialogStatus: \"\",\r\n\t\t\t\tdataForm: {},\r\n\t\t\t\trules: {\r\n\t\t\t\t\taddress: [{ required: true, message: this.$t('paytoken.emptyAddress'), trigger: \"blur\" }],\r\n\t\t\t\t},\r\n\t\t\t\ttextMap: {\r\n\t\t\t\t\tupdate: this.$t('global.edit'),\r\n\t\t\t\t\tdetail: this.$t('global.detail'),\r\n\t\t\t\t\tcreate: this.$t('global.create'),\r\n\t\t\t\t},\r\n\t\t\t\tfileImage: \"\",\r\n\t\t\t\tfilelist: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated () {\r\n\t\t\tthis.getList();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetTokenType (type) {\r\n\t\t\t\tfor (var i = 0;i < this.types.length;i++) {\r\n\t\t\t\t\tif (type == this.types[i].value) {\r\n\t\t\t\t\t\treturn this.types[i].name;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tupdateAvatar (file) {\r\n\t\t\t\tthis.fileImage = file\r\n\t\t\t\tthis.dataForm.avatar = file\r\n\t\t\t},\r\n\t\t\tuploadChange (file, name) {\r\n\t\t\t\tvar event = event || window.event;\r\n\t\t\t\tvar files = event.target.files[0];\r\n\t\t\t\tvar reader = new FileReader();\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.filelist = [];\r\n\t\t\t\tthis.fileImage = file.raw;\r\n\t\t\t\treader.onload = function (e) {\r\n\t\t\t\t\t_this.dataForm = Object.assign({}, _this.dataForm, {\r\n\t\t\t\t\t\tavatar: e.target.result,\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\treader.readAsDataURL(files);\r\n\t\t\t},\r\n\t\t\tgetList () {\r\n\t\t\t\tthis.listLoading = true;\r\n\t\t\t\tthis.$api(\"paytoken.list\", this.listQuery).then((res) => {\r\n\t\t\t\t\tif (this.$tool.checkResponse(res)) {\r\n\t\t\t\t\t\tthis.list = res.data.list;\r\n\t\t\t\t\t\tthis.total = res.data.total;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.listLoading = false;\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tthis.list = [];\r\n\t\t\t\t\tthis.total = 0;\r\n\t\t\t\t\tthis.listLoading = false;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleFilter () {\r\n\t\t\t\tthis.listQuery.page = 1;\r\n\t\t\t\tthis.getList();\r\n\t\t\t},\r\n\t\t\tresetForm () {\r\n\t\t\t\tthis.dataForm = {};\r\n\t\t\t},\r\n\t\t\thandleCreate () {\r\n\t\t\t\tthis.resetForm();\r\n\t\t\t\tthis.dialogStatus = \"create\";\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$refs[\"dataForm\"].clearValidate();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonCreate () {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.$refs[\"dataForm\"].validate(async function (valid) {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tvar response;;\r\n\t\t\t\t\t\tif (_this.fileImage) {\r\n\t\t\t\t\t\t\tresponse = await _this.uploadFile();\r\n\t\t\t\t\t\t\tif (!_this.$tool.checkResponse(response)) {\r\n\t\t\t\t\t\t\t\t_this.$notify.error({\r\n\t\t\t\t\t\t\t\t\ttitle: _this.$t(\"global.fail\"),\r\n\t\t\t\t\t\t\t\t\tmessage: response.errmsg,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.createData(response);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcreateData (response) {\r\n\t\t\t\tvar data = Object.assign({}, this.dataForm);\r\n\t\t\t\tdata.isDefault = !data.isDefault ? 0 : 1;\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tdata.avatar = response.data.url;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$api('paytoken.create', data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (this.$tool.checkResponse(res)) {\r\n\t\t\t\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\t\t\t\tthis.$notify.success({\r\n\t\t\t\t\t\t\t\ttitle: this.$t('global.success'),\r\n\t\t\t\t\t\t\t\tmessage: this.$t('global.createSuccess'),\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.getList();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\ttitle: this.$t('global.createFail'),\r\n\t\t\t\t\t\t\t\tmessage: res.errmsg,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((res) => {\r\n\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\ttitle: this.$t('global.createFail'),\r\n\t\t\t\t\t\t\tmessage: this.$t('response.' + res.data.errno)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleUpdate (row) {\r\n\t\t\t\tthis.dataForm = Object.assign({}, row);\r\n\t\t\t\tthis.dataForm.isDefault = this.dataForm.isDefault == 1 ? true : false;\r\n\t\t\t\tthis.dialogStatus = \"update\";\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$refs[\"dataForm\"].clearValidate();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonUpdate () {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.$refs[\"dataForm\"].validate(async function (valid) {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tvar response;\r\n\t\t\t\t\t\tif (_this.fileImage) {\r\n\t\t\t\t\t\t\tresponse = await _this.uploadFile();\r\n\t\t\t\t\t\t\tif (!_this.$tool.checkResponse(response)) {\r\n\t\t\t\t\t\t\t\t_this.$notify.error({\r\n\t\t\t\t\t\t\t\t\ttitle: _this.$t(\"global.fail\"),\r\n\t\t\t\t\t\t\t\t\tmessage: response.errmsg,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.updateData(response);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync uploadFile () {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tvar data = this.dataForm;\r\n\t\t\t\t\tlet formData = new FormData();\r\n\t\t\t\t\tformData.append(\"file\", this.fileImage);\r\n\r\n\t\t\t\t\tthis.$api(\"storage.create\", formData).then((response) => {\r\n\t\t\t\t\t\tresolve(response);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync updateData (response) {\r\n\t\t\t\tvar data = Object.assign({}, this.dataForm);\r\n\t\t\t\tdata.isDefault = !this.dataForm.isDefault ? 0 : 1;\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tdata.avatar = response.data.url;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$api('paytoken.update', data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (this.$tool.checkResponse(res)) {\r\n\t\t\t\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\t\t\t\tthis.$notify.success({\r\n\t\t\t\t\t\t\t\ttitle: this.$t('global.success'),\r\n\t\t\t\t\t\t\t\tmessage: this.$t('global.editSuccess'),\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.getList();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\ttitle: this.$t('global.fail'),\r\n\t\t\t\t\t\t\t\tmessage: res.errmsg\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((res) => {\r\n\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\ttitle: this.$t('global.fail'),\r\n\t\t\t\t\t\t\tmessage: this.$t('response.' + res.data.errno)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\thandleDelete (row) {\r\n\t\t\t\tthis.$confirm(this.$t('global.deleteTip'), this.$t('global.tip'), {\r\n\t\t\t\t\tconfirmButtonText: this.$t('global.confirm'),\r\n\t\t\t\t\tcancelButtonText: this.$t('global.cancel'),\r\n\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.$api('paytoken.delete', { address: row.address })\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tif (this.$tool.checkResponse(res)) {\r\n\t\t\t\t\t\t\t\t\tthis.$notify.success({\r\n\t\t\t\t\t\t\t\t\t\ttitle: this.$t('global.success'),\r\n\t\t\t\t\t\t\t\t\t\tmessage: this.$t('global.deleteSuccess'),\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthis.getList();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\t\tmessage: this.$t('global.deleteFail'),\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((res) => {\r\n\t\t\t\t\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\t\t\t\t\ttitle: this.$t('global.deleteFail'),\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t('response.' + res.data.errno)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => { });\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.dataFormClass {\r\n\t\twidth: 400px;\r\n\t\tmargin-left: 50px;\r\n\t}\r\n\t.avatar-uploader .el-upload {\r\n\t\tborder: 1px dashed #d9d9d9;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.avatar-uploader .el-upload:hover {\r\n\t\tborder-color: #20a0ff;\r\n\t}\r\n\t.avatar-uploader-icon {\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #8c939d;\r\n\t\twidth: 120px;\r\n\t\theight: 120px;\r\n\t\tline-height: 120px;\r\n\t\ttext-align: center;\r\n\t}\r\n</style>\r\n"]}]}