{"remainingRequest":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\views\\sections\\Collection.vue?vue&type=style&index=1&id=44fd7f95&lang=scss","dependencies":[{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\views\\sections\\Collection.vue","mtime":1650964597000},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":1652258042074},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1652258044998},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\postcss-loader\\src\\index.js","mtime":1652258043094},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1652258078791},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652258014056},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1652258044998}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgLnVzZXItdGFiLW1lbnVzIHsKICAgIC5lbC10YWJzX19pdGVtIHsKICAgICAgY29sb3I6ICM5OTk7CiAgICAgIGhlaWdodDogMzVweDsKICAgICAgbGluZS1oZWlnaHQ6IDM1cHg7CiAgICAgICY6aG92ZXIsCiAgICAgICY6YWN0aXZlLAogICAgICAmOmZvY3VzIHsKICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgfQogICAgICAmLmlzLWFjdGl2ZSB7CiAgICAgICAgY29sb3I6ICMzMzM7CiAgICAgIH0KICAgIH0KICAgIC5lbC10YWJzX19hY3RpdmUtYmFyIHsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMzsKICAgIH0KICB9Cg=="},{"version":3,"sources":["C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\views\\sections\\Collection.vue"],"names":[],"mappings":";EAoiBE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACb;MACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACV,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACb;IACF;IACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACxB;EACF","file":"C:/Users/Mohamed Tamim/Desktop/SONGTRADER-V2-FULL/fingernft_blindbox/fingernft_blindbox/vue-web/src/views/sections/Collection.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"collection-detail\">\n    <div class=\"bg-box\" :style=\" imgUrl ? 'background: url('+$filters.fullImageUrl(imgUrl)+') no-repeat; background-size: cover;':'' \">\n      <div class=\"head-portrait\">\n        <avatar class=\"u-info-avatar\" :imageUrl=\"$filters.fullImageUrl(contract.cover)\" :address=\"contract.address\" :imgWidth=\"88\" :imgHeight=\"88\" shape=\"circular\"></avatar>\n      </div>\n    </div>\n    <div class=\"collection-info\">\n      <div class=\"u-info-name\" v-if=\"contract.name\">{{ contract.name }}</div>\n      <div class=\"u-info-address justify-center\">\n        <span>{{ showAddress }}</span>\n        <span class=\"u-info-copy iconfont icon-copy\" v-clipboard:copy=\"contract.address\" v-clipboard:success=\"onSuccessCopy\" v-clipboard:error=\"onErrorCopy\"></span>\n      </div>\n      <div class=\"u-info-introduction\">\n        {{ contract.description || $t('collection.introduction') }}\n      </div>\n    </div>\n    <div class=\"item-page main-wrapper\">\n      <div class=\"item-tab\">\n        <el-tabs class=\"user-tab-menus\" v-model=\"tab\">\n          <el-tab-pane class=\"tab-content-info\" v-for=\"(tab,i) in tabs\" :key=\"i\" :name=\"tab.name\">\n            <template #label>\n              <div class=\"tab-content-title\">\n                <span>{{tab.title}}</span>\n                <span>({{tab.count}})</span>\n              </div>\n            </template>\n\n            <div class=\"new-nft-list\" v-infinite-scroll=\"loadList\">\n              <div class=\"tab-content-none\" v-if=\"!nftList[tab.name].length && loadStatus != 'loading'\">\n                <div class=\"tab-info\">\n                  <div class=\"tab-title\">{{$t('account.noFound')}}</div>\n                  <div class=\"tab-intro\">{{$t('account.noFoundText')}}</div>\n                  <el-button class=\"tab-btn\" @click=\"goHome\">{{$t('account.browseMarketplace')}}\n                  </el-button>\n                </div>\n              </div>\n              <template v-else>\n                <div class=\"nft\">\n                  <nft-item v-for=\"(nft, i) in nftList[tab.name]\" :nft=\"nft\" :index=\"i\" @showDialog=\"showDialog\" @onLike=\"onLike\" :key=\"i\">\n                  </nft-item>\n                  <nft-item-load :loadStatus=\"loadStatus\"></nft-item-load>\n                </div>\n\n              </template>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n\n      <sale-dialog :show=\"showSaleDialog\" @close=\"closeDialog\" @confirm=\"dialogConfirm\" :asset=\"dialogOrder\" :nft=\"dialogNft\" :uri=\"dialogNftURI\">\n      </sale-dialog>\n      <cancel-sale-dialog :show=\"showCancelSaleDialog\" @close=\"closeDialog\" @confirm=\"dialogConfirm\" :asset=\"dialogOrder\" :nft=\"dialogNft\" :uri=\"dialogNftURI\">\n      </cancel-sale-dialog>\n      <buy-dialog :show=\"showBuyDialog\" @close=\"closeDialog\" @confirm=\"dialogConfirm\" :asset=\"dialogOrder\" :nft=\"dialogNft\" :uri=\"dialogNftURI\">\n      </buy-dialog>\n\n      <bid-dialog :show=\"showBidDialog\" @close=\"closeDialog\" @confirm=\"dialogConfirm\" :bid=\"dialogOrder\" :myAsset=\"dialogMyAsset\" :nft=\"dialogNft\" :uri=\"dialogNftURI\">\n      </bid-dialog>\n      <cancel-bid-dialog :show=\"showCancelBidDialog\" @close=\"closeDialog\" @confirm=\"dialogConfirm\" :bid=\"dialogOrder\" :nft=\"dialogNft\" :uri=\"dialogNftURI\">\n      </cancel-bid-dialog>\n      <accept-dialog :show=\"showAcceptDialog\" @close=\"closeDialog\" @confirm=\"dialogConfirm\" :bid=\"dialogOrder\" :myAsset=\"dialogMyAsset\" :nft=\"dialogNft\" :uri=\"dialogNftURI\">\n      </accept-dialog>\n      <transfer-dialog :show=\"showTransferDialog\" @close=\"closeDialog\" @confirm=\"dialogConfirm\" :asset=\"dialogOrder\" :nft=\"dialogNft\" :uri=\"dialogNftURI\">\n      </transfer-dialog>\n      <burn-dialog :show=\"showBurnDialog\" @close=\"closeDialog\" @confirm=\"dialogConfirm\" :asset=\"dialogOrder\" :nft=\"dialogNft\" :uri=\"dialogNftURI\">\n      </burn-dialog>\n\n      <auction-detail-dialog :show=\"showAuctionDetailDialog\" @close=\"closeDialog\" @confirm=\"dialogConfirm\" :token=\"dialogToken\" :auction=\"dialogOrder\" :nft=\"dialogNft\" :uri=\"dialogNftURI\">\n      </auction-detail-dialog>\n      <sale-type-dialog :show=\"showSaleTypeDialog\" @close=\"closeDialog\" @saleType=\"dialogSelect\"></sale-type-dialog>\n      <auction-dialog :show=\"showAuctionDialog\" @close=\"closeDialog\" @confirm=\"dialogConfirm\" :auction=\"dialogOrder\" :myAsset=\"dialogMyAsset\" :nft=\"dialogNft\" :uri=\"dialogNftURI\"></auction-dialog>\n      <auction-cancel-dialog :show=\"showAuctionCancelDialog\" @close=\"closeDialog\" @confirm=\"dialogConfirm\" :auction=\"dialogOrder\" :nft=\"dialogNft\" :uri=\"dialogNftURI\"></auction-cancel-dialog>\n\n    </div>\n  </div>\n</template>\n<script>\n  import NftDialog from \"@/mixins/NftDialog\";\n  import NftItem from \"@/mixins/NftItem\";\n  export default {\n    name: \"Items\",\n    mixins: [NftDialog, NftItem],\n    data () {\n      return {\n        imgUrl: \"\",\n        address: \"\",\n        tab: \"collectibles\",\n        tabs: [\n          { name: \"sale\", title: \"On sale\", count: 0 },\n          { name: \"collectibles\", title: \"Collitibles\", count: 0 },\n        ],\n        page: 1,\n        limit: this.$store.state.pageLimit,\n        nftList: {\n          sale: [],\n          collectibles: [],\n        },\n        loadStatus: \"\",\n        contract: {},\n      };\n    },\n    created () {\n      this.init();\n    },\n    computed: {\n      user () {\n        return this.$store.state.user;\n      },\n      showAddress () {\n        let address = this.contract.address;\n        if (!address) return \"\";\n        var showAddress =\n          address.slice(0, 11) + \"...\" + address.slice(address.length - 4);\n        return showAddress;\n      },\n    },\n    watch: {\n      tab (val, old) {\n        if (val == old) return;\n        this.page = 1;\n        this.$router.push({\n          path: \"/collection/\" + this.address,\n          query: { tab: this.tab },\n        });\n        this.loadStatus = \"\";\n        this.getList();\n      },\n    },\n    methods: {\n      init () {\n        this.address = this.$route.params.address;\n        if (this.$route.query.tab) {\n          this.tab = this.$route.query.tab;\n        }\n\n        this.getContract();\n        if (this.$route.query.tab) {\n          this.tab = this.$route.query.tab;\n        }\n        this.getList();\n        this.statContract();\n      },\n      onSuccessCopy () {\n        this.$tools.message(this.$t(\"request.copySuccess\"), \"success\");\n      },\n      onErrorCopy () {\n        this.$tools.message(\"Copy error\");\n      },\n      goHome () {\n        this.$router.push(\"/\");\n      },\n      loadList () {\n        if (this.loadStatus == \"over\") return;\n        this.getList();\n      },\n      reloadList () {\n        this.page = 1;\n        this.getList();\n      },\n      statContract () {\n        let params = {\n          address: this.address,\n        };\n        this.$api(\"contract.stat\", params).then((res) => {\n          if (this.$tools.checkResponse(res)) {\n            this.tabs[0].count = !res.data.saleCount ? 0 : res.data.saleCount;\n            this.tabs[1].count = !res.data.collectionCount ? 0 : res.data.collectionCount;\n            this.tabs = [].concat(this.tabs);\n          }\n        });\n      },\n      getContract () {\n        let address = {\n          caddress: this.address, //待获取合约信息\n        };\n        this.$api(\"contract.info\", address).then((res) => {\n          if (this.$tools.checkResponse(res)) {\n            this.contract = res.data;\n            this.imgUrl = res.data.bannerUrl;\n            if (!this.contract.name || !this.contract.symbol) {\n              this.getinfo();\n            }\n          }\n        });\n      },\n      getinfo () {\n        let address = {\n          address: this.address, //待获取合约信息\n        };\n        this.$api(\"contract.getinfo\", address).then((res) => {\n          if (this.$tools.checkResponse && res.data.length) {\n            this.contract.name = res.data.name;\n            this.contract.symbol = res.data.symbol;\n          }\n        });\n      },\n      getOnSale: function () {\n        this.getContractItems(\"sale\");\n      },\n      getCollectiable () {\n        this.getContractItems(\"collectibles\");\n      },\n      getContractItems (tab) {\n        let isSell = tab == \"sale\" ? true : null;\n        let params = {\n          page: this.page,\n          limit: this.limit,\n          address: this.address,\n          isSell: isSell,\n        };\n        if (this.loadStatus == \"loading\") return;\n        this.loadStatus = \"loading\";\n        var that = this;\n        this.$api(\"contract.listitems\", params).then((res) => {\n          this.loadStatus = \"loaded\";\n          if (that.$tools.checkResponse(res)) {\n            if (params.page == 1) this.nftList[tab] = [];\n            that.nftList[tab] = that.nftList[tab].concat(res.data.list);\n            that._queryFunction(res.data.list, this.nftList[tab]);\n            that.page = params.page + 1;\n            that.loadStatus =\n              res.data.list.length < res.data.limit ? \"over\" : this.loadStatus;\n          } else {\n            that.$tools.message(res.errmsg);\n          }\n        });\n      },\n      getList () {\n        switch (this.tab) {\n          case \"sale\":\n            this.getOnSale();\n            break;\n          case \"collectibles\":\n            this.getCollectiable();\n            break;\n        }\n      },\n      onLike(data, like){\n        this._onLike(data, like, this.nftList[this.tab]);\n      },\n    },\n  };\n</script>\n<style lang=\"scss\" scoped>\n  .main-wrapper {\n    max-width: 100% !important;\n  }\n  .collection-detail {\n    padding: 0;\n    .bg-box {\n      position: relative;\n      width: calc(var(--coverWidth));\n      .head-portrait {\n        width: 100%;\n        height: 200px;\n        background: linear-gradient(-90deg, #e7d5cb, #e3c7c4, #82aabe);\n      }\n      .u-info-avatar {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: -44px;\n        display: flex;\n        justify-content: center;\n      }\n    }\n  }\n\n  .mt-50 {\n    margin-top: -50px !important;\n  }\n  .mr-5 {\n    margin-right: 5px !important;\n  }\n  .margin-left-xs {\n    margin-left: 10px !important;\n  }\n  .pt-0 {\n    padding-top: 0 !important;\n  }\n  .flex {\n    display: flex;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .align-center {\n    align-items: center;\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .margin-bottom-xs {\n    margin-bottom: 10px;\n  }\n  .collection-info {\n    margin-top: 50px;\n    text-align: center;\n  }\n  .coinbase-text {\n    font-size: 9px;\n    color: #333333;\n  }\n  .name-text {\n    font-size: 15px;\n    font-weight: bold;\n    color: #000000;\n  }\n  .brief-text {\n    font-size: 9px;\n    color: #666666;\n  }\n\n  .filter-sort {\n    min-width: 80px;\n    font-size: 9px;\n    color: #000000;\n    position: absolute;\n    top: 10px;\n    right: 150px;\n  }\n  .sort-icon {\n    width: 7px;\n    height: 4px;\n    margin-left: 5px;\n  }\n\n  .collection-info {\n    .u-info-name {\n      padding-top: 10px;\n      font-size: 15px;\n      font-weight: bold;\n      color: #1d1e22;\n    }\n    .u-info-address {\n      font-size: 15px;\n      font-weight: 400;\n      color: #444444;\n      display: flex;\n      align-items: center;\n      padding: 10px 0;\n    }\n    .u-info-copy {\n      font-size: 18px;\n      padding-left: 5px;\n      cursor: pointer;\n    }\n    .u-info-introduction {\n      font-size: 12px;\n      font-weight: 400;\n      color: #999;\n    }\n  }\n  .iconfont.icon-upload {\n    font-weight: bold;\n  }\n  .item-page {\n    display: flex;\n    flex-direction: column;\n    margin: 3% auto;\n    width: 1320px !important;\n  }\n  .item-content {\n    border-bottom: $border;\n    padding-bottom: 20px;\n    padding-top: 20px;\n    margin-bottom: 10px;\n    .u-detail {\n      .u-header {\n        width: 88px;\n        height: 88px;\n        background: rgb(167, 163, 163);\n        img {\n          width: 88px;\n          height: 88px;\n        }\n      }\n    }\n  }\n  .item-tab {\n    position: relative;\n    .tab-content-info {\n      min-height: 200px;\n      .tab-content-none {\n        width: 100%;\n        display: flex;\n        justify-content: center;\n        text-align: center;\n        margin: 43px auto;\n      }\n      .tab-info {\n        .tab-title {\n          font-size: 24px;\n          font-family: 'Montserrat-Regular';\n          font-weight: bold;\n          color: #1d1e22;\n          margin: 45px auto 23px;\n        }\n        .tab-intro {\n          width: 313px;\n          /* height: 38px; */\n          font-size: 16px;\n          font-family: 'Montserrat-Regular';\n          font-weight: 400;\n          color: #1d1e22;\n          line-height: 22px;\n          opacity: 0.5;\n        }\n        .tab-btn {\n          width: 250px;\n          height: 54px;\n          background: $primaryColor;\n          border-radius: 8px;\n          color: #ffffff;\n          font-family: 'Montserrat-Regular';\n          margin-top: 21px;\n        }\n      }\n      .new-nft-list {\n        margin: 0 -10px;\n        .nft {\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: flex-start;\n        }\n        .loading-status {\n          padding-bottom: 50px;\n          width: 100%;\n        }\n        .nft-loading {\n          height: 60px;\n        }\n        .nft-loading-over {\n          text-align: center;\n          padding: 30px 0;\n          color: $grayColor;\n        }\n      }\n      .tab-actdetail {\n        border: 1px solid #e5e5e5;\n        margin: 10px;\n        border-radius: 20px;\n      }\n    }\n  }\n  .dialog-title {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .dialog-title-left {\n      font-size: 40px;\n      font-weight: 400;\n      color: #1d1e22;\n      line-height: 22px;\n      .dialog-title-num {\n        font-size: 16px;\n        font-weight: 400;\n        color: #444444;\n        line-height: 22px;\n      }\n    }\n    .close-icon {\n      width: 26px;\n      height: 26px;\n    }\n  }\n\n  .dialog-follow {\n    font-family: 'Montserrat-Regular';\n    .dialog-content {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin: 20px auto;\n      .dialog-u-detail {\n        display: flex;\n        width: 160px;\n        justify-content: space-between;\n        .dialog-u-header {\n          width: 58px;\n          height: 58px;\n          background: #313131;\n          border-radius: 50%;\n        }\n        .dialog-u-info {\n          display: flex;\n          flex-direction: column;\n          justify-content: space-around;\n        }\n      }\n      .dialog-follow-btn {\n        width: 88px;\n        height: 44px;\n        background: $primaryColor;\n        border-radius: 8px;\n        color: aliceblue;\n      }\n    }\n  }\n  .dialog-report {\n    .report-header {\n      display: flex;\n      justify-content: space-between;\n    }\n    .dialog-title-report {\n      width: 300px;\n      height: 81px;\n      font-size: 40px;\n      font-family: 'Montserrat-Regular';\n      font-weight: 400;\n      color: #1d1e22;\n      line-height: 42px;\n    }\n    .report-describe {\n      width: 466px;\n      height: 46px;\n      font-size: 16px;\n      font-family: 'Montserrat-Regular';\n      font-weight: 400;\n      color: #333333;\n      line-height: 30px;\n      opacity: 0.6;\n    }\n    .submit-btn {\n      width: 100%;\n      height: 54px;\n      background: $primaryColor;\n      border-radius: 8px;\n      margin-top: 66px;\n    }\n    .dialog-report-content {\n      margin-top: 60px;\n      font-size: 16px;\n      font-family: 'Montserrat-Regular';\n      font-weight: 400;\n      color: #333333;\n      line-height: 30px;\n    }\n  }\n\n  .tab-content-title {\n    min-width: $tabTitleWidth;\n    text-align: center;\n  }\n</style>\n\n<style lang=\"scss\">\n  .user-tab-menus {\n    .el-tabs__item {\n      color: #999;\n      height: 35px;\n      line-height: 35px;\n      &:hover,\n      &:active,\n      &:focus {\n        color: #333;\n      }\n      &.is-active {\n        color: #333;\n      }\n    }\n    .el-tabs__active-bar {\n      background-color: #333;\n    }\n  }\n</style>\n"]}]}