{"remainingRequest":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\views\\sections\\NFTDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\views\\sections\\NFTDetail.vue","mtime":1650964597000},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652258014056},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1652258014277},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652258014056},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1652258044998}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IEluZm9UYWIgZnJvbSAiQC92aWV3cy9zZWN0aW9ucy9kZXRhaWxzL0luZm8iOwogIGltcG9ydCBPd25lcnNUYWIgZnJvbSAiQC92aWV3cy9zZWN0aW9ucy9kZXRhaWxzL093bmVycyI7CiAgaW1wb3J0IEhpc3RvcnlUYWIgZnJvbSAiQC92aWV3cy9zZWN0aW9ucy9kZXRhaWxzL0hpc3RvcnkiOwogIGltcG9ydCBBdWN0aW9uc1RhYiBmcm9tICJAL3ZpZXdzL3NlY3Rpb25zL2RldGFpbHMvQXVjdGlvbnMiOwogIGltcG9ydCBCaWRUYWIgZnJvbSAiQC92aWV3cy9zZWN0aW9ucy9kZXRhaWxzL0JpZCI7CiAgaW1wb3J0IEhpZ2hlc3RCaWQgZnJvbSAnQC92aWV3cy9zZWN0aW9ucy9kZXRhaWxzL0hpZ2hlc3RCaWQnOwogIGltcG9ydCBMb3dlc3RBdWN0aW9uIGZyb20gJ0Avdmlld3Mvc2VjdGlvbnMvZGV0YWlscy9Mb3dlc3RBdWN0aW9uJzsKCiAgaW1wb3J0IEZ1bGxTY3JlZW4gZnJvbSAiQC9jb21wb25lbnRzL0Z1bGxTY3JlZW4iOwogIGltcG9ydCBTaGFyZSBmcm9tICJAL2NvbXBvbmVudHMvU2hhcmUiOwogIGltcG9ydCBOZnRQcmV2aWV3IGZyb20gIkAvY29tcG9uZW50cy9ORlRQcmV2aWV3IjsKICBpbXBvcnQgTWl4aW5zTkZUSW5mbyBmcm9tICJAL21peGlucy9OZnRJbmZvIjsKICBpbXBvcnQgTmZ0SXRlbSBmcm9tICJAL21peGlucy9OZnRJdGVtIjsKICBleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiTkZURGV0YWlsIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgTmZ0UHJldmlldywKICAgICAgSW5mb1RhYiwKICAgICAgT3duZXJzVGFiLAogICAgICBIaXN0b3J5VGFiLAogICAgICBCaWRUYWIsCiAgICAgIEhpZ2hlc3RCaWQsCiAgICAgIExvd2VzdEF1Y3Rpb24sCiAgICAgIEF1Y3Rpb25zVGFiLAogICAgICBGdWxsU2NyZWVuLAogICAgICBTaGFyZSwKICAgIH0sCiAgICBtaXhpbnM6IFtNaXhpbnNORlRJbmZvLCBOZnRJdGVtXSwKICAgIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGlkcyA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZHM7CiAgICAgIGlkcyA9IGlkcy5zcGxpdCgiOiIpOwogICAgICByZXR1cm4gewogICAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgICAgdG9rZW46IHsKICAgICAgICAgIHRva2VuOiBpZHNbMF0sCiAgICAgICAgICB0b2tlbklkOiBpZHNbMV0sCiAgICAgICAgfSwKICAgICAgICB0YWJJbmRleDogImluZm8iLAogICAgICAgIGNyZWF0b3I6IHt9LAogICAgICAgIGluZm86IHt9LAogICAgICAgIGhpc3RvcnlzOiBbXSwKICAgICAgICBiaWRzOiBbXSwKICAgICAgICBhdWN0aW9uczogW10sCiAgICAgICAgc2hvd1NhbGVEaWFsb2c6IGZhbHNlLAogICAgICAgIHNob3dDYW5jZWxTYWxlRGlhbG9nOiBmYWxzZSwKICAgICAgICBzaG93QnV5RGlhbG9nOiBmYWxzZSwKICAgICAgICBzaG93QmlkRGlhbG9nOiBmYWxzZSwKICAgICAgICBzaG93Q2FuY2VsQmlkRGlhbG9nOiBmYWxzZSwKICAgICAgICBzaG93QWNjZXB0RGlhbG9nOiBmYWxzZSwKICAgICAgICBzaG93VHJhbnNmZXJEaWFsb2c6IGZhbHNlLAogICAgICAgIHNob3dCdXJuRGlhbG9nOiBmYWxzZSwKICAgICAgICBzaG93U2FsZVR5cGVEaWFsb2c6IGZhbHNlLAogICAgICAgIHNob3dBdWN0aW9uRGlhbG9nOiBmYWxzZSwKICAgICAgICBzaG93QXVjdGlvbkRldGFpbERpYWxvZzogZmFsc2UsCiAgICAgICAgc2hvd0F1Y3Rpb25DYW5jZWxEaWFsb2c6IGZhbHNlLAogICAgICAgIG9yZGVyOiB7fSwKICAgICAgICBpc0Z1bGw6IGZhbHNlLAogICAgICAgIG1lZGlhRGF0YTogW10sCiAgICAgICAgaXNGb3VuZDogdHJ1ZSwKICAgICAgICByb3lhbHRpZXM6ICcnLAogICAgICAgIHZhbGlkQXVjdGlvbnM6IFtdLAogICAgICAgIHNhbGVzOiBbXSwKICAgICAgICBuZnRMaXN0OiBbXQogICAgICB9OwogICAgfSwKICAgIGNyZWF0ZWQgKCkgewogICAgICB0aGlzLmdldERldGFpbHMoKTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICBuZnQgKCkgewogICAgICAgIHJldHVybiB0aGlzLm5mdExpc3RbMF0gfHwge30KICAgICAgfSwKICAgICAgb3duZXJzICgpIHsKICAgICAgICBpZiAoIXRoaXMubmZ0Lml0ZW1zKSByZXR1cm4gW107CiAgICAgICAgcmV0dXJuIHRoaXMuc2V0T3duZXJzKHRoaXMubmZ0Lml0ZW1zLCB0aGlzLm5mdC5zYWxlcyk7CiAgICAgIH0sCiAgICAgIGxvd2VzdEFzc2V0ICgpIHsKICAgICAgICBpZiAoIXRoaXMubmZ0LnNhbGVzIHx8ICF0aGlzLm5mdC5pdGVtcykgcmV0dXJuOwogICAgICAgIHJldHVybiB0aGlzLmdldExvd2VzdE5mdEFzc2V0KHRoaXMubmZ0LnNhbGVzLCB0aGlzLm5mdC5pdGVtcyk7CiAgICAgIH0sCiAgICAgIG15QXNzZXQgKCkgewogICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQgfHwgIXRoaXMubmZ0Lml0ZW1zKSByZXR1cm47CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWRkcmVzc0Fzc2V0KHRoaXMubmZ0Lml0ZW1zLCB0aGlzLm5mdC5zYWxlcywgdGhpcy5uZnQuYXVjdGlvbnMsIHRoaXMudXNlci5jb2luYmFzZSk7CiAgICAgIH0sCiAgICAgIGxvd2VzdEF1Y3Rpb24gKCkgewogICAgICAgIGlmICghdGhpcy5uZnQuYXVjdGlvbnMgfHwgIXRoaXMubmZ0Lml0ZW1zKSByZXR1cm47CiAgICAgICAgdmFyIGF1Y3Rpb25CaWQgPSB0aGlzLmdldExvd2VzdEF1Y3Rpb25CaWQodGhpcy5uZnQuYXVjdGlvbnMsIHRoaXMubmZ0Lml0ZW1zKTsKICAgICAgICByZXR1cm4gYXVjdGlvbkJpZDsKICAgICAgfSwKICAgICAgbXlCaWQgKCkgewogICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQgfHwgIXRoaXMubmZ0LmJpZHMpIHJldHVybjsKICAgICAgICBpZiAodGhpcy5uZnQub25seU93bmVyID09IHRoaXMudXNlci5jb2luYmFzZSkgcmV0dXJuOwogICAgICAgIHZhciBteUJpZCA9IHRoaXMuZ2V0QWN0aXZlQWRkcmVzc0JpZCh0aGlzLm5mdC5iaWRzLCB0aGlzLnVzZXIuY29pbmJhc2UpOwogICAgICAgIHJldHVybiBteUJpZDsKICAgICAgfSwKICAgICAgaGlnaGVzdEJpZCAoKSB7CiAgICAgICAgaWYgKCF0aGlzLm5mdC5iaWRzKSByZXR1cm47CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SGlnaGVzdEJpZCh0aGlzLm5mdC5iaWRzLCB0aGlzLm5mdC5vbmx5T3duZXIpOwogICAgICB9LAogICAgICBjb25maWcgKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWc7CiAgICAgIH0sCiAgICAgIHVzZXIgKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyOwogICAgICB9LAogICAgICBjb25uZWN0ZWQgKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jb25uZWN0ZWQ7CiAgICAgIH0sCiAgICAgIHBheVRva2VucyAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnBheVRva2VuczsKICAgICAgfSwKICAgICAgbmZ0VVJJICgpIHsKICAgICAgICBpZiAoIXRoaXMuaW5mbykgcmV0dXJuOwogICAgICAgIGlmICh0aGlzLmluZm8ubWV0YWRhdGFDb250ZW50KSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kdG9vbHMuYW5hbHlzaXModGhpcy5pbmZvLm1ldGFkYXRhQ29udGVudCk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLm1lZGlhRGF0YSkgewogICAgICAgICAgbGV0IG5mdDsKICAgICAgICAgIG5mdCA9IHRoaXMuaW5mby5hZGRyZXNzICsgIjoiICsgdGhpcy5pbmZvLnRva2VuSWQ7CiAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5tZWRpYURhdGEpIHsKICAgICAgICAgICAgaWYgKGtleSA9PSBuZnQpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kdG9vbHMuYW5hbHlzaXModGhpcy5tZWRpYURhdGFba2V5XSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9LAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgZ29BY2NvdW50IChhZGRyZXNzKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL2FjY291bnQvIiArIGFkZHJlc3MgfSk7CiAgICAgIH0sCiAgICAgIHNob3dEaWFsb2cgKHR5cGUsIGFzc2V0KSB7CiAgICAgICAgaWYgKHR5cGUgPT0gIm9wZW5zZWEiKSB7CiAgICAgICAgICBpZiAoIXRoaXMuY29uZmlnLm5ldHdvcmsub3BlbnNlYSkgcmV0dXJuOwogICAgICAgICAgbGV0IHVybCA9CiAgICAgICAgICAgIHRoaXMuY29uZmlnLm5ldHdvcmsub3BlbnNlYSArICcvJyArCiAgICAgICAgICAgIHRoaXMuaW5mby5hZGRyZXNzICsKICAgICAgICAgICAgIi8iICsKICAgICAgICAgICAgdGhpcy5pbmZvLnRva2VuSWQ7CiAgICAgICAgICByZXR1cm4gd2luZG93Lm9wZW4odXJsLCAiX2JsYW5rIik7CiAgICAgICAgfQogICAgICAgIGlmICghdGhpcy4kdG9vbHMubmVlZExvZ2luKHRoaXMuJHJvdXRlLnBhdGgpKSByZXR1cm47CiAgICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgICBjYXNlICJzYWxlIjoKICAgICAgICAgICAgdGhpcy5zaG93U2FsZURpYWxvZyA9IHRydWU7CiAgICAgICAgICAgIHRoaXMub3JkZXIgPSBhc3NldDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJlZGl0X3NhbGUiOgogICAgICAgICAgICB0aGlzLnNob3dTYWxlRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgImNhbmNlbF9zYWxlIjoKICAgICAgICAgICAgdGhpcy5zaG93Q2FuY2VsU2FsZURpYWxvZyA9IHRydWU7CiAgICAgICAgICAgIHRoaXMub3JkZXIgPSBhc3NldDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJidXkiOgogICAgICAgICAgICB0aGlzLnNob3dCdXlEaWFsb2cgPSB0cnVlOwogICAgICAgICAgICB0aGlzLm9yZGVyID0gYXNzZXQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiYmlkIjoKICAgICAgICAgICAgdGhpcy5zaG93QmlkRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgImVkaXRfYmlkIjoKICAgICAgICAgICAgdGhpcy5zaG93QmlkRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgImNhbmNlbF9iaWQiOgogICAgICAgICAgICB0aGlzLnNob3dDYW5jZWxCaWREaWFsb2cgPSB0cnVlOwogICAgICAgICAgICB0aGlzLm9yZGVyID0gYXNzZXQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiYWNjZXB0IjoKICAgICAgICAgICAgdGhpcy5zaG93QWNjZXB0RGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgInRyYW5zZmVyIjoKICAgICAgICAgICAgdGhpcy5zaG93VHJhbnNmZXJEaWFsb2cgPSB0cnVlOwogICAgICAgICAgICB0aGlzLm9yZGVyID0gYXNzZXQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiYnVybiI6CiAgICAgICAgICAgIHRoaXMuc2hvd0J1cm5EaWFsb2cgPSB0cnVlOwogICAgICAgICAgICB0aGlzLm9yZGVyID0gYXNzZXQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAic2FsZV90eXBlIjoKICAgICAgICAgICAgdGhpcy5zaG93U2FsZVR5cGVEaWFsb2cgPSB0cnVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgImF1Y3Rpb24iOgogICAgICAgICAgICB0aGlzLnNob3dBdWN0aW9uRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgImF1Y3Rpb25fZWRpdCI6CiAgICAgICAgICAgIHRoaXMuc2hvd0F1Y3Rpb25EaWFsb2cgPSB0cnVlOwogICAgICAgICAgICB0aGlzLm9yZGVyID0gYXNzZXQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiYXVjdGlvbl9kZXRhaWwiOgogICAgICAgICAgICB0aGlzLnNob3dBdWN0aW9uRGV0YWlsRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgImF1Y3Rpb25fY2FuY2VsIjoKICAgICAgICAgICAgdGhpcy5zaG93QXVjdGlvbkNhbmNlbERpYWxvZyA9IHRydWU7CiAgICAgICAgICAgIHRoaXMub3JkZXIgPSBhc3NldDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9LAogICAgICBjbG9zZURpYWxvZyAoKSB7CiAgICAgICAgdGhpcy5zaG93U2FsZURpYWxvZyA9IGZhbHNlOwogICAgICAgIHRoaXMuc2hvd0NhbmNlbFNhbGVEaWFsb2cgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dCdXlEaWFsb2cgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dCaWREaWFsb2cgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dDYW5jZWxCaWREaWFsb2cgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dBY2NlcHREaWFsb2cgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dUcmFuc2ZlckRpYWxvZyA9IGZhbHNlOwogICAgICAgIHRoaXMuc2hvd0J1eURpYWxvZyA9IGZhbHNlOwogICAgICAgIHRoaXMuc2hvd0J1cm5EaWFsb2cgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dSZXBvcnREaWFsb2cgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dTYWxlVHlwZURpYWxvZyA9IGZhbHNlOwogICAgICAgIHRoaXMuc2hvd0F1Y3Rpb25EaWFsb2cgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dBdWN0aW9uRGV0YWlsRGlhbG9nID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93QXVjdGlvbkNhbmNlbERpYWxvZyA9IGZhbHNlOwogICAgICAgIHRoaXMub3JkZXIgPSB7fTsKICAgICAgfSwKICAgICAgbGlrZUZ1bmN0aW9uIChwYXJhbWV0ZXIpIHsKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgIGFkZHJlc3M6IHRoaXMuaW5mby5hZGRyZXNzLAogICAgICAgICAgdG9rZW5JZDogdGhpcy5pbmZvLnRva2VuSWQsCiAgICAgICAgfTsKICAgICAgICBpZiAoIXRoaXMuaW5mby5saWtlKSB7CiAgICAgICAgICB0aGlzLiRhcGkoImxpa2UuYWRkIiwgZGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLiR0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgICAgICB0aGlzLmluZm8ubGlrZSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRhcGkoImxpa2UucmVtb3ZlIiwgZGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLiR0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgICAgICB0aGlzLmluZm8ubGlrZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHF1ZXJ5TGlrZSAoYWRkcmVzcywgdG9rZW5JZCkgewogICAgICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuY29ubmVjdGVkKSByZXR1cm47CiAgICAgICAgbGV0IHF1ZXJ5ID0gewogICAgICAgICAgbmZ0czogYWRkcmVzcyArICI6IiArIHRva2VuSWQsCiAgICAgICAgICBhZGRyZXNzOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmNvaW5iYXNlLAogICAgICAgIH07CiAgICAgICAgdGhpcy4kYXBpKCJsaWtlLmxpc3R1c2VybGlrZSIsIHF1ZXJ5KS50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmICh0aGlzLiR0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCkgewogICAgICAgICAgICAgIHRoaXMuaW5mby5saWtlID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kdG9vbHMubWVzc2FnZShyZXMuZXJybXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZ2V0TWVkaWEgKG5mdHMpIHsKICAgICAgICBsZXQgX25mdHMgPSBuZnRzLmFkZHJlc3MgKyAiOiIgKyBuZnRzLnRva2VuSWQ7CiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICBpbmZvOiBfbmZ0cywKICAgICAgICB9OwogICAgICAgIHRoaXMuJGFwaSgibmZ0LmdldG1lZGlhIiwgZGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLm1lZGlhRGF0YSA9IHJlcy5kYXRhOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXRSb3lhbHRpZXMgKG5mdHMpIHsKICAgICAgICBsZXQgX25mdHMgPSBuZnRzLmFkZHJlc3MgKyAiOiIgKyBuZnRzLnRva2VuSWQ7CiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICBpbmZvOiBfbmZ0cywKICAgICAgICB9OwogICAgICAgIHRoaXMuJGFwaSgibmZ0LmdldHJveWFsdGllcyIsIGRhdGEpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgZm9yIChsZXQga2V5IGluIHJlcy5kYXRhKSB7CiAgICAgICAgICAgIGlmIChrZXkgPT0gX25mdHMgJiYgcmVzLmRhdGFba2V5XSkgewogICAgICAgICAgICAgIGxldCBnZXRyb3lhbHRpZXMgPSBKU09OLnBhcnNlKHJlcy5kYXRhW2tleV0pCiAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDsKICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDtpIDwgZ2V0cm95YWx0aWVzLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgICAgIGNvdW50ID0gY291bnQgKyBnZXRyb3lhbHRpZXNbaV0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhhdC5yb3lhbHRpZXMgPSB0aGF0LiR0b29scy5kZWNpbWFsKGNvdW50IC8gMTAwLCAyKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXREZXRhaWxzICgpIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuLnRva2VuLAogICAgICAgICAgdG9rZW5JZDogdGhpcy50b2tlbi50b2tlbklkLAogICAgICAgIH07CiAgICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICAgIHRoaXMuJGFwaSgibmZ0LmRldGFpbCIsIGRhdGEpLnRoZW4oYXN5bmMgZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHRoYXQuJHRvb2xzLmNoZWNrUmVzcG9uc2UocmVzKSkgewogICAgICAgICAgICBpZiAoIXJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgdGhhdC5pc0ZvdW5kID0gZmFsc2U7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoYXQubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICBsZXQgbGlzdCA9IFtyZXMuZGF0YV0KICAgICAgICAgICAgdGhhdC5uZnRMaXN0ID0gbGlzdAogICAgICAgICAgICB0aGF0LmluZm8gPSBsaXN0WzBdOwogICAgICAgICAgICB0aGF0LnF1ZXJ5RnVuY3Rpb24obGlzdCkKICAgICAgICAgICAgdGhhdC5nZXRCaWRzKCk7CiAgICAgICAgICAgIHRoYXQuZ2V0QXVjdGlvbnMoKTsKICAgICAgICAgICAgaWYgKCF0aGF0LmluZm8ucm95YWx0aWVzKSB7CiAgICAgICAgICAgICAgdGhhdC5nZXRSb3lhbHRpZXMocmVzLmRhdGEpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHRoYXQuaW5mby5yb3lhbHRpZXMpCiAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDsKICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDtpIDwgZGF0YS5sZW5ndGg7aSsrKSB7CiAgICAgICAgICAgICAgICBjb3VudCA9IGNvdW50ICsgZGF0YVtpXQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGF0LnJveWFsdGllcyA9IHRoYXQuJHRvb2xzLmRlY2ltYWwoY291bnQgLyAxMDAsIDIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIHRoYXQuY3JlYXRvciA9IHJlcy5kYXRhLmNyZWF0b3I7CiAgICAgICAgICAgIHRoYXQuaW5mby5jYXRlZ29yeSA9IHRoYXQuJHN0b3JlLmdldHRlcnMuY2F0ZWdvcnkodGhhdC5pbmZvLmNhdGVnb3J5SWQpOwogICAgICAgICAgICBhd2FpdCB0aGF0LmdldENyZWF0b3IoKTsKICAgICAgICAgICAgLy8gdGhhdC5hbmFseXNpc05GVCgpOwogICAgICAgICAgICB0aGF0LmdldENvbnRyYWN0KCk7CiAgICAgICAgICAgIHRoYXQuZ2V0QXVjdGlvblVzZXJJbmZvcygpOwogICAgICAgICAgICB0aGF0LmdldEhpc3RvcnlzKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGF0LiR0b29scy5tZXNzYWdlKHJlcy5lcnJtc2cpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXRDcmVhdG9yICgpIHsKICAgICAgICBsZXQgZGF0YSA9IHsgYWRkcmVzczogdGhpcy5pbmZvLmNyZWF0b3IgfTsKICAgICAgICB0aGlzLiRhcGkoJ3VzZXIuaW5mbycsIGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmICh0aGlzLiR0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgICAgdGhpcy5jcmVhdG9yID0gcmVzLmRhdGE7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSwKICAgICAgZ2V0SGlzdG9yeXMgKCkgewogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4udG9rZW4sCiAgICAgICAgICB0b2tlbklkOiB0aGlzLnRva2VuLnRva2VuSWQsCiAgICAgICAgfTsKICAgICAgICB0aGlzLiRhcGkoIm5mdC5oaXN0b3J5IiwgZGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAodGhpcy4kdG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICAgIGxldCBoaXN0b3J5cyA9IFtdOwogICAgICAgICAgICBsZXQgaGlzdG9yeTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7aSA8IHJlcy5kYXRhLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgICBoaXN0b3J5ID0gcmVzLmRhdGFbaV07CiAgICAgICAgICAgICAgaGlzdG9yeS5wYXlUb2tlbiA9IHsKICAgICAgICAgICAgICAgIGFkZHJlc3M6IGhpc3RvcnkucGF5dG9rZW5BZGRyZXNzLAogICAgICAgICAgICAgICAgc3ltYm9sOiBoaXN0b3J5LnBheXRva2VuU3ltYm9sLAogICAgICAgICAgICAgICAgZGVjaW1hbHM6IGhpc3RvcnkucGF5dG9rZW5EZWNpbWFscywKICAgICAgICAgICAgICAgIG5hbWU6IGhpc3RvcnkucGF5dG9rZW5OYW1lCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGhpc3RvcnlzLnB1c2goaGlzdG9yeSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5oaXN0b3J5cyA9IGhpc3RvcnlzOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXRCaWRzICgpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuLnRva2VuLAogICAgICAgICAgICB0b2tlbklkOiB0aGlzLnRva2VuLnRva2VuSWQsCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy4kYXBpKCJuZnQuYmlkcyIsIGRhdGEpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBpZiAodGhpcy4kdG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICAgICAgbGV0IGJpZHMgPSBbXTsKICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDtpIDwgcmVzLmRhdGEubGVuZ3RoO2krKykgewogICAgICAgICAgICAgICAgbGV0IGJpZCA9IHJlcy5kYXRhW2ldOwogICAgICAgICAgICAgICAgYmlkLnBheVRva2VuID0gewogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBiaWQucGF5dG9rZW5BZGRyZXNzLAogICAgICAgICAgICAgICAgICBzeW1ib2w6IGJpZC5wYXl0b2tlblN5bWJvbCwKICAgICAgICAgICAgICAgICAgZGVjaW1hbHM6IGJpZC5wYXl0b2tlbkRlY2ltYWxzLAogICAgICAgICAgICAgICAgICBuYW1lOiBiaWQucGF5dG9rZW5OYW1lCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBiaWRzLnB1c2goYmlkKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5iaWRzID0gYmlkczsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiR0b29scy5tZXNzYWdlKHJlcy5lcnJtc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc29sdmUocmVzKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXRBdWN0aW9ucyAoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbi50b2tlbiwKICAgICAgICAgICAgdG9rZW5JZDogdGhpcy50b2tlbi50b2tlbklkLAogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMuJGFwaSgiYXVjdGlvbi5saXN0IiwgZGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLiR0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgICAgICB2YXIgYXVjdGlvbnMgPSBbXTsKICAgICAgICAgICAgICB2YXIgdmFsaWRBdWN0aW9ucyA9IFtdOwogICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwO2kgPCByZXMuZGF0YS5saXN0Lmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgICAgIGxldCBhdWN0aW9uID0gcmVzLmRhdGEubGlzdFtpXTsKICAgICAgICAgICAgICAgIGF1Y3Rpb24ucGF5VG9rZW4gPSB7CiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGF1Y3Rpb24ucGF5dG9rZW5BZGRyZXNzLAogICAgICAgICAgICAgICAgICBzeW1ib2w6IGF1Y3Rpb24ucGF5dG9rZW5TeW1ib2wsCiAgICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBhdWN0aW9uLnBheXRva2VuRGVjaW1hbHMsCiAgICAgICAgICAgICAgICAgIG5hbWU6IGF1Y3Rpb24ucGF5dG9rZW5OYW1lCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgdmFsaWRBdWN0aW9uID0gdGhpcy5nZXRWYWxpZEF1Y3Rpb25zKGF1Y3Rpb24sIHRoaXMub3duZXJzKQogICAgICAgICAgICAgICAgaWYgKHZhbGlkQXVjdGlvbikgewogICAgICAgICAgICAgICAgICB2YWxpZEF1Y3Rpb25zLnB1c2godmFsaWRBdWN0aW9uKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgaGlnaGVzdFByaWNlID0gYXVjdGlvbi5oaWdoZXN0UHJpY2U7CiAgICAgICAgICAgICAgICBpZiAoIWhpZ2hlc3RQcmljZSkgewogICAgICAgICAgICAgICAgICBhdWN0aW9uLmxvd2VzdFByaWNlID0gdGhpcy4kdG9vbHMuc2luZ2xlUHJpY2UoYXVjdGlvbi5zdGFydFZhbHVlLCBhdWN0aW9uLnNlbGxWYWx1ZSwgYXVjdGlvbi5wYXlUb2tlbik7CiAgICAgICAgICAgICAgICAgIGF1Y3Rpb24ubG93ZXN0VXNkdFByaWNlID0gdGhpcy4kdG9vbHMuZGVjaW1hbCgKICAgICAgICAgICAgICAgICAgICBhdWN0aW9uLnBheVRva2VuID8gYXVjdGlvbi5sb3dlc3RQcmljZSAqIGF1Y3Rpb24ucGF5VG9rZW4ucmF0ZSA6ICIwIgogICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgYXVjdGlvbi5sb3dlc3RQcmljZSA9IHRoaXMuJHRvb2xzLnNpbmdsZVByaWNlKGhpZ2hlc3RQcmljZSwgYXVjdGlvbi5zZWxsVmFsdWUsIGF1Y3Rpb24ucGF5VG9rZW4pOwogICAgICAgICAgICAgICAgICBhdWN0aW9uLmxvd2VzdFVzZHRQcmljZSA9IHRoaXMuJHRvb2xzLmRlY2ltYWwoCiAgICAgICAgICAgICAgICAgICAgYXVjdGlvbi5wYXlUb2tlbiA/IGF1Y3Rpb24ubG93ZXN0UHJpY2UgKiBhdWN0aW9uLnBheVRva2VuLnJhdGUgOiAiMCIKICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGF1Y3Rpb25zLnB1c2goYXVjdGlvbik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuYXVjdGlvbnMgPSBhdWN0aW9uczsKICAgICAgICAgICAgICB0aGlzLnZhbGlkQXVjdGlvbnMgPSB2YWxpZEF1Y3Rpb25zOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgYW5hbHlzaXNORlQgKCkgewogICAgICAgIC8vIGlmICh0aGlzLmNvbm5lY3RlZCkgewogICAgICAgIC8vICAgdGhpcy5teUJpZCA9IHRoaXMuZ2V0QWN0aXZlQWRkcmVzc0JpZCh0aGlzLmJpZHMsIHRoaXMudXNlci5jb2luYmFzZSk7CiAgICAgICAgLy8gIHRoaXMubXlBdWN0aW9uID0gdGhpcy5oYXNBdWN0aW9uID8gdGhpcy5nZXRBY3RpdmVBZGRyZXNzQXVjdGlvbih0aGlzLmF1Y3Rpb25zLCB0aGlzLnVzZXIuY29pbmJhc2UpIDogbnVsbDsKICAgICAgICAvLyB9CiAgICAgICAgLy8gdGhpcy5sb3dlc3RBc3NldCA9IHRoaXMuZ2V0TG93ZXN0QXNzZXQodGhpcy5vd25lcnMpOwogICAgICAgIC8vIHRoaXMubG93ZXN0QXVjdGlvbiA9IHRoaXMuaGFzQXVjdGlvbiA/IHRoaXMuZ2V0TG93ZXN0QXVjdGlvbih0aGlzLmF1Y3Rpb25zLCB0aGlzLm93bmVycykgOiBudWxsOwogICAgICAgIC8vIHRoaXMuaGlnaGVzdEJpZCA9IHRoaXMuZ2V0SGlnaGVzdEJpZCh0aGlzLmJpZHMpOwogICAgICB9LAogICAgICBzZXRPd25lcnMgKGl0ZW1zLCBzYWxlcykgewogICAgICAgIGxldCByZXN1bHQgPSBbXQogICAgICAgIGxldCBudW0gPSAwCiAgICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkgewogICAgICAgICAgaWYgKHNhbGVzKSB7CiAgICAgICAgICAgIGlmIChzYWxlcy5nZXQoa2V5KSkgewogICAgICAgICAgICAgIHJlc3VsdFtudW1dID0geyAuLi5zYWxlcy5nZXQoa2V5KSwgb25zZWxsOiB2YWx1ZS5vbnNlbGwsIG9uc2VsbFR5cGU6IHZhbHVlLm9uc2VsbFR5cGUgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJlc3VsdFtudW1dID0gdmFsdWUKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzdWx0W251bV0gPSB2YWx1ZQogICAgICAgICAgfQogICAgICAgICAgbnVtKys7CiAgICAgICAgfSwgaXRlbXMpCiAgICAgICAgcmV0dXJuIHJlc3VsdAogICAgICB9LAogICAgICBnZXRDb250cmFjdCAoKSB7CiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICBhZGRyZXNzczogdGhpcy5pbmZvLmFkZHJlc3MsCiAgICAgICAgfTsKICAgICAgICB0aGlzLiRhcGkoImNvbnRyYWN0Lmxpc3RieWFkZHIiLCBkYXRhKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmICh0aGlzLiR0b29scy5jaGVja1Jlc3BvbnNlICYmIHJlcy5kYXRhLmxlbmd0aCkgewogICAgICAgICAgICB0aGlzLmluZm8uY29udHJhY3QgPSByZXMuZGF0YVswXTsKICAgICAgICAgICAgaWYgKCF0aGlzLmluZm8uY29udHJhY3QubmFtZSB8fCAhdGhpcy5pbmZvLmNvbnRyYWN0LnN5bWJvbCkgewogICAgICAgICAgICAgIHRoaXMuZ2V0aW5mbygpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGdldEF1Y3Rpb25Vc2VySW5mb3MgKCkgewogICAgICAgIGxldCBhZGRyTGlzdCA9IFtdOwogICAgICAgIGZvciAodmFyIGkgPSAwO2kgPCB0aGlzLmF1Y3Rpb25zLmxlbmd0aDtpKyspIHsKICAgICAgICAgIGFkZHJMaXN0LnB1c2godGhpcy5hdWN0aW9uc1tpXS5vd25lcik7CiAgICAgICAgfQogICAgICAgIGFkZHJMaXN0ID0gYWRkckxpc3Quam9pbigiLCIpCiAgICAgICAgaWYgKCFhZGRyTGlzdCkgcmV0dXJuOwogICAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgICBhZGRyTGlzdDogYWRkckxpc3QsCiAgICAgICAgfQogICAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgICB0aGlzLiRhcGkoInVzZXIubGlzdGJ5YWRkciIsIHBhcmFtcykudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAodGhhdC4kdG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICAgIGxldCB1c2VycyA9IHt9OwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDtpIDwgcmVzLmRhdGEubGVuZ3RoO2krKykgewogICAgICAgICAgICAgIGxldCB1c2VyID0gcmVzLmRhdGFbaV07CiAgICAgICAgICAgICAgdXNlcnNbdXNlci5hZGRyZXNzLnRvTG9jYWxlTG93ZXJDYXNlKCldID0gdXNlcjsKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDtpIDwgdGhhdC5hdWN0aW9ucy5sZW5ndGg7aSsrKSB7CiAgICAgICAgICAgICAgbGV0IGF1Y3Rpb24gPSB0aGlzLmF1Y3Rpb25zW2ldOwogICAgICAgICAgICAgIGxldCB1c2VyID0gdXNlcnNbYXVjdGlvbi5vd25lci50b0xvY2FsZUxvd2VyQ2FzZSgpXTsKICAgICAgICAgICAgICBpZiAoIXVzZXIpIGNvbnRpbnVlOwogICAgICAgICAgICAgIHRoYXQuYXVjdGlvbnNbaV0ubmlja25hbWUgPSB1c2VyLm5pY2tuYW1lOwogICAgICAgICAgICAgIHRoYXQuYXVjdGlvbnNbaV0uYXZhdGFyID0gdXNlci5hdmF0YXI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhhdC5hdWN0aW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhhdC5hdWN0aW9ucykpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXRpbmZvICgpIHsKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgIGFkZHJlc3M6IHRoaXMuaW5mby5hZGRyZXNzLAogICAgICAgIH07CiAgICAgICAgdGhpcy4kYXBpKCJjb250cmFjdC5nZXRpbmZvIiwgZGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAodGhpcy4kdG9vbHMuY2hlY2tSZXNwb25zZSAmJiByZXMuZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgdGhpcy5pbmZvLmNvbnRyYWN0Lm5hbWUgPSByZXMuZGF0YS5uYW1lOwogICAgICAgICAgICB0aGlzLmluZm8uY29udHJhY3Quc3ltYm9sID0gcmVzLmRhdGEuc3ltYm9sOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBkaWFsb2dDb25maXJtICgpIHsKICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7CiAgICAgICAgdGhpcy5nZXREZXRhaWxzKCk7CiAgICAgIH0sCiAgICAgIGRpYWxvZ1NlbGVjdCAoc2VsZWN0VmFsKSB7CiAgICAgICAgdGhpcy5zaG93U2FsZVR5cGVEaWFsb2cgPSBmYWxzZTsKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICBpZiAoc2VsZWN0VmFsID09PSAwKSB7CiAgICAgICAgICAgIHRoaXMuc2hvd0RpYWxvZygic2FsZSIsIHRoaXMubXlBc3NldCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnNob3dEaWFsb2coImF1Y3Rpb24iLCB0aGlzLm15QXVjdGlvbik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGNsaWNrVGFiICh0YWIpIHsgfSwKICAgIH0sCiAgfTsK"},null]}