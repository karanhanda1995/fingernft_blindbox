{"remainingRequest":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\views\\sections\\NFTDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\views\\sections\\NFTDetail.vue","mtime":1650964597000},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\babel.config.js","mtime":1650964597000},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652258014056},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1652258014277},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652258014056},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1652258044998}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvTW9oYW1lZCBUYW1pbS9EZXNrdG9wL1NPTkdUUkFERVItVjItRlVMTC9maW5nZXJuZnRfYmxpbmRib3gvZmluZ2VybmZ0X2JsaW5kYm94L3Z1ZS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvTW9oYW1lZCBUYW1pbS9EZXNrdG9wL1NPTkdUUkFERVItVjItRlVMTC9maW5nZXJuZnRfYmxpbmRib3gvZmluZ2VybmZ0X2JsaW5kYm94L3Z1ZS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0IEluZm9UYWIgZnJvbSAiQC92aWV3cy9zZWN0aW9ucy9kZXRhaWxzL0luZm8iOwppbXBvcnQgT3duZXJzVGFiIGZyb20gIkAvdmlld3Mvc2VjdGlvbnMvZGV0YWlscy9Pd25lcnMiOwppbXBvcnQgSGlzdG9yeVRhYiBmcm9tICJAL3ZpZXdzL3NlY3Rpb25zL2RldGFpbHMvSGlzdG9yeSI7CmltcG9ydCBBdWN0aW9uc1RhYiBmcm9tICJAL3ZpZXdzL3NlY3Rpb25zL2RldGFpbHMvQXVjdGlvbnMiOwppbXBvcnQgQmlkVGFiIGZyb20gIkAvdmlld3Mvc2VjdGlvbnMvZGV0YWlscy9CaWQiOwppbXBvcnQgSGlnaGVzdEJpZCBmcm9tICdAL3ZpZXdzL3NlY3Rpb25zL2RldGFpbHMvSGlnaGVzdEJpZCc7CmltcG9ydCBMb3dlc3RBdWN0aW9uIGZyb20gJ0Avdmlld3Mvc2VjdGlvbnMvZGV0YWlscy9Mb3dlc3RBdWN0aW9uJzsKaW1wb3J0IEZ1bGxTY3JlZW4gZnJvbSAiQC9jb21wb25lbnRzL0Z1bGxTY3JlZW4iOwppbXBvcnQgU2hhcmUgZnJvbSAiQC9jb21wb25lbnRzL1NoYXJlIjsKaW1wb3J0IE5mdFByZXZpZXcgZnJvbSAiQC9jb21wb25lbnRzL05GVFByZXZpZXciOwppbXBvcnQgTWl4aW5zTkZUSW5mbyBmcm9tICJAL21peGlucy9OZnRJbmZvIjsKaW1wb3J0IE5mdEl0ZW0gZnJvbSAiQC9taXhpbnMvTmZ0SXRlbSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTkZURGV0YWlsIiwKICBjb21wb25lbnRzOiB7CiAgICBOZnRQcmV2aWV3OiBOZnRQcmV2aWV3LAogICAgSW5mb1RhYjogSW5mb1RhYiwKICAgIE93bmVyc1RhYjogT3duZXJzVGFiLAogICAgSGlzdG9yeVRhYjogSGlzdG9yeVRhYiwKICAgIEJpZFRhYjogQmlkVGFiLAogICAgSGlnaGVzdEJpZDogSGlnaGVzdEJpZCwKICAgIExvd2VzdEF1Y3Rpb246IExvd2VzdEF1Y3Rpb24sCiAgICBBdWN0aW9uc1RhYjogQXVjdGlvbnNUYWIsCiAgICBGdWxsU2NyZWVuOiBGdWxsU2NyZWVuLAogICAgU2hhcmU6IFNoYXJlCiAgfSwKICBtaXhpbnM6IFtNaXhpbnNORlRJbmZvLCBOZnRJdGVtXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGlkcyA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZHM7CiAgICBpZHMgPSBpZHMuc3BsaXQoIjoiKTsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIHRva2VuOiB7CiAgICAgICAgdG9rZW46IGlkc1swXSwKICAgICAgICB0b2tlbklkOiBpZHNbMV0KICAgICAgfSwKICAgICAgdGFiSW5kZXg6ICJpbmZvIiwKICAgICAgY3JlYXRvcjoge30sCiAgICAgIGluZm86IHt9LAogICAgICBoaXN0b3J5czogW10sCiAgICAgIGJpZHM6IFtdLAogICAgICBhdWN0aW9uczogW10sCiAgICAgIHNob3dTYWxlRGlhbG9nOiBmYWxzZSwKICAgICAgc2hvd0NhbmNlbFNhbGVEaWFsb2c6IGZhbHNlLAogICAgICBzaG93QnV5RGlhbG9nOiBmYWxzZSwKICAgICAgc2hvd0JpZERpYWxvZzogZmFsc2UsCiAgICAgIHNob3dDYW5jZWxCaWREaWFsb2c6IGZhbHNlLAogICAgICBzaG93QWNjZXB0RGlhbG9nOiBmYWxzZSwKICAgICAgc2hvd1RyYW5zZmVyRGlhbG9nOiBmYWxzZSwKICAgICAgc2hvd0J1cm5EaWFsb2c6IGZhbHNlLAogICAgICBzaG93U2FsZVR5cGVEaWFsb2c6IGZhbHNlLAogICAgICBzaG93QXVjdGlvbkRpYWxvZzogZmFsc2UsCiAgICAgIHNob3dBdWN0aW9uRGV0YWlsRGlhbG9nOiBmYWxzZSwKICAgICAgc2hvd0F1Y3Rpb25DYW5jZWxEaWFsb2c6IGZhbHNlLAogICAgICBvcmRlcjoge30sCiAgICAgIGlzRnVsbDogZmFsc2UsCiAgICAgIG1lZGlhRGF0YTogW10sCiAgICAgIGlzRm91bmQ6IHRydWUsCiAgICAgIHJveWFsdGllczogJycsCiAgICAgIHZhbGlkQXVjdGlvbnM6IFtdLAogICAgICBzYWxlczogW10sCiAgICAgIG5mdExpc3Q6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGV0YWlscygpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5mdDogZnVuY3Rpb24gbmZ0KCkgewogICAgICByZXR1cm4gdGhpcy5uZnRMaXN0WzBdIHx8IHt9OwogICAgfSwKICAgIG93bmVyczogZnVuY3Rpb24gb3duZXJzKCkgewogICAgICBpZiAoIXRoaXMubmZ0Lml0ZW1zKSByZXR1cm4gW107CiAgICAgIHJldHVybiB0aGlzLnNldE93bmVycyh0aGlzLm5mdC5pdGVtcywgdGhpcy5uZnQuc2FsZXMpOwogICAgfSwKICAgIGxvd2VzdEFzc2V0OiBmdW5jdGlvbiBsb3dlc3RBc3NldCgpIHsKICAgICAgaWYgKCF0aGlzLm5mdC5zYWxlcyB8fCAhdGhpcy5uZnQuaXRlbXMpIHJldHVybjsKICAgICAgcmV0dXJuIHRoaXMuZ2V0TG93ZXN0TmZ0QXNzZXQodGhpcy5uZnQuc2FsZXMsIHRoaXMubmZ0Lml0ZW1zKTsKICAgIH0sCiAgICBteUFzc2V0OiBmdW5jdGlvbiBteUFzc2V0KCkgewogICAgICBpZiAoIXRoaXMuY29ubmVjdGVkIHx8ICF0aGlzLm5mdC5pdGVtcykgcmV0dXJuOwogICAgICByZXR1cm4gdGhpcy5nZXRBZGRyZXNzQXNzZXQodGhpcy5uZnQuaXRlbXMsIHRoaXMubmZ0LnNhbGVzLCB0aGlzLm5mdC5hdWN0aW9ucywgdGhpcy51c2VyLmNvaW5iYXNlKTsKICAgIH0sCiAgICBsb3dlc3RBdWN0aW9uOiBmdW5jdGlvbiBsb3dlc3RBdWN0aW9uKCkgewogICAgICBpZiAoIXRoaXMubmZ0LmF1Y3Rpb25zIHx8ICF0aGlzLm5mdC5pdGVtcykgcmV0dXJuOwogICAgICB2YXIgYXVjdGlvbkJpZCA9IHRoaXMuZ2V0TG93ZXN0QXVjdGlvbkJpZCh0aGlzLm5mdC5hdWN0aW9ucywgdGhpcy5uZnQuaXRlbXMpOwogICAgICByZXR1cm4gYXVjdGlvbkJpZDsKICAgIH0sCiAgICBteUJpZDogZnVuY3Rpb24gbXlCaWQoKSB7CiAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQgfHwgIXRoaXMubmZ0LmJpZHMpIHJldHVybjsKICAgICAgaWYgKHRoaXMubmZ0Lm9ubHlPd25lciA9PSB0aGlzLnVzZXIuY29pbmJhc2UpIHJldHVybjsKICAgICAgdmFyIG15QmlkID0gdGhpcy5nZXRBY3RpdmVBZGRyZXNzQmlkKHRoaXMubmZ0LmJpZHMsIHRoaXMudXNlci5jb2luYmFzZSk7CiAgICAgIHJldHVybiBteUJpZDsKICAgIH0sCiAgICBoaWdoZXN0QmlkOiBmdW5jdGlvbiBoaWdoZXN0QmlkKCkgewogICAgICBpZiAoIXRoaXMubmZ0LmJpZHMpIHJldHVybjsKICAgICAgcmV0dXJuIHRoaXMuZ2V0SGlnaGVzdEJpZCh0aGlzLm5mdC5iaWRzLCB0aGlzLm5mdC5vbmx5T3duZXIpOwogICAgfSwKICAgIGNvbmZpZzogZnVuY3Rpb24gY29uZmlnKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnOwogICAgfSwKICAgIHVzZXI6IGZ1bmN0aW9uIHVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyOwogICAgfSwKICAgIGNvbm5lY3RlZDogZnVuY3Rpb24gY29ubmVjdGVkKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY29ubmVjdGVkOwogICAgfSwKICAgIHBheVRva2VuczogZnVuY3Rpb24gcGF5VG9rZW5zKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucGF5VG9rZW5zOwogICAgfSwKICAgIG5mdFVSSTogZnVuY3Rpb24gbmZ0VVJJKCkgewogICAgICBpZiAoIXRoaXMuaW5mbykgcmV0dXJuOwoKICAgICAgaWYgKHRoaXMuaW5mby5tZXRhZGF0YUNvbnRlbnQpIHsKICAgICAgICByZXR1cm4gdGhpcy4kdG9vbHMuYW5hbHlzaXModGhpcy5pbmZvLm1ldGFkYXRhQ29udGVudCk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLm1lZGlhRGF0YSkgewogICAgICAgIHZhciBuZnQ7CiAgICAgICAgbmZ0ID0gdGhpcy5pbmZvLmFkZHJlc3MgKyAiOiIgKyB0aGlzLmluZm8udG9rZW5JZDsKCiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMubWVkaWFEYXRhKSB7CiAgICAgICAgICBpZiAoa2V5ID09IG5mdCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kdG9vbHMuYW5hbHlzaXModGhpcy5tZWRpYURhdGFba2V5XSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4ge307CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnb0FjY291bnQ6IGZ1bmN0aW9uIGdvQWNjb3VudChhZGRyZXNzKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL2FjY291bnQvIiArIGFkZHJlc3MKICAgICAgfSk7CiAgICB9LAogICAgc2hvd0RpYWxvZzogZnVuY3Rpb24gc2hvd0RpYWxvZyh0eXBlLCBhc3NldCkgewogICAgICBpZiAodHlwZSA9PSAib3BlbnNlYSIpIHsKICAgICAgICBpZiAoIXRoaXMuY29uZmlnLm5ldHdvcmsub3BlbnNlYSkgcmV0dXJuOwogICAgICAgIHZhciB1cmwgPSB0aGlzLmNvbmZpZy5uZXR3b3JrLm9wZW5zZWEgKyAnLycgKyB0aGlzLmluZm8uYWRkcmVzcyArICIvIiArIHRoaXMuaW5mby50b2tlbklkOwogICAgICAgIHJldHVybiB3aW5kb3cub3Blbih1cmwsICJfYmxhbmsiKTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLiR0b29scy5uZWVkTG9naW4odGhpcy4kcm91dGUucGF0aCkpIHJldHVybjsKCiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgInNhbGUiOgogICAgICAgICAgdGhpcy5zaG93U2FsZURpYWxvZyA9IHRydWU7CiAgICAgICAgICB0aGlzLm9yZGVyID0gYXNzZXQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiZWRpdF9zYWxlIjoKICAgICAgICAgIHRoaXMuc2hvd1NhbGVEaWFsb2cgPSB0cnVlOwogICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImNhbmNlbF9zYWxlIjoKICAgICAgICAgIHRoaXMuc2hvd0NhbmNlbFNhbGVEaWFsb2cgPSB0cnVlOwogICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImJ1eSI6CiAgICAgICAgICB0aGlzLnNob3dCdXlEaWFsb2cgPSB0cnVlOwogICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImJpZCI6CiAgICAgICAgICB0aGlzLnNob3dCaWREaWFsb2cgPSB0cnVlOwogICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImVkaXRfYmlkIjoKICAgICAgICAgIHRoaXMuc2hvd0JpZERpYWxvZyA9IHRydWU7CiAgICAgICAgICB0aGlzLm9yZGVyID0gYXNzZXQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiY2FuY2VsX2JpZCI6CiAgICAgICAgICB0aGlzLnNob3dDYW5jZWxCaWREaWFsb2cgPSB0cnVlOwogICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImFjY2VwdCI6CiAgICAgICAgICB0aGlzLnNob3dBY2NlcHREaWFsb2cgPSB0cnVlOwogICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInRyYW5zZmVyIjoKICAgICAgICAgIHRoaXMuc2hvd1RyYW5zZmVyRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgIHRoaXMub3JkZXIgPSBhc3NldDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJidXJuIjoKICAgICAgICAgIHRoaXMuc2hvd0J1cm5EaWFsb2cgPSB0cnVlOwogICAgICAgICAgdGhpcy5vcmRlciA9IGFzc2V0OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInNhbGVfdHlwZSI6CiAgICAgICAgICB0aGlzLnNob3dTYWxlVHlwZURpYWxvZyA9IHRydWU7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiYXVjdGlvbiI6CiAgICAgICAgICB0aGlzLnNob3dBdWN0aW9uRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgIHRoaXMub3JkZXIgPSBhc3NldDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJhdWN0aW9uX2VkaXQiOgogICAgICAgICAgdGhpcy5zaG93QXVjdGlvbkRpYWxvZyA9IHRydWU7CiAgICAgICAgICB0aGlzLm9yZGVyID0gYXNzZXQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiYXVjdGlvbl9kZXRhaWwiOgogICAgICAgICAgdGhpcy5zaG93QXVjdGlvbkRldGFpbERpYWxvZyA9IHRydWU7CiAgICAgICAgICB0aGlzLm9yZGVyID0gYXNzZXQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiYXVjdGlvbl9jYW5jZWwiOgogICAgICAgICAgdGhpcy5zaG93QXVjdGlvbkNhbmNlbERpYWxvZyA9IHRydWU7CiAgICAgICAgICB0aGlzLm9yZGVyID0gYXNzZXQ7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIGNsb3NlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZURpYWxvZygpIHsKICAgICAgdGhpcy5zaG93U2FsZURpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLnNob3dDYW5jZWxTYWxlRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd0J1eURpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLnNob3dCaWREaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93Q2FuY2VsQmlkRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd0FjY2VwdERpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLnNob3dUcmFuc2ZlckRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLnNob3dCdXlEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93QnVybkRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLnNob3dSZXBvcnREaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93U2FsZVR5cGVEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93QXVjdGlvbkRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLnNob3dBdWN0aW9uRGV0YWlsRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd0F1Y3Rpb25DYW5jZWxEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5vcmRlciA9IHt9OwogICAgfSwKICAgIGxpa2VGdW5jdGlvbjogZnVuY3Rpb24gbGlrZUZ1bmN0aW9uKHBhcmFtZXRlcikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgYWRkcmVzczogdGhpcy5pbmZvLmFkZHJlc3MsCiAgICAgICAgdG9rZW5JZDogdGhpcy5pbmZvLnRva2VuSWQKICAgICAgfTsKCiAgICAgIGlmICghdGhpcy5pbmZvLmxpa2UpIHsKICAgICAgICB0aGlzLiRhcGkoImxpa2UuYWRkIiwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAoX3RoaXMuJHRvb2xzLmNoZWNrUmVzcG9uc2UocmVzKSkgewogICAgICAgICAgICBfdGhpcy5pbmZvLmxpa2UgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGFwaSgibGlrZS5yZW1vdmUiLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChfdGhpcy4kdG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICAgIF90aGlzLmluZm8ubGlrZSA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcXVlcnlMaWtlOiBmdW5jdGlvbiBxdWVyeUxpa2UoYWRkcmVzcywgdG9rZW5JZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuY29ubmVjdGVkKSByZXR1cm47CiAgICAgIHZhciBxdWVyeSA9IHsKICAgICAgICBuZnRzOiBhZGRyZXNzICsgIjoiICsgdG9rZW5JZCwKICAgICAgICBhZGRyZXNzOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmNvaW5iYXNlCiAgICAgIH07CiAgICAgIHRoaXMuJGFwaSgibGlrZS5saXN0dXNlcmxpa2UiLCBxdWVyeSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKF90aGlzMi4kdG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgIF90aGlzMi5pbmZvLmxpa2UgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuJHRvb2xzLm1lc3NhZ2UocmVzLmVycm1zZyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRNZWRpYTogZnVuY3Rpb24gZ2V0TWVkaWEobmZ0cykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBfbmZ0cyA9IG5mdHMuYWRkcmVzcyArICI6IiArIG5mdHMudG9rZW5JZDsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGluZm86IF9uZnRzCiAgICAgIH07CiAgICAgIHRoaXMuJGFwaSgibmZ0LmdldG1lZGlhIiwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLm1lZGlhRGF0YSA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRSb3lhbHRpZXM6IGZ1bmN0aW9uIGdldFJveWFsdGllcyhuZnRzKSB7CiAgICAgIHZhciBfbmZ0cyA9IG5mdHMuYWRkcmVzcyArICI6IiArIG5mdHMudG9rZW5JZDsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGluZm86IF9uZnRzCiAgICAgIH07CiAgICAgIHRoaXMuJGFwaSgibmZ0LmdldHJveWFsdGllcyIsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGZvciAodmFyIGtleSBpbiByZXMuZGF0YSkgewogICAgICAgICAgaWYgKGtleSA9PSBfbmZ0cyAmJiByZXMuZGF0YVtrZXldKSB7CiAgICAgICAgICAgIHZhciBnZXRyb3lhbHRpZXMgPSBKU09OLnBhcnNlKHJlcy5kYXRhW2tleV0pOwogICAgICAgICAgICB2YXIgY291bnQgPSAwOwoKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZXRyb3lhbHRpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBjb3VudCA9IGNvdW50ICsgZ2V0cm95YWx0aWVzW2ldOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGF0LnJveWFsdGllcyA9IHRoYXQuJHRvb2xzLmRlY2ltYWwoY291bnQgLyAxMDAsIDIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0RGV0YWlsczogZnVuY3Rpb24gZ2V0RGV0YWlscygpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgdG9rZW46IHRoaXMudG9rZW4udG9rZW4sCiAgICAgICAgdG9rZW5JZDogdGhpcy50b2tlbi50b2tlbklkCiAgICAgIH07CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhpcy4kYXBpKCJuZnQuZGV0YWlsIiwgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgIHZhciBsaXN0LCBfZGF0YSwgY291bnQsIGk7CgogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXRoYXQuJHRvb2xzLmNoZWNrUmVzcG9uc2UocmVzKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHRoYXQuaXNGb3VuZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIHRoYXQubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBsaXN0ID0gW3Jlcy5kYXRhXTsKICAgICAgICAgICAgICAgICAgdGhhdC5uZnRMaXN0ID0gbGlzdDsKICAgICAgICAgICAgICAgICAgdGhhdC5pbmZvID0gbGlzdFswXTsKICAgICAgICAgICAgICAgICAgdGhhdC5xdWVyeUZ1bmN0aW9uKGxpc3QpOwogICAgICAgICAgICAgICAgICB0aGF0LmdldEJpZHMoKTsKICAgICAgICAgICAgICAgICAgdGhhdC5nZXRBdWN0aW9ucygpOwoKICAgICAgICAgICAgICAgICAgaWYgKCF0aGF0LmluZm8ucm95YWx0aWVzKSB7CiAgICAgICAgICAgICAgICAgICAgdGhhdC5nZXRSb3lhbHRpZXMocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF9kYXRhID0gSlNPTi5wYXJzZSh0aGF0LmluZm8ucm95YWx0aWVzKTsKICAgICAgICAgICAgICAgICAgICBjb3VudCA9IDA7CgogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgY291bnQgPSBjb3VudCArIF9kYXRhW2ldOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhhdC5yb3lhbHRpZXMgPSB0aGF0LiR0b29scy5kZWNpbWFsKGNvdW50IC8gMTAwLCAyKTsKICAgICAgICAgICAgICAgICAgfSAvLyB0aGF0LmNyZWF0b3IgPSByZXMuZGF0YS5jcmVhdG9yOwoKCiAgICAgICAgICAgICAgICAgIHRoYXQuaW5mby5jYXRlZ29yeSA9IHRoYXQuJHN0b3JlLmdldHRlcnMuY2F0ZWdvcnkodGhhdC5pbmZvLmNhdGVnb3J5SWQpOwogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LmdldENyZWF0b3IoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgICAvLyB0aGF0LmFuYWx5c2lzTkZUKCk7CiAgICAgICAgICAgICAgICAgIHRoYXQuZ2V0Q29udHJhY3QoKTsKICAgICAgICAgICAgICAgICAgdGhhdC5nZXRBdWN0aW9uVXNlckluZm9zKCk7CiAgICAgICAgICAgICAgICAgIHRoYXQuZ2V0SGlzdG9yeXMoKTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgICB0aGF0LiR0b29scy5tZXNzYWdlKHJlcy5lcnJtc2cpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgZ2V0Q3JlYXRvcjogZnVuY3Rpb24gZ2V0Q3JlYXRvcigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBhZGRyZXNzOiB0aGlzLmluZm8uY3JlYXRvcgogICAgICB9OwogICAgICB0aGlzLiRhcGkoJ3VzZXIuaW5mbycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChfdGhpczQuJHRvb2xzLmNoZWNrUmVzcG9uc2UocmVzKSkgewogICAgICAgICAgX3RoaXM0LmNyZWF0b3IgPSByZXMuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldEhpc3RvcnlzOiBmdW5jdGlvbiBnZXRIaXN0b3J5cygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICB0b2tlbjogdGhpcy50b2tlbi50b2tlbiwKICAgICAgICB0b2tlbklkOiB0aGlzLnRva2VuLnRva2VuSWQKICAgICAgfTsKICAgICAgdGhpcy4kYXBpKCJuZnQuaGlzdG9yeSIsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChfdGhpczUuJHRvb2xzLmNoZWNrUmVzcG9uc2UocmVzKSkgewogICAgICAgICAgdmFyIGhpc3RvcnlzID0gW107CiAgICAgICAgICB2YXIgaGlzdG9yeTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcy5kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGhpc3RvcnkgPSByZXMuZGF0YVtpXTsKICAgICAgICAgICAgaGlzdG9yeS5wYXlUb2tlbiA9IHsKICAgICAgICAgICAgICBhZGRyZXNzOiBoaXN0b3J5LnBheXRva2VuQWRkcmVzcywKICAgICAgICAgICAgICBzeW1ib2w6IGhpc3RvcnkucGF5dG9rZW5TeW1ib2wsCiAgICAgICAgICAgICAgZGVjaW1hbHM6IGhpc3RvcnkucGF5dG9rZW5EZWNpbWFscywKICAgICAgICAgICAgICBuYW1lOiBoaXN0b3J5LnBheXRva2VuTmFtZQogICAgICAgICAgICB9OwogICAgICAgICAgICBoaXN0b3J5cy5wdXNoKGhpc3RvcnkpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNS5oaXN0b3J5cyA9IGhpc3RvcnlzOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0QmlkczogZnVuY3Rpb24gZ2V0QmlkcygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgdG9rZW46IF90aGlzNi50b2tlbi50b2tlbiwKICAgICAgICAgIHRva2VuSWQ6IF90aGlzNi50b2tlbi50b2tlbklkCiAgICAgICAgfTsKCiAgICAgICAgX3RoaXM2LiRhcGkoIm5mdC5iaWRzIiwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAoX3RoaXM2LiR0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgICAgdmFyIGJpZHMgPSBbXTsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICB2YXIgYmlkID0gcmVzLmRhdGFbaV07CiAgICAgICAgICAgICAgYmlkLnBheVRva2VuID0gewogICAgICAgICAgICAgICAgYWRkcmVzczogYmlkLnBheXRva2VuQWRkcmVzcywKICAgICAgICAgICAgICAgIHN5bWJvbDogYmlkLnBheXRva2VuU3ltYm9sLAogICAgICAgICAgICAgICAgZGVjaW1hbHM6IGJpZC5wYXl0b2tlbkRlY2ltYWxzLAogICAgICAgICAgICAgICAgbmFtZTogYmlkLnBheXRva2VuTmFtZQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgYmlkcy5wdXNoKGJpZCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzNi5iaWRzID0gYmlkczsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNi4kdG9vbHMubWVzc2FnZShyZXMuZXJybXNnKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEF1Y3Rpb25zOiBmdW5jdGlvbiBnZXRBdWN0aW9ucygpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgdG9rZW46IF90aGlzNy50b2tlbi50b2tlbiwKICAgICAgICAgIHRva2VuSWQ6IF90aGlzNy50b2tlbi50b2tlbklkCiAgICAgICAgfTsKCiAgICAgICAgX3RoaXM3LiRhcGkoImF1Y3Rpb24ubGlzdCIsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKF90aGlzNy4kdG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICAgIHZhciBhdWN0aW9ucyA9IFtdOwogICAgICAgICAgICB2YXIgdmFsaWRBdWN0aW9ucyA9IFtdOwoKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMuZGF0YS5saXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgdmFyIGF1Y3Rpb24gPSByZXMuZGF0YS5saXN0W2ldOwogICAgICAgICAgICAgIGF1Y3Rpb24ucGF5VG9rZW4gPSB7CiAgICAgICAgICAgICAgICBhZGRyZXNzOiBhdWN0aW9uLnBheXRva2VuQWRkcmVzcywKICAgICAgICAgICAgICAgIHN5bWJvbDogYXVjdGlvbi5wYXl0b2tlblN5bWJvbCwKICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBhdWN0aW9uLnBheXRva2VuRGVjaW1hbHMsCiAgICAgICAgICAgICAgICBuYW1lOiBhdWN0aW9uLnBheXRva2VuTmFtZQogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIHZhciB2YWxpZEF1Y3Rpb24gPSBfdGhpczcuZ2V0VmFsaWRBdWN0aW9ucyhhdWN0aW9uLCBfdGhpczcub3duZXJzKTsKCiAgICAgICAgICAgICAgaWYgKHZhbGlkQXVjdGlvbikgewogICAgICAgICAgICAgICAgdmFsaWRBdWN0aW9ucy5wdXNoKHZhbGlkQXVjdGlvbik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdmFyIGhpZ2hlc3RQcmljZSA9IGF1Y3Rpb24uaGlnaGVzdFByaWNlOwoKICAgICAgICAgICAgICBpZiAoIWhpZ2hlc3RQcmljZSkgewogICAgICAgICAgICAgICAgYXVjdGlvbi5sb3dlc3RQcmljZSA9IF90aGlzNy4kdG9vbHMuc2luZ2xlUHJpY2UoYXVjdGlvbi5zdGFydFZhbHVlLCBhdWN0aW9uLnNlbGxWYWx1ZSwgYXVjdGlvbi5wYXlUb2tlbik7CiAgICAgICAgICAgICAgICBhdWN0aW9uLmxvd2VzdFVzZHRQcmljZSA9IF90aGlzNy4kdG9vbHMuZGVjaW1hbChhdWN0aW9uLnBheVRva2VuID8gYXVjdGlvbi5sb3dlc3RQcmljZSAqIGF1Y3Rpb24ucGF5VG9rZW4ucmF0ZSA6ICIwIik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGF1Y3Rpb24ubG93ZXN0UHJpY2UgPSBfdGhpczcuJHRvb2xzLnNpbmdsZVByaWNlKGhpZ2hlc3RQcmljZSwgYXVjdGlvbi5zZWxsVmFsdWUsIGF1Y3Rpb24ucGF5VG9rZW4pOwogICAgICAgICAgICAgICAgYXVjdGlvbi5sb3dlc3RVc2R0UHJpY2UgPSBfdGhpczcuJHRvb2xzLmRlY2ltYWwoYXVjdGlvbi5wYXlUb2tlbiA/IGF1Y3Rpb24ubG93ZXN0UHJpY2UgKiBhdWN0aW9uLnBheVRva2VuLnJhdGUgOiAiMCIpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYXVjdGlvbnMucHVzaChhdWN0aW9uKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXM3LmF1Y3Rpb25zID0gYXVjdGlvbnM7CiAgICAgICAgICAgIF90aGlzNy52YWxpZEF1Y3Rpb25zID0gdmFsaWRBdWN0aW9uczsKICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBhbmFseXNpc05GVDogZnVuY3Rpb24gYW5hbHlzaXNORlQoKSB7Ly8gaWYgKHRoaXMuY29ubmVjdGVkKSB7CiAgICAgIC8vICAgdGhpcy5teUJpZCA9IHRoaXMuZ2V0QWN0aXZlQWRkcmVzc0JpZCh0aGlzLmJpZHMsIHRoaXMudXNlci5jb2luYmFzZSk7CiAgICAgIC8vICB0aGlzLm15QXVjdGlvbiA9IHRoaXMuaGFzQXVjdGlvbiA/IHRoaXMuZ2V0QWN0aXZlQWRkcmVzc0F1Y3Rpb24odGhpcy5hdWN0aW9ucywgdGhpcy51c2VyLmNvaW5iYXNlKSA6IG51bGw7CiAgICAgIC8vIH0KICAgICAgLy8gdGhpcy5sb3dlc3RBc3NldCA9IHRoaXMuZ2V0TG93ZXN0QXNzZXQodGhpcy5vd25lcnMpOwogICAgICAvLyB0aGlzLmxvd2VzdEF1Y3Rpb24gPSB0aGlzLmhhc0F1Y3Rpb24gPyB0aGlzLmdldExvd2VzdEF1Y3Rpb24odGhpcy5hdWN0aW9ucywgdGhpcy5vd25lcnMpIDogbnVsbDsKICAgICAgLy8gdGhpcy5oaWdoZXN0QmlkID0gdGhpcy5nZXRIaWdoZXN0QmlkKHRoaXMuYmlkcyk7CiAgICB9LAogICAgc2V0T3duZXJzOiBmdW5jdGlvbiBzZXRPd25lcnMoaXRlbXMsIHNhbGVzKSB7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgdmFyIG51bSA9IDA7CiAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsKICAgICAgICBpZiAoc2FsZXMpIHsKICAgICAgICAgIGlmIChzYWxlcy5nZXQoa2V5KSkgewogICAgICAgICAgICByZXN1bHRbbnVtXSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc2FsZXMuZ2V0KGtleSkpLCB7fSwgewogICAgICAgICAgICAgIG9uc2VsbDogdmFsdWUub25zZWxsLAogICAgICAgICAgICAgIG9uc2VsbFR5cGU6IHZhbHVlLm9uc2VsbFR5cGUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXN1bHRbbnVtXSA9IHZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXN1bHRbbnVtXSA9IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgbnVtKys7CiAgICAgIH0sIGl0ZW1zKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBnZXRDb250cmFjdDogZnVuY3Rpb24gZ2V0Q29udHJhY3QoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgYWRkcmVzc3M6IHRoaXMuaW5mby5hZGRyZXNzCiAgICAgIH07CiAgICAgIHRoaXMuJGFwaSgiY29udHJhY3QubGlzdGJ5YWRkciIsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChfdGhpczguJHRvb2xzLmNoZWNrUmVzcG9uc2UgJiYgcmVzLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICBfdGhpczguaW5mby5jb250cmFjdCA9IHJlcy5kYXRhWzBdOwoKICAgICAgICAgIGlmICghX3RoaXM4LmluZm8uY29udHJhY3QubmFtZSB8fCAhX3RoaXM4LmluZm8uY29udHJhY3Quc3ltYm9sKSB7CiAgICAgICAgICAgIF90aGlzOC5nZXRpbmZvKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRBdWN0aW9uVXNlckluZm9zOiBmdW5jdGlvbiBnZXRBdWN0aW9uVXNlckluZm9zKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHZhciBhZGRyTGlzdCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmF1Y3Rpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYWRkckxpc3QucHVzaCh0aGlzLmF1Y3Rpb25zW2ldLm93bmVyKTsKICAgICAgfQoKICAgICAgYWRkckxpc3QgPSBhZGRyTGlzdC5qb2luKCIsIik7CiAgICAgIGlmICghYWRkckxpc3QpIHJldHVybjsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBhZGRyTGlzdDogYWRkckxpc3QKICAgICAgfTsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGlzLiRhcGkoInVzZXIubGlzdGJ5YWRkciIsIHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHRoYXQuJHRvb2xzLmNoZWNrUmVzcG9uc2UocmVzKSkgewogICAgICAgICAgdmFyIHVzZXJzID0ge307CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgdXNlciA9IHJlcy5kYXRhW2ldOwogICAgICAgICAgICB1c2Vyc1t1c2VyLmFkZHJlc3MudG9Mb2NhbGVMb3dlckNhc2UoKV0gPSB1c2VyOwogICAgICAgICAgfQoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhhdC5hdWN0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYXVjdGlvbiA9IF90aGlzOS5hdWN0aW9uc1tpXTsKICAgICAgICAgICAgdmFyIF91c2VyID0gdXNlcnNbYXVjdGlvbi5vd25lci50b0xvY2FsZUxvd2VyQ2FzZSgpXTsKICAgICAgICAgICAgaWYgKCFfdXNlcikgY29udGludWU7CiAgICAgICAgICAgIHRoYXQuYXVjdGlvbnNbaV0ubmlja25hbWUgPSBfdXNlci5uaWNrbmFtZTsKICAgICAgICAgICAgdGhhdC5hdWN0aW9uc1tpXS5hdmF0YXIgPSBfdXNlci5hdmF0YXI7CiAgICAgICAgICB9CgogICAgICAgICAgdGhhdC5hdWN0aW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhhdC5hdWN0aW9ucykpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0aW5mbzogZnVuY3Rpb24gZ2V0aW5mbygpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgYWRkcmVzczogdGhpcy5pbmZvLmFkZHJlc3MKICAgICAgfTsKICAgICAgdGhpcy4kYXBpKCJjb250cmFjdC5nZXRpbmZvIiwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKF90aGlzMTAuJHRvb2xzLmNoZWNrUmVzcG9uc2UgJiYgcmVzLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICBfdGhpczEwLmluZm8uY29udHJhY3QubmFtZSA9IHJlcy5kYXRhLm5hbWU7CiAgICAgICAgICBfdGhpczEwLmluZm8uY29udHJhY3Quc3ltYm9sID0gcmVzLmRhdGEuc3ltYm9sOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGlhbG9nQ29uZmlybTogZnVuY3Rpb24gZGlhbG9nQ29uZmlybSgpIHsKICAgICAgdGhpcy5jbG9zZURpYWxvZygpOwogICAgICB0aGlzLmdldERldGFpbHMoKTsKICAgIH0sCiAgICBkaWFsb2dTZWxlY3Q6IGZ1bmN0aW9uIGRpYWxvZ1NlbGVjdChzZWxlY3RWYWwpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgdGhpcy5zaG93U2FsZVR5cGVEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChzZWxlY3RWYWwgPT09IDApIHsKICAgICAgICAgIF90aGlzMTEuc2hvd0RpYWxvZygic2FsZSIsIF90aGlzMTEubXlBc3NldCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMTEuc2hvd0RpYWxvZygiYXVjdGlvbiIsIF90aGlzMTEubXlBdWN0aW9uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNsaWNrVGFiOiBmdW5jdGlvbiBjbGlja1RhYih0YWIpIHt9CiAgfQp9Ow=="},null]}