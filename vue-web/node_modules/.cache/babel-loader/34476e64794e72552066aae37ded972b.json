{"remainingRequest":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\components\\dialogs\\Sale.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\components\\dialogs\\Sale.vue","mtime":1650964597000},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\babel.config.js","mtime":1650964597000},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652258014056},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1652258014277},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652258014056},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1652258044998}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvTW9oYW1lZCBUYW1pbS9EZXNrdG9wL1NPTkdUUkFERVItVjItRlVMTC9maW5nZXJuZnRfYmxpbmRib3gvZmluZ2VybmZ0X2JsaW5kYm94L3Z1ZS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICJDOi9Vc2Vycy9Nb2hhbWVkIFRhbWltL0Rlc2t0b3AvU09OR1RSQURFUi1WMi1GVUxML2Zpbmdlcm5mdF9ibGluZGJveC9maW5nZXJuZnRfYmxpbmRib3gvdnVlLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL01vaGFtZWQgVGFtaW0vRGVza3RvcC9TT05HVFJBREVSLVYyLUZVTEwvZmluZ2VybmZ0X2JsaW5kYm94L2Zpbmdlcm5mdF9ibGluZGJveC92dWUtd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgQmlnTnVtYmVyIGZyb20gJ2JpZ251bWJlci5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2FsZSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBwYXl0b2tlbiA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZGVmYXVsdFNhbGVQYXlUb2tlbigpOwogICAgcmV0dXJuIHsKICAgICAgdmlzaWJsZTogdGhpcy5zaG93LAogICAgICBjb25maXJtOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIHByaWNlOiAnJywKICAgICAgICBwYXlBZGRyZXNzOiBwYXl0b2tlbiA/IHBheXRva2VuLmFkZHJlc3MgOiAiIiwKICAgICAgICBxdWFudGl0eTogJycKICAgICAgfSwKICAgICAgZm9ybUVycm9yOiB7CiAgICAgICAgYWxsOiAiIiwKICAgICAgICBwcmljZTogIiIsCiAgICAgICAgcXVhbnRpdHk6ICIiCiAgICAgIH0sCiAgICAgIHN0ZXA6IHsKICAgICAgICBhcHByb3ZlOiAwLAogICAgICAgIHNhbGU6IDAKICAgICAgfSwKICAgICAgZXJyb3I6IHsKICAgICAgICBhbGw6ICIiLAogICAgICAgIGFwcHJvdmU6ICIiLAogICAgICAgIHNhbGU6ICIiCiAgICAgIH0sCiAgICAgIG9yZGVyOiB7fQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBzaG93OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbmZ0OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDoge30KICAgIH0sCiAgICBhc3NldDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IHt9CiAgICB9LAogICAgdXJpOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgZW1pdHM6IFsiY29uZmlybSJdLAogIHdhdGNoOiB7CiAgICBzaG93OiBmdW5jdGlvbiBzaG93KHZhbCkgewogICAgICB0aGlzLnZpc2libGUgPSB0aGlzLnNob3c7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcGF5VG9rZW46IGZ1bmN0aW9uIHBheVRva2VuKCkgewogICAgICB2YXIgcGF5VG9rZW4gPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLnBheVRva2VuKHRoaXMuZm9ybS5wYXlBZGRyZXNzKTsKICAgICAgcmV0dXJuIHBheVRva2VuOwogICAgfSwKICAgIHVzZXI6IGZ1bmN0aW9uIHVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyOwogICAgfSwKICAgIGNvbmZpZzogZnVuY3Rpb24gY29uZmlnKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnOwogICAgfSwKICAgIHBheVRva2VuczogZnVuY3Rpb24gcGF5VG9rZW5zKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucGF5VG9rZW5zOwogICAgfSwKICAgIHNlcnZpY2VGZWU6IGZ1bmN0aW9uIHNlcnZpY2VGZWUoKSB7CiAgICAgIHZhciBmZWUgPSB0aGlzLiR0b29scy5kZWNpbWFsKHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy5zZWxsZXJGZWUgLyAxMDAsIDIpOwogICAgICByZXR1cm4gZmVlOwogICAgfSwKICAgIHJlY2VpdmU6IGZ1bmN0aW9uIHJlY2VpdmUoKSB7CiAgICAgIHZhciBwcmljZSA9IHRoaXMuJHRvb2xzLnN0cjJudW0odGhpcy5mb3JtLnByaWNlKTsKICAgICAgaWYgKCFwcmljZSkgcmV0dXJuIHsKICAgICAgICByZWNlaXZlOiAwCiAgICAgIH07CiAgICAgIHByaWNlID0gcHJpY2UgKiB0aGlzLmZvcm0ucXVhbnRpdHk7CiAgICAgIHZhciByZWNlaXZlID0gdGhpcy4kdG9vbHMuZGVjaW1hbChwcmljZSAtIHByaWNlICogdGhpcy5zZXJ2aWNlRmVlIC8gMTAwLCA2KTsKICAgICAgcmV0dXJuIHsKICAgICAgICByZWNlaXZlOiByZWNlaXZlCiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbk9wZW46IGZ1bmN0aW9uIG9uT3BlbigpIHsKICAgICAgaWYgKCF0aGlzLmFzc2V0Lm9uc2VsbCkgewogICAgICAgIGlmICh0aGlzLiRzZGsua2V5QXNzZXRUeXBlKHRoaXMubmZ0LnR5cGUpID09ICdFUkM3MjEnKSB7CiAgICAgICAgICB0aGlzLmZvcm0ucXVhbnRpdHkgPSAnMSc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZm9ybS5xdWFudGl0eSA9ICcnOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5hc3NldC5wYXlUb2tlbiA9IHRoaXMuJHN0b3JlLmdldHRlcnMucGF5VG9rZW4odGhpcy5mb3JtLnBheUFkZHJlc3MpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZm9ybS5xdWFudGl0eSA9IHRoaXMuYXNzZXQuc2VsbFF1YW50aXR5OwogICAgICAgIHRoaXMuZm9ybS5wYXlBZGRyZXNzID0gdGhpcy5hc3NldC5wYXl0b2tlbkFkZHJlc3M7CiAgICAgICAgdGhpcy5mb3JtLnByaWNlID0gdGhpcy4kdG9vbHMuc2luZ2xlUHJpY2UodGhpcy5hc3NldC5wcmljZSwgdGhpcy5hc3NldC5zZWxsVmFsdWUsIHRoaXMuYXNzZXQucGF5VG9rZW4pOwogICAgICB9CiAgICB9LAogICAgY2hlY2tGb3JtOiBmdW5jdGlvbiBjaGVja0Zvcm0oKSB7CiAgICAgIHZhciBlcnJvciA9IGZhbHNlOwoKICAgICAgaWYgKCFwYXJzZUZsb2F0KHRoaXMuZm9ybS5wcmljZSkpIHsKICAgICAgICBlcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5mb3JtRXJyb3IucHJpY2UgPSB0aGlzLiR0KCJmb3JtLm5vUHJpY2UiKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYXNzZXQub25zZWxsICYmIHBhcnNlRmxvYXQodGhpcy5mb3JtLnByaWNlKSA+PSBwYXJzZUZsb2F0KHRoaXMuJHRvb2xzLnNpbmdsZVByaWNlKHRoaXMuYXNzZXQucHJpY2UsIHRoaXMuYXNzZXQuc2VsbFZhbHVlLCB0aGlzLmFzc2V0LnBheVRva2VuKSkpIHsKICAgICAgICBlcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5mb3JtRXJyb3IucHJpY2UgPSB0aGlzLiR0KCJmb3JtLmdyYW50ZXJQcmljZSIpOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuZm9ybS5xdWFudGl0eSkgewogICAgICAgIGVycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmZvcm1FcnJvci5xdWFudGl0eSA9IHRoaXMuJHQoImZvcm0ubm9RdWFudGl0eSIpOwogICAgICB9CgogICAgICBpZiAodGhpcy4kdG9vbHMuQmlnTnVtYmVyR3QodGhpcy5mb3JtLnF1YW50aXR5LCB0aGlzLmFzc2V0LnF1YW50aXR5KSkgewogICAgICAgIGVycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmZvcm1FcnJvci5xdWFudGl0eSA9IHRoaXMuJHQoImZvcm0uZXhjZWVkVmFsdWUiKTsKICAgICAgfQoKICAgICAgcmV0dXJuICFlcnJvcjsKICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIGlmICghdGhpcy5jaGVja0Zvcm0oKSkgcmV0dXJuOwogICAgICB0aGlzLmNvbmZpcm0gPSB0cnVlOwogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5vbkFwcHJvdmUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSwgMTAwKTsKICAgIH0sCiAgICBnZXRPcmRlcjogZnVuY3Rpb24gZ2V0T3JkZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgY2FkZHJlc3M6IF90aGlzLm5mdC5hZGRyZXNzLAogICAgICAgICAgICAgICAgICAgIHRva2VuSWQ6IF90aGlzLm5mdC50b2tlbklkLAogICAgICAgICAgICAgICAgICAgIG93bmVyOiBfdGhpcy5hc3NldC5pdGVtT3duZXIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogX3RoaXMuJHNkay52YWx1ZU9yZGVyVHlwZSgiU0FMRSIpCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gX3RoaXM7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYXBpKCJvcmRlci5nZXQiLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhhdC4kdG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICAgICAgICAgICAgICB0aGF0Lm9yZGVyID0gewogICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiByZXMuZGF0YS5zZWxsVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuSWQ6IHJlcy5kYXRhLnNlbGxUb2tlbklkLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiByZXMuZGF0YS5zZWxsVHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgcGF5VG9rZW46IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiByZXMuZGF0YS5idXllclRva2VuLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlcy5kYXRhLnBheXRva2VuTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2w6IHJlcy5kYXRhLnBheXRva2VuU3ltYm9sLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2ltYWxzOiByZXMuZGF0YS5wYXl0b2tlbkRlY2ltYWxzLAogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHJlcy5kYXRhLmJ1eWVyVHlwZQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBzYWx0OiByZXMuZGF0YS5zYWx0CiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogcmVzLmVycm1zZwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25BcHByb3ZlOiBmdW5jdGlvbiBvbkFwcHJvdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHBheVRva2VuLCByZXN1bHQsIGFwcHJvdmVkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuc3RlcC5hcHByb3ZlID0gMTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmFzc2V0Lm9uc2VsbCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHBheVRva2VuID0gX3RoaXMyLiRzdG9yZS5nZXR0ZXJzLnBheVRva2VuKF90aGlzMi5mb3JtLnBheUFkZHJlc3MpOwogICAgICAgICAgICAgICAgX3RoaXMyLm9yZGVyID0gewogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBfdGhpczIubmZ0LmFkZHJlc3MsCiAgICAgICAgICAgICAgICAgIHRva2VuSWQ6IF90aGlzMi5uZnQudG9rZW5JZCwKICAgICAgICAgICAgICAgICAgdHlwZTogX3RoaXMyLm5mdC50eXBlLAogICAgICAgICAgICAgICAgICBwYXlUb2tlbjogcGF5VG9rZW4sCiAgICAgICAgICAgICAgICAgIHNhbHQ6ICcwJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRPcmRlcigpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5lcnJvcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3IuYWxsID0gcmVzdWx0LmVycm9yOwogICAgICAgICAgICAgICAgX3RoaXMyLnN0ZXAuYXBwcm92ZSA9IDA7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRBcHByb3ZlQWxsKCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBhcHByb3ZlZCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChhcHByb3ZlZC5lcnJvcikgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3IuYXBwcm92ZSA9IGFwcHJvdmVkLmVycm9yOwogICAgICAgICAgICAgICAgICBfdGhpczIuc3RlcC5hcHByb3ZlID0gMDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvci5hcHByb3ZlID0gIiI7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGVwLmFwcHJvdmUgPSAyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0QXBwcm92ZUFsbDogZnVuY3Rpb24gc2V0QXBwcm92ZUFsbCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgb3JkZXIsIGlzQXBwcm92ZWQsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgb3JkZXIgPSB7CiAgICAgICAgICAgICAgICAgIHR5cGU6IF90aGlzMy5vcmRlci50eXBlLAogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBfdGhpczMub3JkZXIuYWRkcmVzcywKICAgICAgICAgICAgICAgICAgdG9rZW5JZDogX3RoaXMzLm9yZGVyLnRva2VuSWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRzZGsuaXNBcHByb3ZlZEZvckFsbChvcmRlciwgX3RoaXMzLnVzZXIuY29pbmJhc2UsIF90aGlzMy5jb25maWcuY29udHJhY3QudHJhbnNmZXJQcm94eUFkZHJlc3MpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpc0FwcHJvdmVkID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEoX3R5cGVvZihpc0FwcHJvdmVkKSA9PSAnb2JqZWN0JyAmJiBpc0FwcHJvdmVkLmVycm9yKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBpc0FwcHJvdmVkKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKCFpc0FwcHJvdmVkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kc2RrLnNldEFwcHJvdmFsRm9yQWxsKG9yZGVyLCBfdGhpczMudXNlci5jb2luYmFzZSwgX3RoaXMzLmNvbmZpZy5jb250cmFjdC50cmFuc2ZlclByb3h5QWRkcmVzcywgdHJ1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25TYWxlOiBmdW5jdGlvbiBvblNhbGUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIG9yZGVyLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC5zdGVwLnNhbGUgPSAxOwogICAgICAgICAgICAgICAgb3JkZXIgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF90aGlzNC5vcmRlciksIHt9LCB7CiAgICAgICAgICAgICAgICAgIHByaWNlOiBfdGhpczQuZm9ybS5wcmljZSwKICAgICAgICAgICAgICAgICAgc2VsbGVyRmVlOiBfdGhpczQuY29uZmlnLnNlbGxlckZlZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNhbGVUb2tlbihvcmRlcik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9yLnNhbGUgPSByZXN1bHQuZXJyb3I7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5zdGVwLnNhbGUgPSAwOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9yLnNhbGUgPSAiIjsKICAgICAgICAgICAgICAgICAgX3RoaXM0LnN0ZXAuc2FsZSA9IDI7CgogICAgICAgICAgICAgICAgICBfdGhpczQuJGVtaXQoImNvbmZpcm0iKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2FsZVRva2VuOiBmdW5jdGlvbiBzYWxlVG9rZW4ob3JkZXIpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgICAgdmFyIGJ1eVZhbHVlID0gbmV3IEJpZ051bWJlcihfdGhpczUuZm9ybS5wcmljZSk7CiAgICAgICAgICAgICAgICAgIGJ1eVZhbHVlID0gYnV5VmFsdWUubXVsdGlwbGllZEJ5KG5ldyBCaWdOdW1iZXIoX3RoaXM1LmZvcm0ucXVhbnRpdHkpKS5tdWx0aXBsaWVkQnkobmV3IEJpZ051bWJlcigxMCkuZXhwb25lbnRpYXRlZEJ5KG9yZGVyLnBheVRva2VuLmRlY2ltYWxzKSkudG9GaXhlZCgpOwogICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICBvd25lcjogX3RoaXM1LnVzZXIuY29pbmJhc2UsCiAgICAgICAgICAgICAgICAgICAgc2VsbFRva2VuOiBvcmRlci5hZGRyZXNzLAogICAgICAgICAgICAgICAgICAgIHNlbGxUb2tlbklkOiBvcmRlci50b2tlbklkLAogICAgICAgICAgICAgICAgICAgIHNlbGxWYWx1ZTogX3RoaXM1LmZvcm0ucXVhbnRpdHksCiAgICAgICAgICAgICAgICAgICAgc2VsbFR5cGU6IG9yZGVyLnR5cGUsCiAgICAgICAgICAgICAgICAgICAgYnV5VG9rZW46IG9yZGVyLnBheVRva2VuLmFkZHJlc3MsCiAgICAgICAgICAgICAgICAgICAgYnV5VG9rZW5JZDogIjAiLAogICAgICAgICAgICAgICAgICAgIGJ1eVZhbHVlOiBidXlWYWx1ZSwKICAgICAgICAgICAgICAgICAgICBidXlUeXBlOiBvcmRlci5wYXlUb2tlbi50eXBlLAogICAgICAgICAgICAgICAgICAgIHNhbHQ6IG9yZGVyLnNhbHQsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogX3RoaXM1LiRzZGsudmFsdWVDb21tb25UeXBlKCJTQUxFIikKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgdmFyIHRoYXQgPSBfdGhpczU7CgogICAgICAgICAgICAgICAgICBfdGhpczUuJGFwaSgib3JkZXIucHJlcGFyZSIsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlLCBzYWx0LCBzaWduYXR1cmUsIF9kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhhdC4kdG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IHJlcy5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdGFydHNXaXRoKCcweCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2Uuc2xpY2UoMiwgbWVzc2FnZS5sZW5ndGgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWx0ID0gcmVzLmRhdGEuc2FsdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC4kd2ViMy5zaWduKG1lc3NhZ2UsIHRoYXQudXNlci5jb2luYmFzZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmUgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2lnbmF0dXJlLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHJlc29sdmUoc2lnbmF0dXJlKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAxMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2WyJjYXRjaCJdKDUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgcmVzb2x2ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IF9jb250ZXh0Ni50MC5tZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAhdGhhdC5hc3NldC5vbnNlbGwgPyB0aGF0LiRzZGsudmFsdWVDb21tb25UeXBlKCJTQUxFIikgOiB0aGF0LiRzZGsudmFsdWVDb21tb25UeXBlKCdFRElUX1NBTEUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvd25lcjogZGF0YS5vd25lciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxsVG9rZW46IGRhdGEuc2VsbFRva2VuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGxUb2tlbklkOiBkYXRhLnNlbGxUb2tlbklkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGxWYWx1ZTogZGF0YS5zZWxsVmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsbFR5cGU6IGRhdGEuc2VsbFR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV5VG9rZW46IGRhdGEuYnV5VG9rZW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV5VG9rZW5JZDogZGF0YS50b2tlbklkID8gZGF0YS50b2tlbklkIDogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXlWYWx1ZTogZGF0YS5idXlWYWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXlUeXBlOiBkYXRhLmJ1eVR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsdDogc2FsdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogc2lnbmF0dXJlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuJGFwaSgib3JkZXIuYWRkIiwgX2RhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGF0LiR0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuJHRvb2xzLm1lc3NhZ2UodGhhdC4kdCgncmVxdWVzdC5zYWxlU3VjY2VzcycpLCAic3VjY2VzcyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHJlcy5lcnJtc2cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuJHRvb2xzLm1lc3NhZ2UocmVzLmVycm1zZyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiByZXMuZXJybXNnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU2LCBudWxsLCBbWzUsIDEzXV0pOwogICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSgpKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCJjbG9zZSIpOwogICAgfSwKICAgIGNsb3NlZDogZnVuY3Rpb24gY2xvc2VkKCkgewogICAgICB2YXIgcGF5dG9rZW4gPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlZmF1bHRTYWxlUGF5VG9rZW4oKTsKICAgICAgdGhpcy5zdGVwID0gewogICAgICAgIGFwcHJvdmU6IDAsCiAgICAgICAgc2FsZTogMAogICAgICB9OwogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgcHJpY2U6ICcnLAogICAgICAgIHBheUFkZHJlc3M6IHBheXRva2VuID8gcGF5dG9rZW4uYWRkcmVzcyA6ICIiLAogICAgICAgIHF1YW50aXR5OiAnJwogICAgICB9OwogICAgICB0aGlzLmZvcm1FcnJvciA9IHsKICAgICAgICBhbGw6ICIiLAogICAgICAgIHByaWNlOiAiIiwKICAgICAgICBxdWFudGl0eTogIiIKICAgICAgfTsKICAgICAgdGhpcy5lcnJvciA9IHsKICAgICAgICBhbGw6ICIiLAogICAgICAgIGFwcHJvdmU6ICIiLAogICAgICAgIHNhbGU6ICIiCiAgICAgIH07CiAgICAgIHRoaXMuY29uZmlybSA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"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","names":["BigNumber","name","data","paytoken","$store","getters","defaultSalePayToken","visible","show","confirm","form","price","payAddress","address","quantity","formError","all","step","approve","sale","error","order","props","type","Boolean","default","nft","Object","asset","uri","emits","watch","val","computed","payToken","user","state","config","payTokens","serviceFee","fee","$tools","decimal","sellerFee","receive","str2num","methods","onOpen","onsell","$sdk","keyAssetType","sellQuantity","paytokenAddress","singlePrice","sellValue","checkForm","parseFloat","$t","BigNumberGt","onSubmit","that","setTimeout","onApprove","getOrder","Promise","resolve","reject","caddress","tokenId","owner","itemOwner","valueOrderType","$api","then","checkResponse","res","sellToken","sellTokenId","sellType","buyerToken","paytokenName","symbol","paytokenSymbol","decimals","paytokenDecimals","buyerType","salt","errmsg","result","setApproveAll","approved","isApprovedForAll","coinbase","contract","transferProxyAddress","isApproved","setApprovalForAll","onSale","saleToken","$emit","buyValue","multipliedBy","exponentiatedBy","toFixed","buyToken","buyTokenId","buyType","valueCommonType","message","startsWith","slice","length","signature","$web3","sign","_data","close","closed"],"sourceRoot":"","sources":["C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\components\\dialogs\\Sale.vue"],"sourcesContent":["<template>\n  <el-dialog :model-value=\"visible\" :show-close=\"false\" :close-on-click-modal=\"false\" @close=\"$emit('close')\" @open=\"onOpen\" @closed=\"closed\" custom-class=\"fg-dialog\" destroy-on-close>\n    <template #title>\n      <div class=\"fg-dialog-title\">\n        <div class=\"left\">\n          <span v-if=\"uri\">{{ uri.name }}</span>\n        </div>\n        <div class=\"right\" @click=\"$emit('close')\">\n          <img class=\"close-img\" src=\"@/assets/create-img/pop_shut.png \">\n        </div>\n      </div>\n    </template>\n    <div class=\"fg-dialog-body\" v-if=\"!confirm\">\n      <div class=\"all-error\" v-if=\"formError.all\"> {{ formError.all }} </div>\n      <div class=\"process\">\n        <div class=\"step-info\">\n          <div class=\"text\">\n            <span>{{$t('dialog.putOnSale')}}</span>\n          </div>\n        </div>\n        <div class=\"input-group\">\n          <div class=\"input-info\">\n            <div class=\"tip\"><span class=\"text\">{{ $t('dialog.salePrice')}}</span></div>\n            <el-input class=\"fg-dialog-input\" placeholder=\"0.0\" type=\"number\" v-if=\"!asset.onsell\" v-model=\"form.price\">\n              <template #suffix>\n                <el-select class=\"paytoken-selects\" v-model=\"form.payAddress\">\n                  <el-option v-for=\"(token, i) in payTokens\" :key=\"i\" :label=\"token.symbol\" :value=\"token.address\">\n                  </el-option>\n                </el-select>\n              </template>\n            </el-input>\n            <el-input class=\"fg-dialog-input\" placeholder=\"0.0\" type=\"number\" v-else v-model=\"form.price\">\n              <template #suffix>\n                <div class=\"paytoken-suffix\">{{asset.payToken ? asset.payToken.symbol:''}}</div>\n              </template>\n            </el-input>\n            <div class=\"input-error\" v-if=\"formError.price\">{{ formError.price}}</div>\n            <div class=\"stip\">\n              <div class=\"stip-item\"> {{ $t('dialog.serviceFee') }} <span class=\"bfont\">{{serviceFee}}%</span> </div>\n              <div class=\"stip-item\">{{ $t('dialog.receive') }}\n                <span class=\"bfont\"> {{receive.receive}}{{ payToken ? payToken.symbol:'' }}</span>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"input-info\" v-if=\"$sdk.keyAssetType(nft.type) != 'ERC721'\">\n            <div class=\"tip\">{{ $t('dialog.enterQuantity') }}<span class=\"gray-font\">({{asset.quantity }} {{ $t('dialog.available') }} )</span></div>\n            <el-input class=\"fg-dialog-input\" placeholder=\"0.0\" type=\"number\" v-model=\"form.quantity\">\n            </el-input>\n            <div class=\"input-error\" v-if=\"formError.quantity\">{{formError.quantity}}</div>\n          </div>\n\n        </div>\n        <div class=\"process-btn\">\n          <el-button @click=\"onSubmit\" v-if=\"!asset.onsell\" type=\"primary\" :loading=\"confirm\">{{ $t('dialog.confirm') }}</el-button>\n          <el-button @click=\"onSubmit\" v-else type=\"primary\" :loading=\"confirm\">{{ $t('dialog.change') }}</el-button>\n        </div>\n      </div>\n    </div>\n    <div class=\"fg-dialog-body\" v-else>\n      <div class=\"all-error\" v-if=\"error.all\"> {{ error.all }} </div>\n      <div class=\"process\">\n        <div class=\"step-info\">\n          <div class=\"text\">\n            <span>{{ $t('dialog.approveCollection') }}</span>\n          </div>\n          <span v-if=\"step.approve != 1\" :class=\"step.approve== 2 ? 'finish': ''\" class=\"step iconfont icon-seleted\"></span>\n          <div class=\"step loading\" v-else>\n            <img class=\"loading-animation\" src=\"@/assets/img/loading.png\" />\n          </div>\n\n        </div>\n        <div class=\"process-btn\">\n          <el-button @click=\"onApprove\" type=\"primary\" v-if=\"step.approve == 0\">{{ $t('dialog.approve') }}</el-button>\n          <el-button disabled type=\"info\" v-else-if=\"step.approve == 1\">{{ $t('dialog.inProgress') }}</el-button>\n          <el-button disabled type=\"info\" v-else>{{ $t('dialog.done') }}</el-button>\n        </div>\n        <div class=\"process-error\" v-if=\"error.approve\">{{ error.approve }}</div>\n      </div>\n\n      <div class=\"process\">\n        <div class=\"step-info\">\n          <div class=\"text\">\n            <span>{{ $t('dialog.signsSale') }}</span>\n          </div>\n          <span v-if=\"step.sale != 1\" :class=\"step.sale == 2 ? 'finish': ''\" class=\"step iconfont icon-seleted\"></span>\n          <div class=\"step loading\" v-else>\n            <img class=\"loading-animation\" src=\"@/assets/img/loading.png\" />\n          </div>\n        </div>\n        <div class=\"process-btn\">\n          <el-button disabled type=\"info\" v-if=\"step.approve != 2\">{{ $t('dialog.sale') }}</el-button>\n          <el-button @click=\"onSale\" type=\"primary\" v-else-if=\"step.sale ==0\">{{ $t('dialog.sale') }}</el-button>\n          <el-button disabled type=\"info\" v-else-if=\"step.sale == 1\"> {{ $t('dialog.inProgress') }}</el-button>\n          <el-button disabled type=\"info\" v-else>{{ $t('dialog.done') }}</el-button>\n        </div>\n        <div class=\"process-error\" v-if=\"error.sale\">{{ error.sale }}</div>\n      </div>\n\n    </div>\n\n  </el-dialog>\n</template>\n\n<script>\n  import BigNumber from 'bignumber.js'\n  export default {\n    name: \"Sale\",\n    data: function () {\n      let paytoken = this.$store.getters.defaultSalePayToken();\n      return {\n        visible: this.show,\n        confirm: false,\n        form: {\n          price: '',\n          payAddress: paytoken ? paytoken.address : \"\",\n          quantity: '',\n        },\n        formError: {\n          all: \"\",\n          price: \"\",\n          quantity: \"\",\n        },\n        step: {\n          approve: 0,\n          sale: 0,\n        },\n        error: {\n          all: \"\",\n          approve: \"\",\n          sale: \"\",\n        },\n        order: {},\n      }\n    },\n    props: {\n      show: {\n        type: Boolean,\n        default: false,\n      },\n      nft: {\n        type: Object,\n        default: {},\n      },\n      asset: {\n        type: Object,\n        default: {},\n      },\n      uri: {\n        type: Object,\n        default: null\n      },\n    },\n    emits: [\"confirm\"],\n    watch: {\n      show (val) {\n        this.visible = this.show;\n      },\n    },\n    computed: {\n      payToken () {\n        let payToken = this.$store.getters.payToken(\n          this.form.payAddress\n        );\n        return payToken;\n      },\n      user () {\n        return this.$store.state.user;\n      },\n      config () {\n        return this.$store.state.config;\n      },\n      payTokens () {\n        return this.$store.state.payTokens;\n      },\n      serviceFee () {\n        let fee = this.$tools.decimal(this.$store.state.config.sellerFee / 100, 2);\n        return fee;\n      },\n      receive () {\n        let price = this.$tools.str2num(this.form.price);\n        if (!price) return { receive: 0 }\n        price = price * this.form.quantity;\n        let receive = this.$tools.decimal(price - (price * this.serviceFee / 100), 6);\n        return { receive }\n      },\n    },\n    methods: {\n      onOpen () {\n        if (!this.asset.onsell) {\n          if (this.$sdk.keyAssetType(this.nft.type) == 'ERC721') {\n            this.form.quantity = '1';\n          } else {\n            this.form.quantity = '';\n          }\n          this.asset.payToken = this.$store.getters.payToken(\n            this.form.payAddress\n          );\n        } else {\n          this.form.quantity = this.asset.sellQuantity;\n          this.form.payAddress = this.asset.paytokenAddress;\n          this.form.price = this.$tools.singlePrice(this.asset.price, this.asset.sellValue, this.asset.payToken);\n        }\n      },\n      checkForm () {\n        var error = false;\n        if (!parseFloat(this.form.price)) {\n          error = true;\n          this.formError.price = this.$t(\"form.noPrice\");\n        }\n        if (this.asset.onsell && (parseFloat(this.form.price) >= parseFloat(\n          this.$tools.singlePrice(this.asset.price, this.asset.sellValue, this.asset.payToken)\n        ))) {\n          error = true\n          this.formError.price = this.$t(\"form.granterPrice\");\n        }\n        if (!this.form.quantity) {\n          error = true;\n          this.formError.quantity = this.$t(\"form.noQuantity\");\n        }\n        if (this.$tools.BigNumberGt(this.form.quantity, this.asset.quantity)) {\n          error = true;\n          this.formError.quantity = this.$t(\"form.exceedValue\");\n        }\n\n        return !error;\n      },\n      onSubmit () {\n        if (!this.checkForm()) return;\n        this.confirm = true;\n        let that = this;\n        setTimeout(async function () {\n          await that.onApprove();\n        }, 100);\n      },\n      async getOrder () {\n        return new Promise((resolve, reject) => {\n          var data = {\n            caddress: this.nft.address,\n            tokenId: this.nft.tokenId,\n            owner: this.asset.itemOwner,\n            type: this.$sdk.valueOrderType(\"SALE\"),\n          }\n          let that = this;\n          this.$api(\"order.get\", data).then(res => {\n            if (that.$tools.checkResponse(res)) {\n              that.order = {\n                address: res.data.sellToken,\n                tokenId: res.data.sellTokenId,\n                type: res.data.sellType,\n                payToken: {\n                  address: res.data.buyerToken,\n                  name: res.data.paytokenName,\n                  symbol: res.data.paytokenSymbol,\n                  decimals: res.data.paytokenDecimals,\n                  type: res.data.buyerType,\n                },\n                salt: res.data.salt,\n              }\n              resolve(res.data)\n            } else {\n              resolve({ error: res.errmsg });\n            }\n          });\n        });\n      },\n      async onApprove () {\n        this.step.approve = 1;\n        if (!this.asset.onsell) {\n          let payToken = this.$store.getters.payToken(this.form.payAddress);\n          this.order = {\n            address: this.nft.address,\n            tokenId: this.nft.tokenId,\n            type: this.nft.type,\n            payToken: payToken,\n            salt: '0',\n          }\n        } else {\n          let result = await this.getOrder();\n          if (result.error) {\n            this.error.all = result.error;\n            this.step.approve = 0;\n            return;\n          }\n        }\n        let approved = await this.setApproveAll();\n        if (approved.error) {\n          this.error.approve = approved.error;\n          this.step.approve = 0;\n        } else {\n          this.error.approve = \"\"\n          this.step.approve = 2;\n        }\n      },\n      async setApproveAll () {\n        let order = {\n          type: this.order.type,\n          address: this.order.address,\n          tokenId: this.order.tokenId,\n        }\n        let isApproved = await this.$sdk.isApprovedForAll(\n          order,\n          this.user.coinbase,\n          this.config.contract.transferProxyAddress,\n        );\n        if (typeof isApproved == 'object' && isApproved.error) {\n          return isApproved;\n        }\n        if (isApproved) return true;\n        let result = await this.$sdk.setApprovalForAll(\n          order,\n          this.user.coinbase,\n          this.config.contract.transferProxyAddress,\n          true);\n        return result;\n      },\n      async onSale () {\n        this.step.sale = 1;\n        let order = {\n          ...this.order,\n          price: this.form.price,\n          sellerFee: this.config.sellerFee\n        }\n        let result = await this.saleToken(order)\n        if (result.error) {\n          this.error.sale = result.error;\n          this.step.sale = 0;\n        } else {\n          this.error.sale = \"\";\n          this.step.sale = 2;\n          this.$emit(\"confirm\")\n        }\n      },\n      async saleToken (order) {\n        return new Promise((resolve, reject) => {\n          let buyValue = new BigNumber(this.form.price);\n          buyValue = buyValue.multipliedBy(new BigNumber(this.form.quantity)).multipliedBy(\n            new BigNumber(10).exponentiatedBy(order.payToken.decimals)).toFixed();\n          var data = {\n            owner: this.user.coinbase,\n            sellToken: order.address,\n            sellTokenId: order.tokenId,\n            sellValue: this.form.quantity,\n            sellType: order.type,\n            buyToken: order.payToken.address,\n            buyTokenId: \"0\",\n            buyValue: buyValue,\n            buyType: order.payToken.type,\n            salt: order.salt,\n            type: this.$sdk.valueCommonType(\"SALE\")\n          }\n          let that = this;\n          this.$api(\"order.prepare\", data).then(async function (res) {\n            if (that.$tools.checkResponse(res)) {\n              let message = res.data.message;\n              if (message.startsWith('0x')) {\n                message = message.slice(2, message.length)\n              }\n              let salt = res.data.salt;\n              let signature = \"\";\n              try {\n                signature = await that.$web3.sign(message, that.user.coinbase);\n                if (signature.error) {\n                  return resolve(signature);\n                }\n              } catch (e) {\n                return resolve({ error: e.message })\n              }\n              var _data = {\n                type: !that.asset.onsell ? that.$sdk.valueCommonType(\"SALE\") : that.$sdk.valueCommonType('EDIT_SALE'),\n                owner: data.owner,\n                sellToken: data.sellToken,\n                sellTokenId: data.sellTokenId,\n                sellValue: data.sellValue,\n                sellType: data.sellType,\n                buyToken: data.buyToken,\n                buyTokenId: data.tokenId ? data.tokenId : 0,\n                buyValue: data.buyValue,\n                buyType: data.buyType,\n                salt: salt,\n                message: message,\n                signature: signature,\n              }\n              that.$api(\"order.add\", _data).then(function (res) {\n                if (that.$tools.checkResponse(res)) {\n                  that.$tools.message(that.$t('request.saleSuccess'), \"success\");\n                  resolve(res);\n                } else {\n                  resolve({ error: res.errmsg });\n                }\n              });\n            } else {\n              that.$tools.message(res.errmsg);\n              resolve({ error: res.errmsg })\n            }\n          });\n        });\n      },\n      close () {\n        this.$emit(\"close\");\n      },\n      closed () {\n        let paytoken = this.$store.getters.defaultSalePayToken();\n        this.step = {\n          approve: 0,\n          sale: 0,\n        }\n        this.form = {\n          price: '',\n          payAddress: paytoken ? paytoken.address : \"\",\n          quantity: '',\n        }\n        this.formError = {\n          all: \"\",\n          price: \"\",\n          quantity: \"\",\n        }\n        this.error = {\n          all: \"\",\n          approve: \"\",\n          sale: \"\",\n        }\n        this.confirm = false;\n      },\n    },\n  }\n\n</script>\n<style lang=\"scss\" scoped>\n</style>\n\n"]}]}