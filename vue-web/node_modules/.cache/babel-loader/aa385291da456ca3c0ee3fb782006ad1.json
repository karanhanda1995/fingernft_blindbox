{"remainingRequest":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\util\\sdk\\index.js","dependencies":[{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\util\\sdk\\index.js","mtime":1650964597000},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\babel.config.js","mtime":1650964597000},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652272398602},{"path":"C:\\Users\\97154\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1652272398685}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzk3MTU0L0Rlc2t0b3AvU09OR1RSQURFUi1WMi1GVUxML2Zpbmdlcm5mdF9ibGluZGJveC9maW5nZXJuZnRfYmxpbmRib3gvdnVlLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0IHV0aWxzX3dlYjMgZnJvbSAiQC91dGlsL3dlYjMvaW5kZXgiOwoKdmFyIFdlYjMgPSByZXF1aXJlKCJ3ZWIzIik7CgppbXBvcnQgdHlwZXMgZnJvbSAiLi90eXBlcyI7CmltcG9ydCB1dGlscyBmcm9tICIuL3V0aWxzIjsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwppbXBvcnQgdHJ1ZmZsZV9jb250cmFjdCBmcm9tICJAdHJ1ZmZsZS9jb250cmFjdCI7CmltcG9ydCBjb25zdGFudHMgZnJvbSAiLi9jb25zdGFudHMiOwppbXBvcnQgQmlnTnVtYmVyIGZyb20gImJpZ251bWJlci5qcyI7Cgp2YXIgZXRoX3V0aWwgPSByZXF1aXJlKCJldGhlcmV1bWpzLXV0aWwiKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuZXdFUkM3MjE6IGZ1bmN0aW9uIG5ld0VSQzcyMShvd25lciwgYXNzZXQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBhYmksIGNvbnRyYWN0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYWJpID0gdXRpbHMuY29udHJhY3RBYmkoIkNyZWF0ZU5GVDcyMSIpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiB1dGlscy5jb250cmFjdEF0KGFiaSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY29udHJhY3QgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWNvbnRyYWN0LmVycm9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgY29udHJhY3QpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiBjb250cmFjdC5uZXcoYXNzZXQubmFtZSwgYXNzZXQuc3ltYm9sLCBhc3NldC5taW5lciwgYXNzZXQuY29udHJhY3RVUkksIGFzc2V0LnVyaSwgewogICAgICAgICAgICAgICAgZnJvbTogb3duZXIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEyOwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNik7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgZXJyb3I6IF9jb250ZXh0LnQwLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbNiwgMTJdXSk7CiAgICB9KSkoKTsKICB9LAogIG5ld0VSQzExNTU6IGZ1bmN0aW9uIG5ld0VSQzExNTUob3duZXIsIGFzc2V0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGFiaSwgY29udHJhY3Q7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYWJpID0gdXRpbHMuY29udHJhY3RBYmkoIkNyZWF0ZU5GVDExNTUiKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLmNvbnRyYWN0QXQoYWJpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjb250cmFjdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWNvbnRyYWN0LmVycm9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBjb250cmFjdCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA2OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gY29udHJhY3QubmV3KGFzc2V0Lm5hbWUsIGFzc2V0LnN5bWJvbCwgYXNzZXQubWluZXIsIGFzc2V0LmNvbnRyYWN0VVJJLCBhc3NldC51cmksIHsKICAgICAgICAgICAgICAgIGZyb206IG93bmVyCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mi5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNik7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDIudDAubWVzc2FnZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzYsIDEyXV0pOwogICAgfSkpKCk7CiAgfSwKICB0b3RhbFN1cHBseTogZnVuY3Rpb24gdG90YWxTdXBwbHkoYXNzZXQpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBjb250cmFjdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhc3NldCA9IF90aGlzLmdldEZ1bGxBc3NldChhc3NldCk7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRBc3NldENvbnRyYWN0KGFzc2V0KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjb250cmFjdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWNvbnRyYWN0LmVycm9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBjb250cmFjdCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiBjb250cmFjdC50b3RhbFN1cHBseSgpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDMuc2VudCk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIG1pbnRUb2tlbjogZnVuY3Rpb24gbWludFRva2VuKG93bmVyLCBhc3NldCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHZhciBjb250cmFjdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhc3NldCA9IF90aGlzMi5nZXRGdWxsQXNzZXQoYXNzZXQpOwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldEFzc2V0Q29udHJhY3QoYXNzZXQpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNvbnRyYWN0ID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghY29udHJhY3QuZXJyb3IpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIGNvbnRyYWN0KTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDY7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiBjb250cmFjdC5taW50KGFzc2V0LnRva2VuSWQsIGFzc2V0LnNpZ25hdHVyZS52LCBhc3NldC5zaWduYXR1cmUuciwgYXNzZXQuc2lnbmF0dXJlLnMsIGFzc2V0LmZlZXMsIGFzc2V0LnRva2VuVVJJLCB7CiAgICAgICAgICAgICAgICBmcm9tOiBvd25lcgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQuc2VudCk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDYpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQ0LnQwLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1s2LCAxMl1dKTsKICAgIH0pKSgpOwogIH0sCiAgbWludEVyYzExNTVUb2tlbjogZnVuY3Rpb24gbWludEVyYzExNTVUb2tlbihvd25lciwgYXNzZXQpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICB2YXIgY29udHJhY3Q7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYXNzZXQgPSBfdGhpczMuZ2V0RnVsbEFzc2V0KGFzc2V0KTsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRBc3NldENvbnRyYWN0KGFzc2V0KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjb250cmFjdCA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWNvbnRyYWN0LmVycm9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBjb250cmFjdCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSA2OwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gY29udHJhY3QubWludChhc3NldC50b2tlbklkLCBhc3NldC5zaWduYXR1cmUudiwgYXNzZXQuc2lnbmF0dXJlLnIsIGFzc2V0LnNpZ25hdHVyZS5zLCBhc3NldC5mZWVzLCBhc3NldC5xdWFudGl0eSwgYXNzZXQudG9rZW5VUkksIHsKICAgICAgICAgICAgICAgIGZyb206IG93bmVyCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NS5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDVbImNhdGNoIl0oNik7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDUudDAubWVzc2FnZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU1LCBudWxsLCBbWzYsIDEyXV0pOwogICAgfSkpKCk7CiAgfSwKICBpc0FwcHJvdmVkRm9yQWxsOiBmdW5jdGlvbiBpc0FwcHJvdmVkRm9yQWxsKGFzc2V0LCBvd25lciwgb3BlcmF0b3IpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICB2YXIgY29udHJhY3Q7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYXNzZXQgPSBfdGhpczQuZ2V0RnVsbEFzc2V0KGFzc2V0KTsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5nZXRBc3NldENvbnRyYWN0KGFzc2V0KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjb250cmFjdCA9IF9jb250ZXh0Ni5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWNvbnRyYWN0LmVycm9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBjb250cmFjdCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSA2OwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gY29udHJhY3QuaXNBcHByb3ZlZEZvckFsbChvd25lciwgb3BlcmF0b3IpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDYuc2VudCk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2WyJjYXRjaCJdKDYpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQ2LnQwLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNiwgbnVsbCwgW1s2LCAxMl1dKTsKICAgIH0pKSgpOwogIH0sCiAgc2V0QXBwcm92YWxGb3JBbGw6IGZ1bmN0aW9uIHNldEFwcHJvdmFsRm9yQWxsKGFzc2V0LCBjb2luYmFzZSwgb3BlcmF0b3IsIGFwcHJvdmVkKSB7CiAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgdmFyIGNvbnRyYWN0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGFzc2V0ID0gX3RoaXM1LmdldEZ1bGxBc3NldChhc3NldCk7CiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczUuZ2V0QXNzZXRDb250cmFjdChhc3NldCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY29udHJhY3QgPSBfY29udGV4dDcuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCFjb250cmFjdC5lcnJvcikgewogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgY29udHJhY3QpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gNjsKICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyYWN0LnNldEFwcHJvdmFsRm9yQWxsKG9wZXJhdG9yLCBhcHByb3ZlZCwgewogICAgICAgICAgICAgICAgZnJvbTogY29pbmJhc2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ3LnNlbnQpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDEyOwogICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0N1siY2F0Y2giXSg2KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgZXJyb3I6IF9jb250ZXh0Ny50MC5tZXNzYWdlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTcsIG51bGwsIFtbNiwgMTJdXSk7CiAgICB9KSkoKTsKICB9LAogIGdldEZ1bGxBc3NldDogZnVuY3Rpb24gZ2V0RnVsbEFzc2V0KGFzc2V0KSB7CiAgICB2YXIgdHlwZSA9IHR5cGVzLmtleUFzc2V0VHlwZShhc3NldC50eXBlKTsKICAgIHZhciBhYmkgPSB1dGlscy5jb250cmFjdEFiaSh0eXBlKTsKICAgIGFzc2V0LmFiaSA9IGFiaTsKICAgIHJldHVybiBhc3NldDsKICB9LAogIGdldEJhbGFuY2U6IGZ1bmN0aW9uIGdldEJhbGFuY2UoYXNzZXQsIG93bmVyKSB7CiAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgdmFyIHdlYjMsIGJhbGFuY2UsIGNvbnRyYWN0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdXRpbHNfd2ViMy5nZXRXZWIzKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgd2ViMyA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMzsKCiAgICAgICAgICAgICAgaWYgKCEoYXNzZXQuYWRkcmVzcyA9PSBfdGhpczYuTlVMTF9BRERSRVNTKCkpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHdlYjMuZXRoLmdldEJhbGFuY2Uob3duZXIpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGJhbGFuY2UgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgd2ViMy51dGlscy5mcm9tV2VpKGJhbGFuY2UudG9TdHJpbmcoKSwgImV0aGVyIikpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBhc3NldC50eXBlID0gdHlwZXMudmFsdWVBc3NldFR5cGUoIkVSQzIwIik7CiAgICAgICAgICAgICAgYXNzZXQgPSBfdGhpczYuZ2V0RnVsbEFzc2V0KGFzc2V0KTsKICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczYuZ2V0QXNzZXRDb250cmFjdChhc3NldCk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNvbnRyYWN0ID0gX2NvbnRleHQ4LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghY29udHJhY3QuZXJyb3IpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCBjb250cmFjdCk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyYWN0LmJhbGFuY2VPZihvd25lcik7CgogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDguc2VudCk7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMjM7CiAgICAgICAgICAgICAgX2NvbnRleHQ4LnQwID0gX2NvbnRleHQ4WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQ4LnQwLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlOCwgbnVsbCwgW1szLCAyM11dKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0TkZUQmFsYW5jZTogZnVuY3Rpb24gZ2V0TkZUQmFsYW5jZShhc3NldCwgb3duZXIpIHsKICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICB2YXIgd2ViMywgY29udHJhY3Q7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiB1dGlsc193ZWIzLmdldFdlYjMoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICB3ZWIzID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSAzOwogICAgICAgICAgICAgIGFzc2V0ID0gX3RoaXM3LmdldEZ1bGxBc3NldChhc3NldCk7CiAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczcuZ2V0QXNzZXRDb250cmFjdChhc3NldCk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY29udHJhY3QgPSBfY29udGV4dDkuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCFjb250cmFjdC5lcnJvcikgewogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIGNvbnRyYWN0KTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgaWYgKCEodHlwZXMua2V5QXNzZXRUeXBlKGFzc2V0LnR5cGUpID09ICJFUkMxMTU1IikpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyYWN0LmJhbGFuY2VPZihvd25lciwgYXNzZXQudG9rZW5JZCk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDkuc2VudCk7CgogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyYWN0LmJhbGFuY2VPZihvd25lcik7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDkuc2VudCk7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMjE7CiAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQ5LnQwLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlOSwgbnVsbCwgW1szLCAyMV1dKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0QXNzZXRDb250cmFjdDogZnVuY3Rpb24gZ2V0QXNzZXRDb250cmFjdChhc3NldCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhc3NldC5jb250cmFjdEFkZHJlc3MgPSBhc3NldC5hZGRyZXNzOwogICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLmNvbnRyYWN0QXQoYXNzZXQuYWJpLCBhc3NldC5jb250cmFjdEFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxMC5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTApOwogICAgfSkpKCk7CiAgfSwKICB0cmFuc2ZlckFzc2V0OiBmdW5jdGlvbiB0cmFuc2ZlckFzc2V0KGFzc2V0LCBmcm9tLCB0bykgewogICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICB2YXIgY29udHJhY3Q7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGFzc2V0ID0gX3RoaXM4LmdldEZ1bGxBc3NldChhc3NldCk7CiAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmdldEFzc2V0Q29udHJhY3QoYXNzZXQpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNvbnRyYWN0ID0gX2NvbnRleHQxMS5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWNvbnRyYWN0LmVycm9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoInJldHVybiIsIGNvbnRyYWN0KTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDExLnByZXYgPSA2OwogICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyYWN0LnRyYW5zZmVyRnJvbShmcm9tLCB0bywgYXNzZXQudG9rZW5JZCwgewogICAgICAgICAgICAgICAgZnJvbTogZnJvbQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxMS5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQxMS5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgX2NvbnRleHQxMS50MCA9IF9jb250ZXh0MTFbImNhdGNoIl0oNik7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQxMS50MC5tZXNzYWdlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxMSwgbnVsbCwgW1s2LCAxMl1dKTsKICAgIH0pKSgpOwogIH0sCiAgdHJhbnNmZXJBc3NldDExNTU6IGZ1bmN0aW9uIHRyYW5zZmVyQXNzZXQxMTU1KGFzc2V0LCBmcm9tLCB0bykgewogICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICB2YXIgd2ViMywgY29udHJhY3QsIGRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzX3dlYjMuZ2V0V2ViMygpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHdlYjMgPSBfY29udGV4dDEyLnNlbnQ7CiAgICAgICAgICAgICAgYXNzZXQgPSBfdGhpczkuZ2V0RnVsbEFzc2V0KGFzc2V0KTsKICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczkuZ2V0QXNzZXRDb250cmFjdChhc3NldCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY29udHJhY3QgPSBfY29udGV4dDEyLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghY29udHJhY3QuZXJyb3IpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdCgicmV0dXJuIiwgY29udHJhY3QpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0MTIucHJldiA9IDk7CiAgICAgICAgICAgICAgZGF0YSA9IHdlYjMuZXRoLmFiaS5lbmNvZGVQYXJhbWV0ZXJzKFsiYWRkcmVzcyIsICJhZGRyZXNzIiwgInVpbnQyNTYiLCAidWludDI1NiJdLCBbZnJvbSwgdG8sIGFzc2V0LnRva2VuSWQsIGFzc2V0LnF1YW50aXR5XSk7CiAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyYWN0LnNhZmVUcmFuc2ZlckZyb20oZnJvbSwgdG8sIGFzc2V0LnRva2VuSWQsIGFzc2V0LnF1YW50aXR5LCBkYXRhLCB7CiAgICAgICAgICAgICAgICBmcm9tOiBmcm9tCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxMi5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgX2NvbnRleHQxMi5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgX2NvbnRleHQxMi50MCA9IF9jb250ZXh0MTJbImNhdGNoIl0oOSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQxMi50MC5tZXNzYWdlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxMiwgbnVsbCwgW1s5LCAxNl1dKTsKICAgIH0pKSgpOwogIH0sCiAgYnVybkFzc2V0OiBmdW5jdGlvbiBidXJuQXNzZXQoYXNzZXQpIHsKICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgIHZhciBjb250cmFjdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYXNzZXQgPSBfdGhpczEwLmdldEZ1bGxBc3NldChhc3NldCk7CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMC5nZXRBc3NldENvbnRyYWN0KGFzc2V0KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjb250cmFjdCA9IF9jb250ZXh0MTMuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCFjb250cmFjdC5lcnJvcikgewogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KCJyZXR1cm4iLCBjb250cmFjdCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5wcmV2ID0gNjsKICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiBjb250cmFjdC5idXJuKGFzc2V0LnRva2VuSWQsIHsKICAgICAgICAgICAgICAgIGZyb206IGFzc2V0Lm93bmVyCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDEzLnNlbnQpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dDEzLnQwID0gX2NvbnRleHQxM1siY2F0Y2giXSg2KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDEzLnQwLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTEzLCBudWxsLCBbWzYsIDEyXV0pOwogICAgfSkpKCk7CiAgfSwKICBidXJuQXNzZXQxMTU1OiBmdW5jdGlvbiBidXJuQXNzZXQxMTU1KGFzc2V0KSB7CiAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICB2YXIgY29udHJhY3Q7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGFzc2V0ID0gX3RoaXMxMS5nZXRGdWxsQXNzZXQoYXNzZXQpOwogICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEuZ2V0QXNzZXRDb250cmFjdChhc3NldCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY29udHJhY3QgPSBfY29udGV4dDE0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghY29udHJhY3QuZXJyb3IpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LmFicnVwdCgicmV0dXJuIiwgY29udHJhY3QpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0MTQucHJldiA9IDY7CiAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gY29udHJhY3QuYnVybihhc3NldC5vd25lciwgYXNzZXQudG9rZW5JZCwgYXNzZXQucXVhbnRpdHksIHsKICAgICAgICAgICAgICAgIGZyb206IGFzc2V0Lm93bmVyCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDE0LnNlbnQpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dDE0LnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dDE0LnQwID0gX2NvbnRleHQxNFsiY2F0Y2giXSg2KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDE0LnQwLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE0LCBudWxsLCBbWzYsIDEyXV0pOwogICAgfSkpKCk7CiAgfSwKICBjYW5jZWxPcmRlcjogZnVuY3Rpb24gY2FuY2VsT3JkZXIob3duZXIsIGFzc2V0KSB7CiAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICB2YXIgY29udHJhY3QsIG9yZGVyS2V5OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczEyLmdldEV4Y2hhbmdlQ29udHJhY3QoYXNzZXQsIG93bmVyKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjb250cmFjdCA9IF9jb250ZXh0MTUuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCFjb250cmFjdC5lcnJvcikgewogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJyZXR1cm4iLCBjb250cmFjdCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgb3JkZXJLZXkgPSB1dGlscy5nZXRPcmRlcktleShhc3NldCk7CgogICAgICAgICAgICAgIGlmIChvcmRlcktleSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBlcnJvcjogImVycm9yIFRva2VuIgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIG9yZGVyS2V5ID0gdXRpbHMudHVwbGVPcmRlcktleShvcmRlcktleSk7CiAgICAgICAgICAgICAgX2NvbnRleHQxNS5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gY29udHJhY3QuY2FuY2VsKG9yZGVyS2V5LCB7CiAgICAgICAgICAgICAgICBmcm9tOiBvd25lcgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTUuc2VudCk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIF9jb250ZXh0MTUucHJldiA9IDE1OwogICAgICAgICAgICAgIF9jb250ZXh0MTUudDAgPSBfY29udGV4dDE1WyJjYXRjaCJdKDkpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgZXJyb3I6IF9jb250ZXh0MTUudDAubWVzc2FnZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTUsIG51bGwsIFtbOSwgMTVdXSk7CiAgICB9KSkoKTsKICB9LAogIGV4Y2hhbmdlT3JkZXI6IGZ1bmN0aW9uIGV4Y2hhbmdlT3JkZXIob3duZXIsIGFzc2V0KSB7CiAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICB2YXIgY29udHJhY3QsIG9yZGVyLCBTaWcsIGJ1eWVyRmVlU2lnLCB2YWx1ZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy5nZXRFeGNoYW5nZUNvbnRyYWN0KGFzc2V0KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjb250cmFjdCA9IF9jb250ZXh0MTYuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCFjb250cmFjdC5lcnJvcikgewogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KCJyZXR1cm4iLCBjb250cmFjdCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgb3JkZXIgPSB1dGlscy5jcmVhdGVPcmRlcihhc3NldCk7CgogICAgICAgICAgICAgIGlmIChvcmRlcikgewogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBlcnJvcjogImVycm9yIFRva2VuIgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIFNpZyA9IF90aGlzMTMucGFyc2VTaWduYXR1cmVIZXgoYXNzZXQuc2lnbmF0dXJlKTsKICAgICAgICAgICAgICBTaWcgPSBbU2lnLnYsIFNpZy5yLCBTaWcuc107CiAgICAgICAgICAgICAgYnV5ZXJGZWVTaWcgPSBhc3NldC5idXllckZlZVNpZzsKICAgICAgICAgICAgICBidXllckZlZVNpZyA9IFtidXllckZlZVNpZy52LCBidXllckZlZVNpZy5yLCBidXllckZlZVNpZy5zXTsKICAgICAgICAgICAgICBvcmRlciA9IHV0aWxzLnR1cGxlT3JkZXIob3JkZXIpOwogICAgICAgICAgICAgIHZhbHVlID0gV2ViMy51dGlscy50b1dlaShhc3NldC52YWx1ZSwgImV0aGVyIikudG9TdHJpbmcoKTsKICAgICAgICAgICAgICBfY29udGV4dDE2LnByZXYgPSAxNDsKICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxNzsKICAgICAgICAgICAgICByZXR1cm4gY29udHJhY3QuZXhjaGFuZ2Uob3JkZXIsIFNpZywgYXNzZXQuYnV5ZXJGZWUsIGJ1eWVyRmVlU2lnLCBhc3NldC5hbW91bnQsIGFzc2V0LmJ1eWVyLCB7CiAgICAgICAgICAgICAgICBmcm9tOiBvd25lciwKICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTYuc2VudCk7CgogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIF9jb250ZXh0MTYucHJldiA9IDIwOwogICAgICAgICAgICAgIF9jb250ZXh0MTYudDAgPSBfY29udGV4dDE2WyJjYXRjaCJdKDE0KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDE2LnQwLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE2LCBudWxsLCBbWzE0LCAyMF1dKTsKICAgIH0pKSgpOwogIH0sCiAgZXhjaGFuZ2VBdWN0aW9uOiBmdW5jdGlvbiBleGNoYW5nZUF1Y3Rpb24ob3duZXIsIGFzc2V0KSB7CiAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICB2YXIgY29udHJhY3QsIG9yZGVyLCBvd25lclNpZywgYnV5ZXJTaWcsIGJ1eWVyRmVlU2lnLCB2YWx1ZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNC5nZXRBdWN0aW9uQ29udHJhY3QoYXNzZXQpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNvbnRyYWN0ID0gX2NvbnRleHQxNy5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWNvbnRyYWN0LmVycm9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5hYnJ1cHQoInJldHVybiIsIGNvbnRyYWN0KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBvcmRlciA9IHV0aWxzLmNyZWF0ZUF1Y3Rpb25PcmRlcihhc3NldCk7CgogICAgICAgICAgICAgIGlmIChvcmRlcikgewogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBlcnJvcjogImVycm9yIFRva2VuIgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIG93bmVyU2lnID0gX3RoaXMxNC5wYXJzZVNpZ25hdHVyZUhleChhc3NldC5zaWduYXR1cmUpOwogICAgICAgICAgICAgIG93bmVyU2lnID0gW293bmVyU2lnLnYsIG93bmVyU2lnLnIsIG93bmVyU2lnLnNdOwogICAgICAgICAgICAgIGJ1eWVyU2lnID0gX3RoaXMxNC5wYXJzZVNpZ25hdHVyZUhleChhc3NldC5iaWRTaWduYXR1cmUpOwogICAgICAgICAgICAgIGJ1eWVyU2lnID0gW2J1eWVyU2lnLnYsIGJ1eWVyU2lnLnIsIGJ1eWVyU2lnLnNdOwogICAgICAgICAgICAgIGJ1eWVyRmVlU2lnID0gYXNzZXQuYnV5ZXJGZWVTaWc7CiAgICAgICAgICAgICAgYnV5ZXJGZWVTaWcgPSBbYnV5ZXJGZWVTaWcudiwgYnV5ZXJGZWVTaWcuciwgYnV5ZXJGZWVTaWcuc107CiAgICAgICAgICAgICAgb3JkZXIgPSB1dGlscy50dXBsZUF1Y3Rpb25PcmRlcihvcmRlcik7CiAgICAgICAgICAgICAgdmFsdWUgPSBXZWIzLnV0aWxzLnRvV2VpKGFzc2V0LnZhbHVlLCAiZXRoZXIiKS50b1N0cmluZygpOwogICAgICAgICAgICAgIF9jb250ZXh0MTcucHJldiA9IDE2OwogICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDE5OwogICAgICAgICAgICAgIHJldHVybiBjb250cmFjdC5leGNoYW5nZShvcmRlciwgb3duZXJTaWcsIGFzc2V0LmJpZEJ1eWluZywgYnV5ZXJTaWcsIGFzc2V0LnJlY2lwaWVudHMsIGFzc2V0LmJ1eWVyRmVlLCBidXllckZlZVNpZywgYXNzZXQuYnV5ZXIsIHsKICAgICAgICAgICAgICAgIGZyb206IG93bmVyLAogICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxNy5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgX2NvbnRleHQxNy5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgX2NvbnRleHQxNy50MCA9IF9jb250ZXh0MTdbImNhdGNoIl0oMTYpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgZXJyb3I6IF9jb250ZXh0MTcudDAubWVzc2FnZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTcsIG51bGwsIFtbMTYsIDIyXV0pOwogICAgfSkpKCk7CiAgfSwKICBvcGVuQmxpbmRCb3g6IGZ1bmN0aW9uIG9wZW5CbGluZEJveChvd25lciwgYXNzZXQpIHsKICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoKSB7CiAgICAgIHZhciBjb250cmFjdCwgb3JkZXIsIFNpZywgYnV5ZXJGZWVTaWcsIHZhbHVlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczE1LmdldEJsaW5kQm94Q29udHJhY3QoYXNzZXQpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNvbnRyYWN0ID0gX2NvbnRleHQxOC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWNvbnRyYWN0LmVycm9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoInJldHVybiIsIGNvbnRyYWN0KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBvcmRlciA9IHV0aWxzLmNyZWF0ZUJsaW5kT3JkZXIoYXNzZXQpOwoKICAgICAgICAgICAgICBpZiAob3JkZXIpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgZXJyb3I6ICJlcnJvciBUb2tlbiIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBTaWcgPSBfdGhpczE1LnBhcnNlU2lnbmF0dXJlSGV4KGFzc2V0LnNpZ25hdHVyZSk7CiAgICAgICAgICAgICAgU2lnID0gW1NpZy52LCBTaWcuciwgU2lnLnNdOwogICAgICAgICAgICAgIGJ1eWVyRmVlU2lnID0gYXNzZXQuYnV5ZXJGZWVTaWc7CiAgICAgICAgICAgICAgYnV5ZXJGZWVTaWcgPSBbYnV5ZXJGZWVTaWcudiwgYnV5ZXJGZWVTaWcuciwgYnV5ZXJGZWVTaWcuc107CiAgICAgICAgICAgICAgb3JkZXIgPSB1dGlscy50dXBsZUJsaW5kT3JkZXIob3JkZXIpOwogICAgICAgICAgICAgIHZhbHVlID0gV2ViMy51dGlscy50b1dlaShhc3NldC52YWx1ZSwgImV0aGVyIikudG9TdHJpbmcoKTsKICAgICAgICAgICAgICBfY29udGV4dDE4LnByZXYgPSAxNDsKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxNzsKICAgICAgICAgICAgICByZXR1cm4gY29udHJhY3Qub3BlbihvcmRlciwgU2lnLCBhc3NldC5idXllckZlZSwgYnV5ZXJGZWVTaWcsIGFzc2V0LmFtb3VudCwgYXNzZXQuYnV5ZXIsIHsKICAgICAgICAgICAgICAgIGZyb206IG93bmVyLAogICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgfSkub24oInRyYW5zYWN0aW9uSGFzaCIsIGZ1bmN0aW9uIChoYXNoKSB7CiAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoIkJMSU5EQk9YX1NJR05FRCIsIHRydWUpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTguc2VudCk7CgogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIF9jb250ZXh0MTgucHJldiA9IDIwOwogICAgICAgICAgICAgIF9jb250ZXh0MTgudDAgPSBfY29udGV4dDE4WyJjYXRjaCJdKDE0KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDE4LnQwLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE4LCBudWxsLCBbWzE0LCAyMF1dKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0RXhjaGFuZ2VDb250cmFjdDogZnVuY3Rpb24gZ2V0RXhjaGFuZ2VDb250cmFjdChhc3NldCwgb3duZXIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpIHsKICAgICAgdmFyIGFiaTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYWJpID0gdXRpbHMuY29udHJhY3RBYmkoIkVYQ0hBTkdFIik7CiAgICAgICAgICAgICAgYXNzZXQuY29udHJhY3RBZGRyZXNzID0gYXNzZXQuZXhjaGFuZ2VBZGRyZXNzOwogICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLmNvbnRyYWN0QXQoYWJpLCBhc3NldC5jb250cmFjdEFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxOS5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTkpOwogICAgfSkpKCk7CiAgfSwKICBnZXRBdWN0aW9uQ29udHJhY3Q6IGZ1bmN0aW9uIGdldEF1Y3Rpb25Db250cmFjdChhc3NldCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIwKCkgewogICAgICB2YXIgYWJpOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhYmkgPSB1dGlscy5jb250cmFjdEFiaSgiQVVDVElPTiIpOwogICAgICAgICAgICAgIGFzc2V0LmNvbnRyYWN0QWRkcmVzcyA9IGFzc2V0LmF1Y3Rpb25BZGRyZXNzOwogICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLmNvbnRyYWN0QXQoYWJpLCBhc3NldC5jb250cmFjdEFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyMC5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjApOwogICAgfSkpKCk7CiAgfSwKICBnZXRCbGluZEJveENvbnRyYWN0OiBmdW5jdGlvbiBnZXRCbGluZEJveENvbnRyYWN0KGFzc2V0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjEoKSB7CiAgICAgIHZhciBhYmk7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjEkKF9jb250ZXh0MjEpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGFiaSA9IHV0aWxzLmNvbnRyYWN0QWJpKCJCTElOREJPWCIpOwogICAgICAgICAgICAgIGFzc2V0LmNvbnRyYWN0QWRkcmVzcyA9IGFzc2V0LmJsaW5kQm94QWRkcmVzczsKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiB1dGlscy5jb250cmFjdEF0KGFiaSwgYXNzZXQuY29udHJhY3RBZGRyZXNzKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MjEuc2VudCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIxKTsKICAgIH0pKSgpOwogIH0sCiAgYWxsb3dhbmNlUGF5VG9rZW46IGZ1bmN0aW9uIGFsbG93YW5jZVBheVRva2VuKGFzc2V0LCBvd25lciwgc3BlbmRlcikgewogICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMigpIHsKICAgICAgdmFyIGNvbnRyYWN0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhc3NldCA9IF90aGlzMTYuZ2V0RnVsbEFzc2V0KGFzc2V0KTsKICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczE2LmdldEFzc2V0Q29udHJhY3QoYXNzZXQpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNvbnRyYWN0ID0gX2NvbnRleHQyMi5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWNvbnRyYWN0LmVycm9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5hYnJ1cHQoInJldHVybiIsIGNvbnRyYWN0KTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDIyLnByZXYgPSA2OwogICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyYWN0LmFsbG93YW5jZShvd25lciwgc3BlbmRlcik7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIyLnNlbnQpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dDIyLnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dDIyLnQwID0gX2NvbnRleHQyMlsiY2F0Y2giXSg2KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDIyLnQwLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIyLCBudWxsLCBbWzYsIDEyXV0pOwogICAgfSkpKCk7CiAgfSwKICBhcHByb3ZlUGF5VG9rZW46IGZ1bmN0aW9uIGFwcHJvdmVQYXlUb2tlbihhc3NldCwgb3duZXIsIHNwZW5kZXIpIHsKICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7CiAgICAgIHZhciBjb250cmFjdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjMucHJldiA9IF9jb250ZXh0MjMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYXNzZXQgPSBfdGhpczE3LmdldEZ1bGxBc3NldChhc3NldCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNy5nZXRBc3NldENvbnRyYWN0KGFzc2V0KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjb250cmFjdCA9IF9jb250ZXh0MjMuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCFjb250cmFjdC5lcnJvcikgewogICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuYWJydXB0KCJyZXR1cm4iLCBjb250cmFjdCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQyMy5wcmV2ID0gNjsKICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiBjb250cmFjdC5hcHByb3ZlKHNwZW5kZXIsIGNvbnN0YW50cy5NQVhfQVBQUk9WRV9BTU9VTlQsIHsKICAgICAgICAgICAgICAgIGZyb206IG93bmVyCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIzLnNlbnQpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dDIzLnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dDIzLnQwID0gX2NvbnRleHQyM1siY2F0Y2giXSg2KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDIzLnQwLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIzLCBudWxsLCBbWzYsIDEyXV0pOwogICAgfSkpKCk7CiAgfSwKICBwYXJzZVNpZ25hdHVyZUhleDogZnVuY3Rpb24gcGFyc2VTaWduYXR1cmVIZXgoc2lnbmF0dXJlKSB7CiAgICBpZiAoIXNpZ25hdHVyZSkgewogICAgICByZXR1cm4gewogICAgICAgIHY6IDAsCiAgICAgICAgcjogIjB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCIsCiAgICAgICAgczogIjB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCIKICAgICAgfTsKICAgIH0KCiAgICB2YXIgdmFsaWRWUGFyYW1WYWx1ZXMgPSBbMjcsIDI4XTsKCiAgICB2YXIgZWNTaWduYXR1cmVSU1YgPSBfcGFyc2VTaWduYXR1cmVIZXhBc1JTVihzaWduYXR1cmUpOwoKICAgIGlmICh2YWxpZFZQYXJhbVZhbHVlcy5pbmNsdWRlcyhlY1NpZ25hdHVyZVJTVi52KSkgewogICAgICByZXR1cm4gZWNTaWduYXR1cmVSU1Y7CiAgICB9CgogICAgdmFyIGVjU2lnbmF0dXJlVlJTID0gX3BhcnNlU2lnbmF0dXJlSGV4QXNWUlMoc2lnbmF0dXJlKTsKCiAgICBpZiAodmFsaWRWUGFyYW1WYWx1ZXMuaW5jbHVkZXMoZWNTaWduYXR1cmVWUlMudikpIHsKICAgICAgcmV0dXJuIGVjU2lnbmF0dXJlVlJTOwogICAgfQoKICAgIHRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzaWduYXR1cmUiKTsKCiAgICBmdW5jdGlvbiBfcGFyc2VTaWduYXR1cmVIZXhBc1ZSUyhzaWduYXR1cmVIZXgpIHsKICAgICAgdmFyIHNpZ25hdHVyZUJ1ZmZlciA9IGV0aF91dGlsLnRvQnVmZmVyKHNpZ25hdHVyZUhleCk7CiAgICAgIHZhciB2ID0gc2lnbmF0dXJlQnVmZmVyWzBdOwoKICAgICAgaWYgKHYgPCAyNykgewogICAgICAgIHYgKz0gMjc7CiAgICAgIH0KCiAgICAgIHZhciByID0gc2lnbmF0dXJlQnVmZmVyLnNsaWNlKDEsIDMzKTsKICAgICAgdmFyIHMgPSBzaWduYXR1cmVCdWZmZXIuc2xpY2UoMzMsIDY1KTsKICAgICAgdmFyIGVjU2lnbmF0dXJlID0gewogICAgICAgIHY6IHYsCiAgICAgICAgcjogZXRoX3V0aWwuYnVmZmVyVG9IZXgociksCiAgICAgICAgczogZXRoX3V0aWwuYnVmZmVyVG9IZXgocykKICAgICAgfTsKICAgICAgcmV0dXJuIGVjU2lnbmF0dXJlOwogICAgfQoKICAgIGZ1bmN0aW9uIF9wYXJzZVNpZ25hdHVyZUhleEFzUlNWKHNpZ25hdHVyZUhleCkgewogICAgICB2YXIgX2V0aF91dGlsJGZyb21ScGNTaWcgPSBldGhfdXRpbC5mcm9tUnBjU2lnKHNpZ25hdHVyZUhleCksCiAgICAgICAgICB2ID0gX2V0aF91dGlsJGZyb21ScGNTaWcudiwKICAgICAgICAgIHIgPSBfZXRoX3V0aWwkZnJvbVJwY1NpZy5yLAogICAgICAgICAgcyA9IF9ldGhfdXRpbCRmcm9tUnBjU2lnLnM7CgogICAgICB2YXIgZWNTaWduYXR1cmUgPSB7CiAgICAgICAgdjogdiwKICAgICAgICByOiBldGhfdXRpbC5idWZmZXJUb0hleChyKSwKICAgICAgICBzOiBldGhfdXRpbC5idWZmZXJUb0hleChzKQogICAgICB9OwogICAgICByZXR1cm4gZWNTaWduYXR1cmU7CiAgICB9CiAgfSwKICBnZXRBc3NldFR5cGU6IGZ1bmN0aW9uIGdldEFzc2V0VHlwZShhc3NldCkgewogICAgc3dpdGNoIChhc3NldC50eXBlKSB7CiAgICAgIGNhc2UgIkVSQzcyMSI6CiAgICAgICAgcmV0dXJuIDM7CgogICAgICBjYXNlICJFUkMxMTU1IjoKICAgICAgICByZXR1cm4gMjsKICAgIH0KCiAgICByZXR1cm4gMDsKICB9LAogIGtleU9yZGVyVHlwZTogZnVuY3Rpb24ga2V5T3JkZXJUeXBlKHZhbHVlKSB7CiAgICByZXR1cm4gdHlwZXMua2V5T3JkZXJUeXBlKHZhbHVlKTsKICB9LAogIHZhbHVlT3JkZXJUeXBlOiBmdW5jdGlvbiB2YWx1ZU9yZGVyVHlwZShrZXkpIHsKICAgIHJldHVybiB0eXBlcy52YWx1ZU9yZGVyVHlwZShrZXkpOwogIH0sCiAga2V5Q29tbW9uVHlwZTogZnVuY3Rpb24ga2V5Q29tbW9uVHlwZSh2YWx1ZSkgewogICAgcmV0dXJuIHR5cGVzLmtleUNvbW1vblR5cGUodmFsdWUpOwogIH0sCiAgdmFsdWVDb21tb25UeXBlOiBmdW5jdGlvbiB2YWx1ZUNvbW1vblR5cGUoa2V5KSB7CiAgICByZXR1cm4gdHlwZXMudmFsdWVDb21tb25UeXBlKGtleSk7CiAgfSwKICBrZXlBc3NldFR5cGU6IGZ1bmN0aW9uIGtleUFzc2V0VHlwZSh2YWx1ZSkgewogICAgcmV0dXJuIHR5cGVzLmtleUFzc2V0VHlwZSh2YWx1ZSk7CiAgfSwKICB2YWx1ZUFzc2V0VHlwZTogZnVuY3Rpb24gdmFsdWVBc3NldFR5cGUoa2V5KSB7CiAgICByZXR1cm4gdHlwZXMudmFsdWVBc3NldFR5cGUoa2V5KTsKICB9LAogIE5VTExfQUREUkVTUzogZnVuY3Rpb24gTlVMTF9BRERSRVNTKCkgewogICAgcmV0dXJuIGNvbnN0YW50cy5OVUxMX0FERFJFU1M7CiAgfQp9Ow=="},null]}