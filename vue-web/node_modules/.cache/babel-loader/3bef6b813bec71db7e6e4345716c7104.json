{"remainingRequest":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\components\\dialogs\\AuctionBid.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\components\\dialogs\\AuctionBid.vue","mtime":1650964597000},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\babel.config.js","mtime":1650964597000},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652258014056},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1652258014277},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652258014056},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1652258044998}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL01vaGFtZWQgVGFtaW0vRGVza3RvcC9TT05HVFJBREVSLVYyLUZVTEwvZmluZ2VybmZ0X2JsaW5kYm94L2Zpbmdlcm5mdF9ibGluZGJveC92dWUtd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0IEJpZ051bWJlciBmcm9tICJiaWdudW1iZXIuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpc2libGU6IHRoaXMuc2hvdywKICAgICAgY29uZmlybTogZmFsc2UsCiAgICAgIGZvcm06IHsKICAgICAgICBwcmljZTogIiIsCiAgICAgICAgcGF5QWRkcmVzczogIiIKICAgICAgfSwKICAgICAgZm9ybUVycm9yOiB7CiAgICAgICAgYWxsOiAiIiwKICAgICAgICBwcmljZTogIiIKICAgICAgfSwKICAgICAgc3RlcDogewogICAgICAgIGFwcHJvdmU6IDAsCiAgICAgICAgYmlkOiAwCiAgICAgIH0sCiAgICAgIGVycm9yOiB7CiAgICAgICAgYWxsOiAiIiwKICAgICAgICBhcHByb3ZlOiAiIiwKICAgICAgICBiaWQ6ICIiCiAgICAgIH0sCiAgICAgIG9yZGVyOiB7fQogICAgfTsKICB9LAogIGVtaXRzOiBbJ2NvbmZpcm0nXSwKICBwcm9wczogewogICAgc2hvdzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgaGlnaGVzdEJpZDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBhdWN0aW9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIG5mdDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICB1cmk6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5zaG93OwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXI6IGZ1bmN0aW9uIHVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyOwogICAgfSwKICAgIGNvbmZpZzogZnVuY3Rpb24gY29uZmlnKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnOwogICAgfSwKICAgIHNlcnZpY2VGZWU6IGZ1bmN0aW9uIHNlcnZpY2VGZWUoKSB7CiAgICAgIHZhciBmZWUgPSB0aGlzLiR0b29scy5kZWNpbWFsKHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy5idXllckZlZSAvIDEwMCwgMik7CiAgICAgIHJldHVybiBmZWU7CiAgICB9LAogICAgcGF5OiBmdW5jdGlvbiBwYXkoKSB7CiAgICAgIHZhciBiYWxhbmNlID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRCYWxhbmNlKHRoaXMuZm9ybS5wYXlBZGRyZXNzKTsKICAgICAgdmFyIHByaWNlID0gdGhpcy4kdG9vbHMuc3RyMm51bSh0aGlzLmZvcm0ucHJpY2UpOwogICAgICBpZiAoIXByaWNlKSByZXR1cm4gewogICAgICAgIGJhbGFuY2U6IGJhbGFuY2UsCiAgICAgICAgcGF5OiAwCiAgICAgIH07CiAgICAgIHZhciBzZXJ2aWNlRmVlID0gbmV3IEJpZ051bWJlcihwcmljZSkubXVsdGlwbGllZEJ5KHRoaXMuYXVjdGlvbi5zZWxsVmFsdWUpLm11bHRpcGxpZWRCeSh0aGlzLnNlcnZpY2VGZWUpLmRpdmlkZWRCeSgxMDApLnRvRml4ZWQoKTsKICAgICAgdmFyIHBheSA9IHRoaXMuJHRvb2xzLmRlY2ltYWwoTnVtYmVyKHByaWNlKSArIE51bWJlcihzZXJ2aWNlRmVlKSwgNik7CiAgICAgIHJldHVybiB7CiAgICAgICAgcGF5OiBwYXksCiAgICAgICAgYmFsYW5jZTogYmFsYW5jZQogICAgICB9OwogICAgfSwKICAgIG5mdDExNTU6IGZ1bmN0aW9uIG5mdDExNTUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzZGsua2V5QXNzZXRUeXBlKHRoaXMubmZ0LnR5cGUpID09ICJFUkMxMTU1IjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uT3BlbjogZnVuY3Rpb24gb25PcGVuKCkgewogICAgICB0aGlzLmluaXQoKTsKICAgICAgdGhpcy5mb3JtLnBheUFkZHJlc3MgPSB0aGlzLmF1Y3Rpb24ucGF5dG9rZW5BZGRyZXNzLnRvTG9jYWxlTG93ZXJDYXNlKCk7CgogICAgICBpZiAoIXRoaXMuaGlnaGVzdEJpZCkgewogICAgICAgIHRoaXMuZm9ybS5wcmljZSA9IHRoaXMuJHRvb2xzLm5vRGVjaW1hbHNWYWx1ZSh0aGlzLmF1Y3Rpb24uc3RhcnRWYWx1ZSwgdGhpcy5hdWN0aW9uLnNlbGxWYWx1ZSwgdGhpcy5hdWN0aW9uLnBheXRva2VuRGVjaW1hbHMpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBzaW5nbGVQcmljZSA9IHRoaXMuJHRvb2xzLm5vRGVjaW1hbHNWYWx1ZSh0aGlzLmhpZ2hlc3RCaWQuYnV5aW5nLCB0aGlzLmF1Y3Rpb24uc2VsbFZhbHVlLCB0aGlzLmF1Y3Rpb24ucGF5dG9rZW5EZWNpbWFscyk7CiAgICAgICAgdmFyIHJhbmdlVmFsdWUgPSB0aGlzLiR0b29scy5ub0RlY2ltYWxzVmFsdWUodGhpcy5hdWN0aW9uLnJhbmdlVmFsdWUsIDEsIHRoaXMuYXVjdGlvbi5wYXl0b2tlbkRlY2ltYWxzKTsKICAgICAgICB0aGlzLmZvcm0ucHJpY2UgPSBuZXcgQmlnTnVtYmVyKHNpbmdsZVByaWNlKS5wbHVzKHJhbmdlVmFsdWUpLnRvRml4ZWQoKTsKICAgICAgfQogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMuY29uZmlybSA9IGZhbHNlOwogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgcHJpY2U6ICIiLAogICAgICAgIHBheUFkZHJlc3M6ICIiCiAgICAgIH07CiAgICAgIHRoaXMuc3RlcCA9IHsKICAgICAgICBhcHByb3ZlOiAwLAogICAgICAgIGJpZDogMAogICAgICB9OwogICAgICB0aGlzLmNsZWFyRm9ybUVycm9yKCk7CiAgICAgIHRoaXMuY2xlYXJFcnJvcigpOwogICAgICB0aGlzLm9yZGVyID0ge307CiAgICB9LAogICAgY2xlYXJGb3JtRXJyb3I6IGZ1bmN0aW9uIGNsZWFyRm9ybUVycm9yKCkgewogICAgICB0aGlzLmZvcm1FcnJvciA9IHsKICAgICAgICBhbGw6ICIiLAogICAgICAgIHByaWNlOiAiIgogICAgICB9OwogICAgfSwKICAgIGNsZWFyRXJyb3I6IGZ1bmN0aW9uIGNsZWFyRXJyb3IoKSB7CiAgICAgIHRoaXMuZXJyb3IgPSB7CiAgICAgICAgYWxsOiAiIiwKICAgICAgICBhcHByb3ZlOiAiIiwKICAgICAgICBiaWQ6ICIiCiAgICAgIH07CiAgICB9LAogICAgY2hlY2tGb3JtOiBmdW5jdGlvbiBjaGVja0Zvcm0oKSB7CiAgICAgIHRoaXMuY2xlYXJGb3JtRXJyb3IoKTsKICAgICAgdmFyIGVycm9yID0gZmFsc2U7CgogICAgICBpZiAoIXBhcnNlRmxvYXQodGhpcy5mb3JtLnByaWNlKSkgewogICAgICAgIGVycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmZvcm1FcnJvci5wcmljZSA9IHRoaXMuJHQoImZvcm0ubm9QcmljZSIpOwogICAgICB9CgogICAgICB2YXIgbG93ZXN0UHJpY2UgPSB0aGlzLiR0b29scy5ub0RlY2ltYWxzVmFsdWUodGhpcy5hdWN0aW9uLnN0YXJ0VmFsdWUsIHRoaXMuYXVjdGlvbi5zZWxsVmFsdWUsIHRoaXMuYXVjdGlvbi5wYXl0b2tlbkRlY2ltYWxzKTsKCiAgICAgIGlmICh0aGlzLmhpZ2hlc3RCaWQpIHsKICAgICAgICB2YXIgc2luZ2xlUHJpY2UgPSB0aGlzLiR0b29scy5ub0RlY2ltYWxzVmFsdWUodGhpcy5oaWdoZXN0QmlkLmJ1eWluZywgdGhpcy5hdWN0aW9uLnNlbGxWYWx1ZSwgdGhpcy5hdWN0aW9uLnBheXRva2VuRGVjaW1hbHMpOwogICAgICAgIHZhciByYW5nZVZhbHVlID0gdGhpcy4kdG9vbHMubm9EZWNpbWFsc1ZhbHVlKHRoaXMuYXVjdGlvbi5yYW5nZVZhbHVlLCAxLCB0aGlzLmF1Y3Rpb24ucGF5dG9rZW5EZWNpbWFscyk7CiAgICAgICAgbG93ZXN0UHJpY2UgPSBuZXcgQmlnTnVtYmVyKHNpbmdsZVByaWNlKS5wbHVzKHJhbmdlVmFsdWUpLnRvRml4ZWQoKTsKICAgICAgfQoKICAgICAgaWYgKHBhcnNlRmxvYXQodGhpcy5mb3JtLnByaWNlKSA8IHBhcnNlRmxvYXQobG93ZXN0UHJpY2UpKSB7CiAgICAgICAgZXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZm9ybUVycm9yLnByaWNlID0gdGhpcy4kdCgiZm9ybS5sZXNzUHJpY2UiKTsKICAgICAgfQoKICAgICAgcmV0dXJuICFlcnJvcjsKICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIGlmICghdGhpcy5jaGVja0Zvcm0oKSkgcmV0dXJuOwogICAgICB0aGlzLmNvbmZpcm0gPSB0cnVlOwogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5vbkFwcHJvdmUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSwgMTAwKTsKICAgIH0sCiAgICBvbkFwcHJvdmU6IGZ1bmN0aW9uIG9uQXBwcm92ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLnN0ZXAuYXBwcm92ZSA9IDE7CiAgICAgICAgICAgICAgICBfdGhpcy5vcmRlciA9IHsKICAgICAgICAgICAgICAgICAgYWRkcmVzczogX3RoaXMuYXVjdGlvbi5zZWxsVG9rZW4sCiAgICAgICAgICAgICAgICAgIHRva2VuSWQ6IF90aGlzLmF1Y3Rpb24uc2VsbFRva2VuSWQsCiAgICAgICAgICAgICAgICAgIHR5cGU6IF90aGlzLmF1Y3Rpb24uc2VsbFR5cGUsCiAgICAgICAgICAgICAgICAgIHNhbHQ6ICIwIgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5hcHByb3ZlUGF5VG9rZW4oKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcikgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvci5hcHByb3ZlID0gcmVzdWx0LmVycm9yOwogICAgICAgICAgICAgICAgICBfdGhpcy5zdGVwLmFwcHJvdmUgPSAwOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IuYXBwcm92ZSA9ICIiOwogICAgICAgICAgICAgICAgICBfdGhpcy5zdGVwLmFwcHJvdmUgPSAyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhcHByb3ZlUGF5VG9rZW46IGZ1bmN0aW9uIGFwcHJvdmVQYXlUb2tlbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgb3JkZXIsIGlzQWxsb3dhbmNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBvcmRlciA9IHsKICAgICAgICAgICAgICAgICAgYWRkcmVzczogX3RoaXMyLmF1Y3Rpb24ucGF5dG9rZW5BZGRyZXNzLAogICAgICAgICAgICAgICAgICB0eXBlOiBfdGhpczIuYXVjdGlvbi5idXllclR5cGUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzZGsuYWxsb3dhbmNlUGF5VG9rZW4ob3JkZXIsIF90aGlzMi51c2VyLmNvaW5iYXNlLCBfdGhpczIuY29uZmlnLmNvbnRyYWN0LmVyYzIwVHJhbnNmZXJQcm94eUFkZHJlc3MpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpc0FsbG93YW5jZSA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghaXNBbGxvd2FuY2UuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgaXNBbGxvd2FuY2UpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpc0FsbG93YW5jZSA9IGlzQWxsb3dhbmNlLnRvU3RyaW5nKCk7CgogICAgICAgICAgICAgICAgaWYgKCEoaXNBbGxvd2FuY2UgIT0gIjAiICYmIGlzQWxsb3dhbmNlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHNkay5hcHByb3ZlUGF5VG9rZW4ob3JkZXIsIF90aGlzMi51c2VyLmNvaW5iYXNlLCBfdGhpczIuY29uZmlnLmNvbnRyYWN0LmVyYzIwVHJhbnNmZXJQcm94eUFkZHJlc3MpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0My5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uQmlkOiBmdW5jdGlvbiBvbkJpZCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczMuc3RlcC5hcHByb3ZlICE9IDIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczMuc3RlcC5iaWQgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5iaWRUb2tlbigpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmVycm9yKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvci5iaWQgPSByZXN1bHQuZXJyb3I7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5zdGVwLmJpZCA9IDA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3IuYmlkID0gIiI7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5zdGVwLmJpZCA9IDI7CgogICAgICAgICAgICAgICAgICBfdGhpczMuJGVtaXQoImNvbmZpcm0iKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYmlkVG9rZW46IGZ1bmN0aW9uIGJpZFRva2VuKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICBvd25lcjogX3RoaXM0LmF1Y3Rpb24ub3duZXIsCiAgICAgICAgICAgICAgICAgICAgc2VsbFRva2VuOiBfdGhpczQuYXVjdGlvbi5zZWxsVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgc2VsbFRva2VuSWQ6IF90aGlzNC5hdWN0aW9uLnNlbGxUb2tlbklkLAogICAgICAgICAgICAgICAgICAgIGJ1eWVyVmFsdWU6IF90aGlzNC4kdG9vbHMuZGVjaW1hbHNWYWx1ZShfdGhpczQuZm9ybS5wcmljZSwgX3RoaXM0LmF1Y3Rpb24uc2VsbFZhbHVlLCBfdGhpczQuYXVjdGlvbi5wYXl0b2tlbkRlY2ltYWxzKSwKICAgICAgICAgICAgICAgICAgICBzYWx0OiBfdGhpczQuYXVjdGlvbi5zYWx0LAogICAgICAgICAgICAgICAgICAgIHR5cGU6IF90aGlzNC4kdG9vbHMuZ2V0Tm90aXR5U3ViVHlwZUNvZGUoIkFVQ1RJT05fQklEIikKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgdmFyIHRoYXQgPSBfdGhpczQ7CgogICAgICAgICAgICAgICAgICBfdGhpczQuJGFwaSgiYXVjdGlvbi5wcmVwYXJlIiwgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHJlcykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZXMkZGF0YSwgbWVzc2FnZSwgc2FsdCwgb3duZXIsIHNlbGxUb2tlbiwgc2VsbFRva2VuSWQsIHNpZ25hdHVyZSwgX2RhdGE7CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGF0LiR0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVzJGRhdGEgPSByZXMuZGF0YSwgbWVzc2FnZSA9IF9yZXMkZGF0YS5tZXNzYWdlLCBzYWx0ID0gX3JlcyRkYXRhLnNhbHQsIG93bmVyID0gX3JlcyRkYXRhLm93bmVyLCBzZWxsVG9rZW4gPSBfcmVzJGRhdGEuc2VsbFRva2VuLCBzZWxsVG9rZW5JZCA9IF9yZXMkZGF0YS5zZWxsVG9rZW5JZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlID0gIiI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdGFydHNXaXRoKCIweCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2Uuc2xpY2UoMiwgbWVzc2FnZS5sZW5ndGgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuJHdlYjMuc2lnbihtZXNzYWdlLCB0aGF0LnVzZXIuY29pbmJhc2UpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNpZ25hdHVyZS5lcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCByZXNvbHZlKHNpZ25hdHVyZSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IF9jb250ZXh0NVsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHJlc29sdmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDUudDAubWVzc2FnZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXI6IG93bmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGxUb2tlbjogc2VsbFRva2VuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGxUb2tlbklkOiBzZWxsVG9rZW5JZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXllclZhbHVlOiB0aGF0LiR0b29scy5kZWNpbWFsc1ZhbHVlKHRoYXQuZm9ybS5wcmljZSwgdGhhdC5hdWN0aW9uLnNlbGxWYWx1ZSwgdGhhdC5hdWN0aW9uLnBheXRva2VuRGVjaW1hbHMpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbHQ6IHNhbHQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LiRhcGkoImF1Y3Rpb24uYmlkIiwgX2RhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGF0LiR0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuJHRvb2xzLm1lc3NhZ2UodGhhdC4kdCgicmVxdWVzdC5iaWRTdWNjZXNzIiksICJzdWNjZXNzIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogcmVzLmVycm1zZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC4kdG9vbHMubWVzc2FnZShyZXMuZXJybXNnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHJlcy5lcnJtc2cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTUsIG51bGwsIFtbNCwgMTJdXSk7CiAgICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICB9KCkpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbG9zZWQ6IGZ1bmN0aW9uIGNsb3NlZCgpIHsKICAgICAgdGhpcy5pbml0KCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["BigNumber","components","data","visible","show","confirm","form","price","payAddress","formError","all","step","approve","bid","error","order","emits","props","type","Boolean","default","highestBid","Object","auction","nft","uri","watch","computed","user","$store","state","config","serviceFee","fee","$tools","decimal","buyerFee","pay","balance","getters","getBalance","str2num","multipliedBy","sellValue","dividedBy","toFixed","Number","nft1155","$sdk","keyAssetType","methods","onOpen","init","paytokenAddress","toLocaleLowerCase","noDecimalsValue","startValue","paytokenDecimals","singlePrice","buying","rangeValue","plus","clearFormError","clearError","checkForm","parseFloat","$t","lowestPrice","onSubmit","that","setTimeout","onApprove","address","sellToken","tokenId","sellTokenId","sellType","salt","approvePayToken","result","buyerType","allowancePayToken","coinbase","contract","erc20TransferProxyAddress","isAllowance","toString","onBid","bidToken","$emit","Promise","resolve","reject","owner","buyerValue","decimalsValue","getNotitySubTypeCode","$api","then","res","checkResponse","message","signature","startsWith","slice","length","$web3","sign","_data","errmsg","closed"],"sourceRoot":"","sources":["C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\components\\dialogs\\AuctionBid.vue"],"sourcesContent":["<template>\n  <el-dialog :model-value=\"visible\" :show-close=\"false\" :close-on-click-modal=\"false\" custom-class=\"fg-dialog\" @open=\"onOpen\" @closed=\"closed\" @close=\"$emit('close')\" destroy-on-close>\n    <template #title>\n      <div class=\"fg-dialog-title\">\n        <div class=\"left\">\n          <span v-if=\"uri\">{{ uri.name }}</span>\n        </div>\n        <div class=\"right\" @click=\"$emit('close')\">\n          <img class=\"close-img\" src=\"@/assets/create-img/pop_shut.png \" />\n        </div>\n      </div>\n    </template>\n    <div class=\"fg-dialog-body\" v-if=\"!confirm\">\n      <div class=\"process\">\n        <div class=\"step-info\">\n          <div class=\"text\">\n            <span>{{ $t(\"dialog.pab\") }}</span>\n          </div>\n        </div>\n        <div class=\"input-group\">\n          <div class=\"input-info\">\n            <div class=\"tip\">{{ $t(\"dialog.bidPrice\") }}</div>\n            <el-input class=\"fg-dialog-input\" placeholder=\"0.0\" type=\"number\" v-model=\"form.price\">\n              <template #suffix>\n                <div class=\"paytoken-suffix\">{{ auction.paytokenSymbol }}</div>\n              </template>\n            </el-input>\n            <div class=\"input-error\" v-if=\"formError.price\">\n              {{ formError.price }}\n            </div>\n            <template v-if=\"nft1155\">\n              <div class=\"tip\">{{ $t(\"dialog.enterQuantity\") }}</div>\n              <el-input class=\"fg-dialog-input\" :placeholder=\"auction.sellValue\" type=\"number\" :disabled=\"true\">\n              </el-input>\n            </template>\n            <div class=\"stip\">\n              <div class=\"stip-item\">\n                {{ $t(\"dialog.yourBalance\") }}\n                <span class=\"bfont\">{{ pay.balance }}{{ auction.paytokenSymbol }}</span>\n              </div>\n              <div class=\"stip-item\">\n                {{ $t(\"dialog.serviceFee\") }}\n                <span class=\"bfont\">{{ serviceFee }}%</span>\n              </div>\n              <div class=\"stip-item\">\n                {{ $t(\"dialog.pay\") }}\n                <span class=\"bfont cprimary\">\n                  {{ pay.pay }}{{ auction.paytokenSymbol }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"process-btn\">\n          <template v-if=\"pay && parseFloat(pay.pay) > parseFloat(pay.balance)\">\n            <el-button @click=\"onSubmit\" disabled type=\"primary\" :loading=\"confirm\">\n              {{ $t(\"dialog.confirm\") }}</el-button>\n\n            <div class=\"input-error text-center\">\n              {{ $t(\"dialog.noBalance\") }}\n            </div>\n          </template>\n          <template v-else>\n            <el-button @click=\"onSubmit\" type=\"primary\" :loading=\"confirm\">\n              {{ $t(\"dialog.confirm\") }}</el-button>\n          </template>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"fg-dialog-body\" v-else>\n      <div class=\"all-error\" v-if=\"error.all\">{{ error.all }}</div>\n\n      <div class=\"process\">\n        <div class=\"step-info\">\n          <div class=\"text\">\n            <span>{{ $t(\"dialog.approve\") }} {{auction.paytokenSymbol}}</span>\n          </div>\n          <span v-if=\"step.approve != 1\" :class=\"step.approve == 2 ? 'finish' : ''\" class=\"step iconfont icon-seleted\"></span>\n          <div class=\"step loading\" v-else>\n            <img class=\"loading-animation\" src=\"@/assets/img/loading.png\" />\n          </div>\n        </div>\n        <div class=\"process-btn\">\n          <el-button @click=\"onApprove\" type=\"primary\" v-if=\"step.approve == 0\">\n            {{ $t(\"dialog.approve\") }}</el-button>\n          <el-button disabled type=\"info\" v-else-if=\"step.approve == 1\">\n            {{ $t(\"dialog.inProgress\") }}...</el-button>\n          <el-button disabled type=\"info\" v-else>{{\n            $t(\"dialog.done\")\n          }}</el-button>\n        </div>\n        <div class=\"process-error\" v-if=\"error.approve\">\n          {{ error.approve }}\n        </div>\n      </div>\n\n      <div class=\"process\">\n        <div class=\"step-info\">\n          <div class=\"text\">\n            <span>{{ $t(\"dialog.signsBid\") }}</span>\n          </div>\n          <span v-if=\"step.bid != 1\" :class=\"step.bid == 2 ? 'finish' : ''\" class=\"step iconfont icon-seleted\"></span>\n          <div class=\"step loading\" v-else>\n            <img class=\"loading-animation\" src=\"@/assets/img/loading.png\" />\n          </div>\n        </div>\n        <div class=\"process-btn\">\n          <el-button disabled type=\"info\" v-if=\"step.approve != 2\">{{ $t(\"dialog.bid\") }}\n          </el-button>\n          <el-button @click=\"onBid\" type=\"primary\" v-else-if=\"step.bid == 0\">{{ $t(\"dialog.bid\") }}\n          </el-button>\n          <el-button disabled type=\"info\" v-else-if=\"step.bid == 1\">{{ $t(\"dialog.inProgress\") }}...\n          </el-button>\n          <el-button disabled type=\"info\" v-else>{{\n            $t(\"dialog.done\")\n          }}</el-button>\n        </div>\n        <div class=\"process-error\" v-if=\"error.bid\">{{ error.bid }}</div>\n      </div>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\n  import BigNumber from \"bignumber.js\";\n  export default {\n    components: {},\n    data () {\n      return {\n        visible: this.show,\n        confirm: false,\n        form: {\n          price: \"\",\n          payAddress: \"\",\n        },\n        formError: {\n          all: \"\",\n          price: \"\",\n        },\n        step: {\n          approve: 0,\n          bid: 0,\n        },\n        error: {\n          all: \"\",\n          approve: \"\",\n          bid: \"\",\n        },\n        order: {},\n      };\n    },\n    emits: ['confirm'],\n    props: {\n      show: {\n        type: Boolean,\n        default: true,\n      },\n      highestBid: {\n        type: Object,\n        default: null,\n      },\n      auction: {\n        type: Object,\n        default: null,\n      },\n      nft: {\n        type: Object,\n        default: null,\n      },\n      uri: {\n        type: Object,\n        default: null,\n      },\n    },\n    watch: {\n      show () {\n        this.visible = this.show;\n      },\n    },\n    computed: {\n      user () {\n        return this.$store.state.user;\n      },\n      config () {\n        return this.$store.state.config;\n      },\n      serviceFee () {\n        let fee = this.$tools.decimal(this.$store.state.config.buyerFee / 100, 2);\n        return fee;\n      },\n      pay () {\n        let balance = this.$store.getters.getBalance(this.form.payAddress);\n        let price = this.$tools.str2num(this.form.price);\n        if (!price) return { balance: balance, pay: 0 };\n        let serviceFee = new BigNumber(price).multipliedBy(this.auction.sellValue).multipliedBy(this.serviceFee).dividedBy(100).toFixed();\n        let pay = this.$tools.decimal(Number(price) + Number(serviceFee), 6);\n        return { pay, balance };\n      },\n      nft1155 () {\n        return this.$sdk.keyAssetType(this.nft.type) == \"ERC1155\"\n      }\n    },\n    methods: {\n      onOpen () {\n        this.init();\n        this.form.payAddress = this.auction.paytokenAddress.toLocaleLowerCase();\n        if (!this.highestBid) {\n          this.form.price = this.$tools.noDecimalsValue(this.auction.startValue, this.auction.sellValue, this.auction.paytokenDecimals);\n        } else {\n          var singlePrice = this.$tools.noDecimalsValue(this.highestBid.buying,\n            this.auction.sellValue, this.auction.paytokenDecimals);\n          var rangeValue = this.$tools.noDecimalsValue(this.auction.rangeValue, 1, this.auction.paytokenDecimals);\n          this.form.price = new BigNumber(singlePrice).plus(rangeValue).toFixed();\n        }\n      },\n      init () {\n        this.confirm = false;\n        this.form = {\n          price: \"\",\n          payAddress: \"\",\n        };\n        this.step = {\n          approve: 0,\n          bid: 0,\n        };\n        this.clearFormError();\n        this.clearError();\n        this.order = {};\n      },\n      clearFormError () {\n        this.formError = {\n          all: \"\",\n          price: \"\",\n        };\n      },\n      clearError () {\n        this.error = {\n          all: \"\",\n          approve: \"\",\n          bid: \"\",\n        };\n      },\n      checkForm () {\n        this.clearFormError();\n        let error = false;\n        if (!parseFloat(this.form.price)) {\n          error = true;\n          this.formError.price = this.$t(\"form.noPrice\");\n        }\n        let lowestPrice = this.$tools.noDecimalsValue(\n          this.auction.startValue, \n          this.auction.sellValue,\n          this.auction.paytokenDecimals\n        );\n        if (this.highestBid) {\n          var singlePrice = this.$tools.noDecimalsValue(\n              this.highestBid.buying,\n              this.auction.sellValue,\n              this.auction.paytokenDecimals\n          );\n          var rangeValue = this.$tools.noDecimalsValue(\n              this.auction.rangeValue, 1, this.auction.paytokenDecimals);\n          lowestPrice = new BigNumber(singlePrice).plus(rangeValue).toFixed();\n        }\n        if (parseFloat(this.form.price) < parseFloat(lowestPrice)) {\n          error = true;\n          this.formError.price = this.$t(\"form.lessPrice\");\n        }\n        return !error;\n      },\n      onSubmit () {\n        if (!this.checkForm()) return;\n        this.confirm = true;\n        let that = this;\n        setTimeout(async function () {\n          await that.onApprove();\n        }, 100);\n      },\n      async onApprove () {\n        this.step.approve = 1;\n        this.order = {\n          address: this.auction.sellToken,\n          tokenId: this.auction.sellTokenId,\n          type: this.auction.sellType,\n          salt: \"0\",\n        };\n        let result = await this.approvePayToken();\n        if (result.error) {\n          this.error.approve = result.error;\n          this.step.approve = 0;\n        } else {\n          this.error.approve = \"\";\n          this.step.approve = 2;\n        }\n      },\n      async approvePayToken () {\n        let order = {\n          address: this.auction.paytokenAddress,\n          type: this.auction.buyerType,\n        };\n        let isAllowance = await this.$sdk.allowancePayToken(\n          order,\n          this.user.coinbase,\n          this.config.contract.erc20TransferProxyAddress,\n        );\n        if (isAllowance.error) return isAllowance;\n        isAllowance = isAllowance.toString();\n        if (isAllowance != \"0\" && isAllowance) {\n          return true;\n        }\n        return await this.$sdk.approvePayToken(\n          order,\n          this.user.coinbase,\n          this.config.contract.erc20TransferProxyAddress,\n        );\n      },\n      async onBid () {\n        if (this.step.approve != 2) return;\n        this.step.bid = 1;\n        let result = await this.bidToken();\n        if (result.error) {\n          this.error.bid = result.error;\n          this.step.bid = 0;\n        } else {\n          this.error.bid = \"\";\n          this.step.bid = 2;\n          this.$emit(\"confirm\");\n        }\n      },\n      async bidToken () {\n        return new Promise((resolve, reject) => {\n          let data = {\n            owner: this.auction.owner,\n            sellToken: this.auction.sellToken,\n            sellTokenId: this.auction.sellTokenId,\n            buyerValue: this.$tools.decimalsValue(this.form.price, this.auction.sellValue, this.auction.paytokenDecimals),\n            salt: this.auction.salt,\n            type: this.$tools.getNotitySubTypeCode(\"AUCTION_BID\"),\n          };\n          let that = this;\n          this.$api(\"auction.prepare\", data).then(async function (res) {\n            if (that.$tools.checkResponse(res)) {\n              let { message, salt, owner, sellToken, sellTokenId } = res.data;\n              let signature = \"\";\n              if (message.startsWith(\"0x\")) {\n                message = message.slice(2, message.length);\n              }\n              try {\n                signature = await that.$web3.sign(message, that.user.coinbase);\n                if (signature.error) {\n                  return resolve(signature);\n                }\n              } catch (e) {\n                return resolve({ error: e.message });\n              }\n              let _data = {\n                owner,\n                sellToken,\n                sellTokenId,\n                buyerValue: that.$tools.decimalsValue(\n                  that.form.price,\n                  that.auction.sellValue,\n                  that.auction.paytokenDecimals),\n                salt,\n                message,\n                signature,\n              };\n              that.$api(\"auction.bid\", _data).then((res) => {\n                if (that.$tools.checkResponse(res)) {\n                  that.$tools.message(that.$t(\"request.bidSuccess\"), \"success\");\n                  resolve(res);\n                } else {\n                  resolve({ error: res.errmsg });\n                }\n              });\n            } else {\n              that.$tools.message(res.errmsg);\n              resolve({ error: res.errmsg });\n            }\n          });\n        });\n      },\n      closed () {\n        this.init();\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n"]}]}