{"remainingRequest":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\store\\actions.js","dependencies":[{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\src\\store\\actions.js","mtime":1650964597000},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\babel.config.js","mtime":1650964597000},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652258014056},{"path":"C:\\Users\\Mohamed Tamim\\Desktop\\SONGTRADER-V2-FULL\\fingernft_blindbox\\fingernft_blindbox\\vue-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1652258014277}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL01vaGFtZWQgVGFtaW0vRGVza3RvcC9TT05HVFJBREVSLVYyLUZVTEwvZmluZ2VybmZ0X2JsaW5kYm94L2Zpbmdlcm5mdF9ibGluZGJveC92dWUtd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCB0b29scyBmcm9tICJAL3V0aWwvdG9vbHMuanMiOwppbXBvcnQgaTE4biBmcm9tICJAL2kxOG4vaTE4biI7CmltcG9ydCBhcGkgZnJvbSAiQC9hcGkvaW5kZXguanMiOwppbXBvcnQgc2RrIGZyb20gIkAvdXRpbC9zZGsvaW5kZXguanMiOwppbXBvcnQgdXRpbF93ZWIzIGZyb20gIkAvdXRpbC93ZWIzL2luZGV4LmpzIjsKaW1wb3J0IHsgZ2V0TG9jYWxTdG9yYWdlLCByZW1vdmVMb2NhbFN0b3JhZ2UgfSBmcm9tICJAL3V0aWwvbG9jYWwtc3RvcmFnZS5qcyI7CmltcG9ydCBCaWdOdW1iZXIgZnJvbSAiYmlnbnVtYmVyLmpzIjsKCmZ1bmN0aW9uIGdldEFjdGl2ZU5ldHdvcmsocmVzdWx0LCBuZXR3b3JrcykgewogIHZhciBuZXR3b3JrID0gbnVsbDsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXR3b3Jrcy5sZW5ndGg7IGkrKykgewogICAgdmFyIF9uZXR3b3JrID0gbmV0d29ya3NbaV07CgogICAgaWYgKHJlc3VsdC5uZXR3b3JrSWQgPT0gX25ldHdvcmsuY2hhbm5lbElkKSB7CiAgICAgIG5ldHdvcmsgPSBfbmV0d29yazsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbmV0d29yazsKfQoKZXhwb3J0IGRlZmF1bHQgewogIGNvbmZpZzogZnVuY3Rpb24gY29uZmlnKF9yZWYpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBhcGkoImNvbmZpZy5mZXRjaCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmICh0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgIGNvbW1pdCgiQ09ORklHIiwgcmVzLmRhdGEpOwogICAgICAgIH0KCiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgZ2FzVHJhY2tlcjogZnVuY3Rpb24gZ2FzVHJhY2tlcihfcmVmMikgewogICAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgYXBpKCJjb25maWcuZ2FzVHJhY2tlciIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmICh0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgIGNvbW1pdCgiR0FTX1RSQUNLRVIiLCByZXMuZGF0YSk7CiAgICAgICAgfQoKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICByZWxvYWQ6IGZ1bmN0aW9uIHJlbG9hZChfcmVmMykgewogICAgdmFyIHN0YXRlID0gX3JlZjMuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0LAogICAgICAgIGRpc3BhdGNoID0gX3JlZjMuZGlzcGF0Y2g7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgaXRlbXMgPSBnZXRMb2NhbFN0b3JhZ2UoIkF1dGhvcml6YXRpb24iKTsKCiAgICAgIGlmIChpdGVtcy5BdXRob3JpemF0aW9uKSB7CiAgICAgICAgYXBpKCJ1c2VyLnJlbG9hZCIpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIGlmICh0b29scy5jaGVja1Jlc3BvbnNlKHJlc3BvbnNlKSkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLnVzZXIuY29pbmJhc2UgIT0gcmVzcG9uc2UuZGF0YS51c2VyLmFkZHJlc3MudG9Mb2NhbGVMb3dlckNhc2UoKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVMb2NhbFN0b3JhZ2UoIkF1dGhvcml6YXRpb24iKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjb21taXQoIlJFTE9BRCIpOwogICAgICAgICAgICAgICAgICAgICAgICBjb21taXQoIlVTRVJJTkZPIiwgcmVzcG9uc2UuZGF0YS51c2VyKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goImhlYXJ0YmVhdCIpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICByZW1vdmVMb2NhbFN0b3JhZ2UoIkF1dGhvcml6YXRpb24iKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgIH0pKTsKCiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfTsKICAgICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJlbW92ZUxvY2FsU3RvcmFnZSgiQXV0aG9yaXphdGlvbiIpOwogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9CiAgICB9KTsKICB9LAogIHVwZGF0ZVBheVRva2VuOiBmdW5jdGlvbiB1cGRhdGVQYXlUb2tlbihfcmVmNSwgcGF5VG9rZW4pIHsKICAgIHZhciBzdGF0ZSA9IF9yZWY1LnN0YXRlLAogICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdCwKICAgICAgICBkaXNwYXRjaCA9IF9yZWY1LmRpc3BhdGNoOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgaWYgKHBheVRva2VuLmFkZHJlc3MgPT0gc2RrLk5VTExfQUREUkVTUygpKSB7CiAgICAgICAgZGlzcGF0Y2goImV0aEJhbGFuY2UiKTsKICAgICAgfSBlbHNlIGlmICghcGF5VG9rZW4udG9rZW5JZCB8fCAhcGFyc2VJbnQocGF5VG9rZW4udG9rZW5JZCkpIHsKICAgICAgICBkaXNwYXRjaCgiZXJjMjBCYWxhbmNlIiwgcGF5VG9rZW4pOwogICAgICB9IGVsc2UgewogICAgICAgIGRpc3BhdGNoKCJuZnRCYWxhbmNlIiwgcGF5VG9rZW4pOwogICAgICB9CiAgICB9KTsKICB9LAogIHBheVRva2VuczogZnVuY3Rpb24gcGF5VG9rZW5zKF9yZWY2KSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmNi5zdGF0ZSwKICAgICAgICBjb21taXQgPSBfcmVmNi5jb21taXQsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNi5kaXNwYXRjaDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGFwaSgicGF5dG9rZW4ubGlzdCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmICh0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgIGNvbW1pdCgiUEFZVE9LRU5TIiwgcmVzLmRhdGEpOwogICAgICAgICAgZGlzcGF0Y2goImFsbEJhbGFuY2UiKTsKICAgICAgICB9CgogICAgICAgIHJlc29sdmUocmVzKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIGJsaW5kUGF5VG9rZW5zOiBmdW5jdGlvbiBibGluZFBheVRva2VucyhfcmVmNykgewogICAgdmFyIHN0YXRlID0gX3JlZjcuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZjcuY29tbWl0LAogICAgICAgIGRpc3BhdGNoID0gX3JlZjcuZGlzcGF0Y2g7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBhcGkoImJsaW5kLnBheXRva2VuLmxpc3QiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAodG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICBjb21taXQoIkJMSU5EX1BBWVRPS0VOUyIsIHJlcy5kYXRhLmxpc3QpOwogICAgICAgICAgZGlzcGF0Y2goImFsbEJsaW5kQmFsYW5jZSIpOwogICAgICAgIH0KCiAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgY2F0ZWdvcnlzOiBmdW5jdGlvbiBjYXRlZ29yeXMoX3JlZjgpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWY4LnN0YXRlLAogICAgICAgIGNvbW1pdCA9IF9yZWY4LmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGFwaSgiY2F0ZWdvcnkubGlzdCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmICh0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgIGNvbW1pdCgiQ0FURUdPUllTIiwgcmVzLmRhdGEpOwogICAgICAgIH0KCiAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjkpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWY5LnN0YXRlLAogICAgICAgIGNvbW1pdCA9IF9yZWY5LmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGNvbW1pdCgiTE9HT1VUIik7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0sCiAgdW5yZWFkTm90aWNlOiBmdW5jdGlvbiB1bnJlYWROb3RpY2UoX3JlZjEwKSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmMTAuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZjEwLmNvbW1pdCwKICAgICAgICBnZXR0ZXJzID0gX3JlZjEwLmdldHRlcnM7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBhcGkoIm5vdGljZS51bnJlYWQiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAodG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICBjb21taXQoIk5PVElDRV9VTlJFQUQiLCByZXMuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0sCiAgYWxsQmFsYW5jZTogZnVuY3Rpb24gYWxsQmFsYW5jZShfcmVmMTEpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWYxMS5zdGF0ZSwKICAgICAgICBjb21taXQgPSBfcmVmMTEuY29tbWl0LAogICAgICAgIGdldHRlcnMgPSBfcmVmMTEuZ2V0dGVycywKICAgICAgICBkaXNwYXRjaCA9IF9yZWYxMS5kaXNwYXRjaDsKICAgIHJldHVybiBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYxMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIGksIHRva2VuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RhdGUucGF5VG9rZW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHRva2VuID0gc3RhdGUucGF5VG9rZW5zW2ldOwoKICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLmFkZHJlc3MgPT0gc2RrLk5VTExfQUREUkVTUygpKSB7CiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goImV0aEJhbGFuY2UiKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgiZXJjMjBCYWxhbmNlIiwgdG9rZW4pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyLCBfeDMpIHsKICAgICAgICByZXR1cm4gX3JlZjEyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkpOwogIH0sCiAgYWxsQmxpbmRCYWxhbmNlOiBmdW5jdGlvbiBhbGxCbGluZEJhbGFuY2UoX3JlZjEzKSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmMTMuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZjEzLmNvbW1pdCwKICAgICAgICBnZXR0ZXJzID0gX3JlZjEzLmdldHRlcnMsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMTMuZGlzcGF0Y2g7CiAgICByZXR1cm4gbmV3IFByb21pc2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMTQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciBpLCB0b2tlbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaSA9IDA7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIGlmICghKGkgPCBzdGF0ZS5ibGluZFBheVRva2Vucy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRva2VuID0gc3RhdGUuYmxpbmRQYXlUb2tlbnNbaV07CgogICAgICAgICAgICAgICAgaWYgKCEodG9rZW4uYWRkcmVzcyA9PSBzZGsuTlVMTF9BRERSRVNTKCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGlzcGF0Y2goImV0aEJhbGFuY2UiKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJjb250aW51ZSIsIDEwKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHRva2VuLnRva2VuSWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gZXJjMjAKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCJlcmMyMEJhbGFuY2UiLCB0b2tlbik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgiY29udGludWUiLCAxMCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCJuZnRCYWxhbmNlIiwgdG9rZW4pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCwgX3g1KSB7CiAgICAgICAgcmV0dXJuIF9yZWYxNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpKTsKICB9LAogIGV0aEJhbGFuY2U6IGZ1bmN0aW9uIGV0aEJhbGFuY2UoX3JlZjE1KSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmMTUuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZjE1LmNvbW1pdCwKICAgICAgICBnZXR0ZXJzID0gX3JlZjE1LmdldHRlcnM7CiAgICByZXR1cm4gbmV3IFByb21pc2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMTYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciBhc3NldCwgb3duZXIsIGJhbGFuY2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGFzc2V0ID0gewogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBzZGsuTlVMTF9BRERSRVNTKCkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBvd25lciA9IHN0YXRlLnVzZXIuY29pbmJhc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gc2RrLmdldEJhbGFuY2UoYXNzZXQsIG93bmVyKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgYmFsYW5jZSA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghYmFsYW5jZS5lcnJvcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCByZXNvbHZlKCkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBjb21taXQoIkVUSF9CQUxBTkNFIiwgYmFsYW5jZSk7CiAgICAgICAgICAgICAgICByZXNvbHZlKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g2LCBfeDcpIHsKICAgICAgICByZXR1cm4gX3JlZjE2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkpOwogIH0sCiAgZXJjMjBCYWxhbmNlOiBmdW5jdGlvbiBlcmMyMEJhbGFuY2UoX3JlZjE3LCBwYXlUb2tlbikgewogICAgdmFyIHN0YXRlID0gX3JlZjE3LnN0YXRlLAogICAgICAgIGNvbW1pdCA9IF9yZWYxNy5jb21taXQsCiAgICAgICAgZ2V0dGVycyA9IF9yZWYxNy5nZXR0ZXJzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjE4ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgYXNzZXQsIG93bmVyLCBiYWxhbmNlLCBkZWNpbWFsLCBwYXlsb2FkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhc3NldCA9IHsKICAgICAgICAgICAgICAgICAgYWRkcmVzczogcGF5VG9rZW4uYWRkcmVzcwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIG93bmVyID0gc3RhdGUudXNlci5jb2luYmFzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBzZGsuZ2V0QmFsYW5jZShhc3NldCwgb3duZXIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBiYWxhbmNlID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFiYWxhbmNlLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHJlc29sdmUoKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGJhbGFuY2UgPSBuZXcgQmlnTnVtYmVyKGJhbGFuY2UudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICBkZWNpbWFsID0gbmV3IEJpZ051bWJlcigxMCkuZXhwb25lbnRpYXRlZEJ5KHBheVRva2VuLmRlY2ltYWxzKTsKICAgICAgICAgICAgICAgIGJhbGFuY2UgPSBiYWxhbmNlLmRpdmlkZWRCeShkZWNpbWFsKS50b0ZpeGVkKCk7CiAgICAgICAgICAgICAgICBwYXlsb2FkID0ge307CiAgICAgICAgICAgICAgICBwYXlsb2FkW3BheVRva2VuLmFkZHJlc3MudG9Mb2NhbGVMb3dlckNhc2UoKV0gPSBiYWxhbmNlOwogICAgICAgICAgICAgICAgY29tbWl0KCJFUkMyMF9CQUxBTkNFIiwgcGF5bG9hZCk7CiAgICAgICAgICAgICAgICByZXNvbHZlKCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94OCwgX3g5KSB7CiAgICAgICAgcmV0dXJuIF9yZWYxOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpKTsKICB9LAogIG5mdEJhbGFuY2U6IGZ1bmN0aW9uIG5mdEJhbGFuY2UoX3JlZjE5LCBwYXl0b2tlbikgewogICAgdmFyIHN0YXRlID0gX3JlZjE5LnN0YXRlLAogICAgICAgIGNvbW1pdCA9IF9yZWYxOS5jb21taXQsCiAgICAgICAgZ2V0dGVycyA9IF9yZWYxOS5nZXR0ZXJzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIwID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgb3duZXIsIGJhbGFuY2UsIHBheWxvYWQsIGtleTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgb3duZXIgPSBzdGF0ZS51c2VyLmNvaW5iYXNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHNkay5nZXRORlRCYWxhbmNlKHBheXRva2VuLCBvd25lcik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGJhbGFuY2UgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIWJhbGFuY2UuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgcmVzb2x2ZSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgYmFsYW5jZSA9IGJhbGFuY2UudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIHBheWxvYWQgPSB7fTsKICAgICAgICAgICAgICAgIGtleSA9IHBheXRva2VuLmFkZHJlc3MgKyAiOiIgKyBwYXl0b2tlbi50b2tlbklkOwogICAgICAgICAgICAgICAgcGF5bG9hZFtrZXldID0gYmFsYW5jZTsKICAgICAgICAgICAgICAgIGNvbW1pdCgiTkZUX0JBTEFOQ0UiLCBwYXlsb2FkKTsKICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxMCwgX3gxMSkgewogICAgICAgIHJldHVybiBfcmVmMjAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSk7CiAgfSwKICBhdXRoaW5mbzogZnVuY3Rpb24gYXV0aGluZm8oX3JlZjIxKSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmMjEuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZjIxLmNvbW1pdCwKICAgICAgICBkaXNwYXRjaCA9IF9yZWYyMS5kaXNwYXRjaDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGFkZHJlc3M6IHN0YXRlLnVzZXIuY29pbmJhc2UKICAgICAgfTsKICAgICAgYXBpKCJ1c2VyLmluZm8iLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAodG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICB2YXIgX2RhdGEgPSBPYmplY3QuYXNzaWduKHt9LCByZXMuZGF0YSwgewogICAgICAgICAgICBhZGRyZXNzOiBzdGF0ZS51c2VyLmNvaW5iYXNlCiAgICAgICAgICB9KTsKCiAgICAgICAgICBjb21taXQoIlVTRVJJTkZPIiwgX2RhdGEpOwogICAgICAgICAgZGlzcGF0Y2goImhlYXJ0YmVhdCIpOwogICAgICAgIH0KCiAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgaGVhcnRiZWF0OiBmdW5jdGlvbiBoZWFydGJlYXQoX3JlZjIyKSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmMjIuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZjIyLmNvbW1pdCwKICAgICAgICBkaXNwYXRjaCA9IF9yZWYyMi5kaXNwYXRjaDsKCiAgICBpZiAoc3RhdGUuaGVhcnRiZWF0VGltZXIpIHsKICAgICAgY2xlYXJUaW1lb3V0KHN0YXRlLmhlYXJ0YmVhdFRpbWVyKTsKICAgICAgY29tbWl0KCJIRUFSVEJFQVQiLCBudWxsKTsKICAgIH0KCiAgICBpZiAoIXN0YXRlLmNvbm5lY3RlZCkgcmV0dXJuOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgLy8gZGlzcGF0Y2goIm1vbml0b3JXZWIzIik7CiAgICAgIGRpc3BhdGNoKCJnYXNUcmFja2VyIik7CiAgICAgIGRpc3BhdGNoKCJhbGxCYWxhbmNlIik7CiAgICAgIGRpc3BhdGNoKCJhbGxCbGluZEJhbGFuY2UiKTsKICAgICAgdmFyIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZGlzcGF0Y2goImhlYXJ0YmVhdCIpOwogICAgICB9LCAyMDAwMCk7CiAgICAgIGNvbW1pdCgiSEVBUlRCRUFUIiwgdGltZXIpOwogICAgfSk7CiAgfSwKICBtb25pdG9yV2ViMzogZnVuY3Rpb24gbW9uaXRvcldlYjMoX3JlZjIzKSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmMjMuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZjIzLmNvbW1pdCwKICAgICAgICBkaXNwYXRjaCA9IF9yZWYyMy5kaXNwYXRjaDsKICAgIHJldHVybiBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB1dGlsX3dlYjMubW9uaXRvcldlYjMoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTIsIF94MTMpIHsKICAgICAgICByZXR1cm4gX3JlZjI0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkpOwogIH0sCiAgY29ubmVjdDogZnVuY3Rpb24gY29ubmVjdChfcmVmMjUsIGlzSW5pdCkgewogICAgdmFyIHN0YXRlID0gX3JlZjI1LnN0YXRlLAogICAgICAgIGNvbW1pdCA9IF9yZWYyNS5jb21taXQsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMjUuZGlzcGF0Y2g7CiAgICByZXR1cm4gbmV3IFByb21pc2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB1dGlsX3dlYjMuY29ubmVjdFdhbGxldCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5lcnJvcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghaXNJbml0KSB7CiAgICAgICAgICAgICAgICAgIHRvb2xzLm1lc3NhZ2UocmVzdWx0LmVycm9yKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgcmVzb2x2ZSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgY29tbWl0KCJDT05ORUNUIiwgcmVzdWx0KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgiYXV0aGluZm8iKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxNCwgX3gxNSkgewogICAgICAgIHJldHVybiBfcmVmMjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSk7CiAgfSwKICBzaWduTG9naW46IGZ1bmN0aW9uIHNpZ25Mb2dpbihfcmVmMjcsIHBheWxvYWQpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWYyNy5zdGF0ZSwKICAgICAgICBjb21taXQgPSBfcmVmMjcuY29tbWl0LAogICAgICAgIGRpc3BhdGNoID0gX3JlZjI3LmRpc3BhdGNoOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjI4ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOShyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgdXNlciwgc2lnbmF0dXJlLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1c2VyID0gcGF5bG9hZDsKICAgICAgICAgICAgICAgIGlmICghdXNlciB8fCAhdXNlci5jb2luYmFzZSkgdXNlciA9IHN0YXRlLnVzZXI7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbF93ZWIzLmxvZ2luV2FsbGV0KHVzZXIuY29pbmJhc2UpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBzaWduYXR1cmUgPSBfY29udGV4dDkuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXNpZ25hdHVyZS5lcnJvcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRvb2xzLm1lc3NhZ2VCb3goaTE4bi5nbG9iYWwudCgiZ2xvYmFsLmVyclNpZ25hdHVyZSIpLCBzaWduYXR1cmUuZXJyb3IpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIHJlc29sdmUoKSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVzZXJBZGRyZXNzOiB1c2VyLmNvaW5iYXNlLAogICAgICAgICAgICAgICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZS5zaWduYXR1cmUsCiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogc2lnbmF0dXJlLnRpbWVzdGFtcAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGFwaSgidXNlci5sb2dpbiIsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAodG9vbHMuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9kYXRhID0gT2JqZWN0LmFzc2lnbihyZXMuZGF0YSwgewogICAgICAgICAgICAgICAgICAgICAgd2FsbGV0VHlwZTogc3RhdGUud2ViMy53YWxsZXRUeXBlCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGNvbW1pdCgiTE9HSU4iLCBfZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goImF1dGhpbmZvIik7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDE2LCBfeDE3KSB7CiAgICAgICAgcmV0dXJuIF9yZWYyOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpKTsKICB9LAogIGNvbm5lY3RBbmRTaWduOiBmdW5jdGlvbiBjb25uZWN0QW5kU2lnbihfcmVmMjksIHR5cGUpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWYyOS5zdGF0ZSwKICAgICAgICBjb21taXQgPSBfcmVmMjkuY29tbWl0LAogICAgICAgIGRpc3BhdGNoID0gX3JlZjI5LmRpc3BhdGNoOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjMwID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIHJlc3VsdCwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbF93ZWIzLmNvbm5lY3RXYWxsZXQodHlwZSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTAuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5lcnJvcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0b29scy5tZXNzYWdlKHJlc3VsdC5lcnJvcik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIHJlc29sdmUoKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNvbW1pdCgiV0VCMyIsIHJlc3VsdCk7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBjb2luYmFzZTogcmVzdWx0LmNvaW5iYXNlLAogICAgICAgICAgICAgICAgICBuZXR3b3JrSWQ6IHJlc3VsdC5uZXR3b3JrSWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgic2lnbkxvZ2luIiwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxOCwgX3gxOSkgewogICAgICAgIHJldHVybiBfcmVmMzAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSk7CiAgfSwKICBjb3VudE5vdGljZXM6IGZ1bmN0aW9uIGNvdW50Tm90aWNlcyhfcmVmMzEpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWYzMS5zdGF0ZSwKICAgICAgICBjb21taXQgPSBfcmVmMzEuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgaWYgKCFzdGF0ZS5jb25uZWN0ZWQpIHJlc29sdmUoKTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgYWRkcmVzczogc3RhdGUudXNlci5jb2luYmFzZQogICAgICB9OwogICAgICBhcGkoIm5vdGljZS5jb3VudCIsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmICh0b29scy5jaGVja1Jlc3BvbnNlKHJlcykpIHsKICAgICAgICAgIGNvbW1pdCgiTUVTU0FHRSIsIHJlcy5kYXRhKTsKICAgICAgICB9CgogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIHVucmVhZE5vdGljZUJ5QWRkcmVzczogZnVuY3Rpb24gdW5yZWFkTm90aWNlQnlBZGRyZXNzKF9yZWYzMikgewogICAgdmFyIHN0YXRlID0gX3JlZjMyLnN0YXRlLAogICAgICAgIGNvbW1pdCA9IF9yZWYzMi5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBhZGRyZXNzOiBzdGF0ZS51c2VyLmNvaW5iYXNlCiAgICAgIH07CiAgICAgIGFwaSgibm90aWNlLmNvdW50dW5yZWFkIiwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHRvb2xzLmNoZWNrUmVzcG9uc2UocmVzKSkgewogICAgICAgICAgY29tbWl0KCJOT1RJQ0VfVU5SRUFEIiwgcmVzLmRhdGEpOwogICAgICAgIH0KCiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgZGlzY29ubmVjdDogZnVuY3Rpb24gZGlzY29ubmVjdChfcmVmMzMpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWYzMy5zdGF0ZSwKICAgICAgICBjb21taXQgPSBfcmVmMzMuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgY29tbWl0KCJESVNDT05ORUNUIik7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0sCiAgc2V0Q3VycmVudFZpZXc6IGZ1bmN0aW9uIHNldEN1cnJlbnRWaWV3KF9yZWYzNCwgbmV3Um91dGUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMzQuY29tbWl0OwogICAgY29tbWl0KCJzZXRDdXJyZW50VmlldyIsIG5ld1JvdXRlKTsKICB9LAogIC8v5pS55Y+Y5b2T5YmN6Lev55SxCiAgY2hhbmdlQ3VycmVudFJvdXRlVG86IGZ1bmN0aW9uIGNoYW5nZUN1cnJlbnRSb3V0ZVRvKF9yZWYzNSwgbmV3Um91dGUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMzUuY29tbWl0OwogICAgY29tbWl0KCJjaGFuZ2VDdXJyZW50Um91dGVUbyIsIG5ld1JvdXRlKTsKICB9Cn07"},null]}